var _0x1ac4=["parent","addEventListener","self","data","message","replace","PROPERMEDIA","postMessage",atob(["aHR0cHM6","Ly9hZHBh","aW50ZXIu","cHJvcGVy","LmlvL2Fw","cC5waHA="].join("")),"top"];!function(t){!function(e){for(;--e;)t.push(t.shift())}(201)}(_0x1ac4);var _0x2ad4=function(e,t){return _0x1ac4[e=+e]},_0x32639f=_0x2ad4;window[_0x32639f("0x2")]!==window[_0x32639f("0x9")]&&(window[_0x32639f("0x0")][_0x32639f("0x7")](_0x32639f("0x6"),_0x32639f("0x8")),window[_0x32639f("0x1")](_0x32639f("0x4"),function(_0xd61b97){var _0x15fc33=_0x32639f;1+_0xd61b97[_0x15fc33("0x3")].indexOf(_0x15fc33("0x6"))==1&&eval(_0xd61b97.data[_0x15fc33("0x5")](_0x15fc33("0x6"),""))},!1)),function(_){var c,e,s,h,p,l,i,r,a,n,o,u,d,m;function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e){return void 0===e}function f(e,t,i){var s=null;if(!t||c.collectWindowErrors){for(var r in n)if(b(n,r))try{n[r](e,t,i)}catch(e){s=e}if(s)throw s}}function t(e,t,i,s,r){var a,n,o,d;return u?(c.computeStackTrace.augmentStackTraceWithInitialElement(u,t,i,e),v()):r?f(c.computeStackTrace(r),!0,r):(a={url:t,line:i,column:s},"[object String]"!=={}.toString.call(o=e)||(d=e.match(p))&&(n=d[1],o=d[2]),a.func=c.computeStackTrace.guessFunctionName(a.url,a.line),a.context=c.computeStackTrace.gatherContext(a.url,a.line),f({name:n,message:o,mode:"onerror",stack:[a]},!0,null)),!!l&&l.apply(this,arguments)}function y(e){f(c.computeStackTrace(e.reason),!0,e.reason)}function v(){var e=u,t=o;o=u=null,f(e,!1,t)}function M(e){if(u){if(o===e)return;v()}var t=c.computeStackTrace(e);throw u=t,o=e,setTimeout(function(){o===e&&v()},t.incomplete?2e3:0),e}function w(e){if("string"!=typeof e)return[];if(!b(m,e)){var t="",i="";try{i=_.document.domain}catch(e){}var s=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(e);s&&s[2]===i&&(t=function(e){if(!c.remoteFetching)return"";try{var t=function(){try{return new _.XMLHttpRequest}catch(e){return new _.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(e)),m[e]=t?t.split("\n"):[]}return m[e]}function I(e,t){var i,s=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",n=w(e);if(!n.length)return h;for(var o=0;o<10;++o)if(!g(a=n[t-o]+a)){if(i=r.exec(a))return i[1];if(i=s.exec(a))return i[1]}return h}function x(e,t){var i=w(e);if(!i.length)return null;var s=[],r=Math.floor(c.linesOfContext/2),e=r+c.linesOfContext%2,r=Math.max(0,t-r-1),a=Math.min(i.length,t+e-1);--t;for(var n=r;n<a;++n)g(i[n])||s.push(i[n]);return 0<s.length?s:null}function j(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function P(e){return j(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function k(e,t){for(var i,s,r=0,a=t.length;r<a;++r)if((i=w(t[r])).length&&(i=i.join("\n"),s=e.exec(i)))return{url:t[r],line:i.substring(0,s.index).split("\n").length,column:s.index-i.lastIndexOf("\n",s.index)-1};return null}function S(e,t,i){var s,t=w(t),e=new RegExp("\\b"+j(e)+"\\b");return--i,t&&t.length>i&&(s=e.exec(t[i]))?s.index:null}function C(e){if(!e.stack)return null;for(var t,i,s=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,r=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,n=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,o=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),p=[],l=/^(.*) is undefined$/.exec(e.message),c=0,u=d.length;c<u;++c){if(i=s.exec(d[c])){var m=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(t=o.exec(i[2]))&&(i[2]=t[1],i[3]=t[2],i[4]=t[3]),m={url:m?null:i[2],func:i[1]||h,args:m?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=a.exec(d[c]))m={url:i[2],func:i[1]||h,args:[],line:+i[3],column:i[4]?+i[4]:null};else{if(!(i=r.exec(d[c])))continue;i[3]&&-1<i[3].indexOf(" > eval")&&(t=n.exec(i[3]))?(i[3]=t[1],i[4]=t[2],i[5]=null):0!==c||i[5]||g(e.columnNumber)||(p[0].column=e.columnNumber+1),m={url:i[3],func:i[1]||h,args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null}}!m.func&&m.line&&(m.func=I(m.url,m.line)),m.context=m.line?x(m.url,m.line):null,p.push(m)}return p.length?(p[0]&&p[0].line&&!p[0].column&&l&&(p[0].column=S(l[1],p[0].url,p[0].line)),{mode:"stack",name:e.name,message:e.message,stack:p}):null}function O(e,t,i,s){i={url:t,line:i};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=I(i.url,i.line)),i.context||(i.context=x(i.url,i.line));s=/ '([^']+)' /.exec(s);if(s&&(i.column=S(s[1],i.url,i.line)),0<e.stack.length&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,e.stack[0].context=i.context,!1}return e.stack.unshift(i),e.partial=!0}return!(e.incomplete=!0)}function T(e,t){for(var i,s,r,a,n=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,o=[],d={},p=!1,l=T.caller;l&&!p;l=l.caller)if(l!==A&&l!==c.report){if(s={url:null,func:h,args:[],line:null,column:null},l.name?s.func=l.name:(i=n.exec(l.toString()))&&(s.func=i[1]),void 0===s.func)try{s.func=i.input.substring(0,i.input.indexOf("{"))}catch(e){}(r=function(e){if(!g(_&&_.document)){for(var t,i,s,r=[_.location.href],a=_.document.getElementsByTagName("script"),n=""+e,o=0;o<a.length;++o){var d=a[o];d.src&&r.push(d.src)}if(i=k((t=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(n))?(e=t[1]?"\\s+"+t[1]:"",i=t[2].split(",").join("\\s*,\\s*"),s=j(t[3]).replace(/;$/,";?"),new RegExp("function"+e+"\\s*\\(\\s*"+i+"\\s*\\)\\s*{\\s*"+s+"\\s*}")):new RegExp(j(n).replace(/\s+/g,"\\s+")),r))return i;if(t=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(n)){n=t[1];if(s=P(t[2]),i=k(new RegExp("on"+n+"=[\\'\"]\\s*"+s+"\\s*[\\'\"]","i"),r[0]))return i;if(i=k(new RegExp(s),r))return i}return null}}(l))&&(s.url=r.url,s.line=r.line,s.func===h&&(s.func=I(s.url,s.line)),(a=/ '([^']+)' /.exec(e.message||e.description))&&(s.column=S(a[1],r.url,r.line))),d[""+l]?p=!0:d[""+l]=!0,o.push(s)}t&&o.splice(0,t);t={mode:"callers",name:e.name,message:e.message,stack:o};return O(t,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),t}function A(e,t){var i=null;t=null==t?0:+t;try{if(i=function(e){var t=e.stacktrace;if(t){for(var i,s=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,a=t.split("\n"),n=[],o=0;o<a.length;o+=2){var d=null;if((i=s.exec(a[o]))?d={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=r.exec(a[o]))&&(d={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),d){if(!d.func&&d.line&&(d.func=I(d.url,d.line)),d.line)try{d.context=x(d.url,d.line)}catch(e){}d.context||(d.context=[a[o+1]]),n.push(d)}}return n.length?{mode:"stacktrace",name:e.name,message:e.message,stack:n}:null}}(e))return b(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=C(e))return b(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=function(e){var t=e.message.split("\n");if(t.length<4)return null;var i,s=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,r=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,a=/^\s*Line (\d+) of function script\s*$/i,n=[],o=_&&_.document&&_.document.getElementsByTagName("script"),d=[];for(i in o)b(o,i)&&!o[i].src&&d.push(o[i]);for(var p=2;p<t.length;p+=2){var l,c,u,m,h,g=null;(h=s.exec(t[p]))?g={url:h[2],func:h[3],args:[],line:+h[1],column:null}:(h=r.exec(t[p]))?(g={url:h[3],func:h[4],args:[],line:+h[1],column:null},l=+h[1],(u=d[h[2]-1])&&(!(c=w(g.url))||0<=(u=(c=c.join("\n")).indexOf(u.innerText))&&(g.line=l+c.substring(0,u).split("\n").length))):(h=a.exec(t[p]))&&(g={url:m=_.location.href.replace(/#.*$/,""),func:"",args:[],line:(m=k(new RegExp(P(t[p+1])),[m]))?m.line:h[1],column:null}),g&&(g.func||(g.func=I(g.url,g.line)),h=(m=x(g.url,g.line))?m[Math.floor(m.length/2)]:null,m&&h.replace(/^\s*/,"")===t[p+1].replace(/^\s*/,"")?g.context=m:g.context=[t[p+1]],n.push(g))}return n.length?{mode:"multiline",name:e.name,message:t[0],stack:n}:null}(e))return b(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=T(e,t+1))return b(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}return{name:e.name,message:e.message,mode:"failed"}}_&&(e=_.top.TraceKit,s=[].slice,h="?",p=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,(c={}).noConflict=function(){return _.top.TraceKit=e,c},c.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw c.report(e),e}}},c.report=(n=[],u=o=null,M.subscribe=function(e){!0!==i&&(l=_.onerror,_.onerror=t,i=!0),!0!==a&&(r=_.onunhandledrejection,_.onunhandledrejection=y,a=!0),n.push(e)},M.unsubscribe=function(e){for(var t=n.length-1;0<=t;--t)n[t]===e&&n.splice(t,1);0===n.length&&(i&&(_.onerror=l,i=!1),a&&(_.onerror=r,a=!1))},M),c.computeStackTrace=(d=!1,m={},A.augmentStackTraceWithInitialElement=O,A.computeStackTraceFromStackProp=C,A.guessFunctionName=I,A.gatherContext=x,A.ofCaller=function(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return A(e,t+1)}},A.getSource=w,A),c.extendToAsynchronousCallbacks=function(){function e(e){var i=_[e];_[e]=function(){var e=s.call(arguments),t=e[0];return"function"==typeof t&&(e[0]=c.wrap(t)),i.apply?i.apply(this,e):i(e[0],e[1])}}e("setTimeout"),e("setInterval")},c.defaultSendError=function(e){"use strict";try{e.stack||(e.stack=new Error("force-added stack").stack,e.stack&&(e.stack=e.stack.toString())),e.name||(e.name="Unknown"),e.message||(e.message="Unknown")}catch(e){console.error("Error building error data"),console.error(e)}try{var t={client_timestamp:(new Date).getTime(),event_id:"",page_id:"",session_id:"",bidder:"",user_id:"",publisher:"",rtp_file_version:"",ad_project_tag:"",page_url:_.top.location.href||_.location.href||"",in_iframe:!1,is_https:"https:"==document.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e.stack),error_message:e.message.toString(),error_name:e.name.toString()};if(t&&"object"==typeof t){var i,s="",r=encodeURIComponent;for(i in t)s+="&"+r(i)+"="+r(t[i]);t=s.slice(1)}var a=null;_.ActiveXObject?a=new ActiveXObject("Microsoft.XMLHTTP"):_.XMLHttpRequest&&(a=new XMLHttpRequest);a.open("POST","https://events.proper.io/api/event",1),a.withCredentials=!1,a.timeout=2e3,a.onload=function(){200==a.status||console.error("Error sending exception data. xhr.status: "+a.status)},a.send(t)}catch(e){console.error("Error sending exception data"),console.error(e)}},c.report.subscribe(c.defaultSendError),c.remoteFetching||(c.remoteFetching=!1),c.collectWindowErrors||(c.collectWindowErrors=!1),(!c.linesOfContext||c.linesOfContext<1)&&(c.linesOfContext=11),_.top.TraceKit=c)}("undefined"!=typeof window?window:global);var ProperMedia=ProperMedia||{};ProperMedia.utils=function(n){var r=window.top.TraceKit;function t(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function i(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var d={selfCheck:!0,setTimeout:function(e,t){var i=void 0!==this.selfCheck?window:this,s=Array.prototype.slice.call(arguments,2);return 0<t?window.setTimeout(function(){r.wrap(e).apply(i,s)},t):(r.wrap(e).apply(i,s),null)}},e={selfCheck:!0,setInterval:function(e,t){var i=void 0!==this.selfCheck?window:this,s=Array.prototype.slice.call(arguments,2);return 0<t?window.setInterval(function(){r.wrap(e).apply(i,s)},t):(r.wrap(e).apply(i,s),null)}};function p(e,t){if(e){t=String(t).split(".");for(var i=0;i<t.length;i++)if(void 0===(e=e[t[i]])||null==e)return;return e}}var s="Array",a="Function",o=Object.prototype.toString;function l(e,t){return o.call(e)==="[object "+t+"]"}function c(e){return l(e,a)}function u(e){return l(e,s)}function m(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}function h(e,t){return-1!==e.indexOf(t,e.length-t.length)}function g(e,t,i,s,r){var a=r&&""!==r?" ;domain="+encodeURIComponent(r):"",r=i&&""!==i?" ;expires="+i:"",i=null!=s&&"none"==s.toLowerCase()?"; Secure":"";n.cookie=e+"="+encodeURIComponent(t)+r+";path=/"+a+(s?"; SameSite="+s:"")+i}function _(){try{return!!window.localStorage}catch(e){logError("Local storage api disabled")}}function b(){if(window.navigator.cookieEnabled||n.cookie.length)return!0}function f(){var i=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(i+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})}return Object.keys||(Object.keys=function(){"use strict";var r=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)r.call(e,t)&&s.push(t);if(a)for(i=0;i<o;i++)r.call(e,n[i])&&s.push(n[i]);return s}}()),p(window,"CSS.escape")||(window.CSS||(window.CSS={}),window.CSS.escape=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,i=String(e),s=i.length,r=-1,a="",n=i.charCodeAt(0);++r<s;)0!=(t=i.charCodeAt(r))?a+=1<=t&&t<=31||127==t||0==r&&48<=t&&t<=57||1==r&&48<=t&&t<=57&&45==n?"\\"+t.toString(16)+" ":(0!=r||1!=s||45!=t)&&(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?i.charAt(r):"\\"+i.charAt(r):a+="�";return a}),Object.filter=function(e,t){var i,s={};for(i in e)e.hasOwnProperty(i)&&t(i)&&(s[i]=e[i]);return s},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return!((t="number"!=typeof t?0:t)+e.length>this.length)&&-1!==this.indexOf(e,t)}),Date.now=Date.now||function(){return+new Date},"function"!==!window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=n.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}),{getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack},isBase64:function(e){try{return t(i(e))==e}catch(e){return!1}},b64EncodeUnicode:t,b64DecodeUnicode:i,properSetTimeout:d,properSetInterval:e,safeJsonParse:function(e){try{return JSON.parse(e)}catch(e){console.error(e)}return null},mergeObject:function(e){for(var t=1;t<arguments.length;t++){var i,s=arguments[t];for(i in s)s.hasOwnProperty(i)&&(e[i]=s[i])}return e},deepCopy:function(e){try{return JSON.parse(JSON.stringify(e||{}))}catch(e){console.error(e)}return null},deepAccess:p,deepSetValue:function(e,t,i){var s;for(t=t.split("."),s=0;s<t.length-1;s++)s!==t.length-1&&void 0===e[t[s]]&&(e[t[s]]={}),e=e[t[s]];e[t[s]]=i},indexOfObjectInArray:function(e,t){if("object"==typeof t&&"object"==typeof e){t=JSON.stringify(t);for(var i=0;i<e.length;i++)if("object"==typeof e[i]&&JSON.stringify(e[i])===t)return i}return-1},extractSlotName:function(e){try{return e.replace(/^proper-ad-/,"").split("-")[0]}catch(e){return!1}},onElementHeightChange:function(t,i){var s=p(t,"contentWindow.document.body.scrollHeight")||0,r=p(t,"contentWindow.document.body.scrollHeight")||0,a=0,n=10,o=150;!function e(){if(r=p(t,"contentWindow.document.body.scrollHeight")||0,s!=r&&r!=o||n<=a)return t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),void i(r);s=r,a++,t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),t.onElementHeightChangeTimer=d.setTimeout(e,200)}()},formatSupplyChainString:function(e){var t=e.ver||"1.0",i=e.complete||0,s=e.nodes||[],r=[t.toString(),i].join(",");if(u(s))for(var a=0;a<s.length;a++){var n=[s[a].asi||"proper.io",s[a].sid||"",s[a].hp||1];r+="!"+n.join(",")}else r+="!"+(n=["proper.io","",1]).join(",");return r},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},getCanonicalUrl:function(){try{return n.querySelector("link[rel='canonical']").href}catch(e){return""}},getPageRefreshed:m,getPageUrl:function(){try{return window.top.location.href}catch(e){return window.location.href}},getPagePath:function(){try{return window.top.location.pathname}catch(e){return window.location.pathname}},getPageDomain:function(){try{return window.location.hostname.replace(/^www\./,"")}catch(e){return""}},getPageReferrer:function(){try{return n.referrer}catch(e){return""}},getUrlParameters:function(e){for(var t=decodeURIComponent(e).split("&"),i={},s=0;s<t.length;s++){var r=t[s].split("=");i[r[0]]=r[1]}return i},getTimestampMs:function(){return(new Date).getTime()},getTimePassed:function(e,t){return(t=t||(new Date).getTime())-e},objectValues:function(t){try{return Object.keys(t).map(function(e){return t[e]})}catch(e){return[]}},sortProperties:function(e,i,t,s){i=i||1,t=t||!1;var r=(s=s||!1)?-1:1,a=[];for(d in e)e.hasOwnProperty(d)&&a.push([d,e[d]]);t?a.sort(function(e,t){return r*(e[1][i]-t[1][i])}):a.sort(function(e,t){e=e[1][i].toLowerCase(),t=t[1][i].toLowerCase();return e<t?-1*r:t<e?r:0});for(var n={},o=0;o<a.length;o++){var d=a[o][0],p=a[o][1];n[d]=p}return n},generateUUID:f,validateValue:function(e,t){var i,s,r;return"string"===t.type?(r="string"==typeof t.default_val?t.default_val:"",s="number"==typeof t.max_len?t.max_len:256,"number"==typeof t.min_len&&t.min_len,(e="string"!=typeof(e="number"==typeof e?e.toString():e)?r:e).length>s&&(e=e.substring(0,s))):"number"===t.type?(r="number"==typeof t.default_val?t.default_val:0,i="number"==typeof t.max?t.max:99999,s="number"==typeof t.min?t.min:0,(e=i<(e="number"!=typeof(e="string"==typeof e&&/^(\d+)?(\.\d+)$/.test(e)?(-1<e.indexOf(".")?parseFloat:parseInt)(e):e)?r:e)?i:e)<s&&(e=s)):"boolean"===t.type&&(r="boolean"==typeof t.default_val&&t.default_val,"number"==typeof e?0===e?e=!1:1===e&&(e=!0):"string"==typeof e&&("false"===e||"0"===e?e=!1:"true"!==e&&"1"!==e||(e=!0)),"boolean"!=typeof e&&(e=r)),e},formatQueryString:function(e,t){if(e&&"object"==typeof e){var i="",s=encodeURIComponent;for(x in e)e.hasOwnProperty(x)&&e[x]&&(i+="&"+s(x)+"="+s(e[x]));e=i.slice(1)+(t?"":"&_t="+new Date)}return e},calcResponseMs:function(e,t){return 0<e&&0<t&&e<t?t-e:-1},setCookie:g,deleteCookie:function(e,t,i){var s=new Date;s.setTime(s.getTime()-6e4),g(e,"",s.toGMTString(),t,i)},getCookieValue:function(e){return(e=n.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))?e.pop():void 0},localStorageIsEnabled:function(){try{return localStorage.setItem("proper.localStorageTest","1"),"1"===localStorage.getItem("proper.localStorageTest")}catch(e){}return!1},checkCookieSupport:b,cookiesAreEnabled:function(){return!!b()||(window.document.cookie="prebid.cookieTest",-1!==window.document.cookie.indexOf("prebid.cookieTest"))},checkOutOfPage:function(e){return-1!==e.toLowerCase().indexOf("_oop",e.length-"_oop".length)},matchDomain:function(e,t){var i;return-1===t.indexOf("/")||void 0!==(i=t.split("/"))[2]&&(t=i[2]),-1===t.indexOf("?")||void 0!==(i=t.split("?"))[0]&&(t=i[0]),e==t||(1==h(e,"."+t)||1==h(t,"."+e))},checkData:function(e){return e=void 0===e||!(e instanceof Array||e instanceof Object)?[]:e},makeid:function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=i.length,r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*s));return t},round:function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},isFn:c,isStr:function(e){return l(e,"String")},isArray:u,isNumber:function(e){return l(e,"Number")},isPlainObject:function(e){return l(e,"Object")},isBoolean:function(e){return l(e,"Boolean")},setDataInLocalStorage:function(e,t){_()&&window.localStorage.setItem(e,t)},getDataFromLocalStorage:function(e){if(_())return window.localStorage.getItem(e)},removeDataFromLocalStorage:function(e){_()&&window.localStorage.removeItem(e)},hasLocalStorage:_,parseVastVpaid:function(e){return{vast_type:e.match(/^http(s)?:\/\//gi)?"url":"tag",vpaid:!!e.match(/vpaid/gi)}},triggerPixel:function(e,t){var i=new Image;t&&c(t)&&(i.addEventListener("load",t),i.addEventListener("error",t)),i.src=e},insertHtmlIntoIframe:function(e){var t;e&&((t=n.createElement("iframe")).id=f(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",internal.insertElement(t,n,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close())}}}((window,document));var ProperMedia=ProperMedia||{};ProperMedia.jquery=function(i,u){var m=window.top.TraceKit,s=[],r=!1,a=!1;function n(){if(!r){r=!0;for(var e=0;e<s.length;e++)s[e].fn.call(i,s[e].ctx);s=[]}}function o(){"complete"===u.readyState&&n()}function t(e,t){r?ProperMedia.utils.properSetTimeout.setTimeout(function(){e(t)},1):(s.push({fn:e,ctx:t}),"complete"===u.readyState?ProperMedia.utils.properSetTimeout.setTimeout(n,1):a||(u.addEventListener?(u.addEventListener("DOMContentLoaded",m.wrap(n),!1),i.addEventListener("load",m.wrap(n),!1)):(u.attachEvent("onreadystatechange",m.wrap(o)),i.attachEvent("onload",m.wrap(n))),a=!0))}function e(e){return d.sel(e)}var d={obj:{},sel:function(e){return"function"==typeof e?t(e):this.obj="object"==typeof e?e:u.querySelectorAll(e)[0],this},ready:function(e){return t(e),this},remove:function(){return void 0!==this.obj&&(this.obj.parentNode.removeChild(this.obj),this)},hide:function(){return void 0!==this.obj&&(this.obj.style.display="none",this)},show:function(){return void 0!==this.obj&&(this.obj.style.display="",this)},addClass:function(e){if(void 0===this.obj)return!1;for(var t=e.split(" "),i=0;i<t.length;i++)this.obj.classList?this.obj.classList.add(t[i]):this.obj.className+=" "+t[i];return this},removeClass:function(e){if(void 0===this.obj)return!1;if(this.obj.classList)this.obj.classList.remove(e);else{for(var t="",i=this.className.split(" "),s=0;s<i.length;s++)i[s]!==remove&&(t+=i[s]+" ");this.obj.className=t}return this},hasClass:function(e){if(void 0===this.obj)return!1;if(this.obj.classList)return this.obj.classList.contains(e);e=new RegExp("(?:^|\\s)"+e+"(?!\\S)");return null!==this.obj.className.match(e)},removeStyle:function(){return void 0!==this.obj&&(this.obj.style="",this)},attr:function(e,t){return void 0!==this.obj&&(void 0===t?void 0===this.obj.getAttribute?null:this.obj.getAttribute(e):void 0!==this.obj.setAttribute&&(this.obj.setAttribute(e,t),this))},after:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("afterend",e),this)},before:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("beforebegin",e),this)},insideBefore:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("afterbegin",e),this)},append:function(e){return void 0!==this.obj&&("string"==typeof e?this.obj.innerHTML=this.obj.innerHTML+e:this.obj.appendChild(e),this)},html:function(e){return void 0!==this.obj&&(void 0!==e?(this.obj.innerHTML=e,this):this.obj.innerHTML)},parent:function(){return void 0!==this.obj&&(this.obj=this.obj.parentNode,this)},closest:function(e){if(void 0===this.obj||!e)return!1;for(;this.obj=this.obj.parentNode;)if(void 0!==this.obj.classList&&this.obj.classList.contains(e))return this;return!1},getChildNodes:function(){return void 0!==this.obj&&this.obj.children},val:function(e){return void 0!==this.obj&&(void 0===e?this.obj.value:(this.obj.value=e,this))},on:function(e,t){return void 0!==this.obj&&(t=m.wrap(t),"click"==e?this.obj.onclick=t:"mouseover"==e||"mouseenter"==e?this.obj.addEventListener("mouseover",t,!1):"mouseout"==e||"mouseleave"==e?this.obj.addEventListener("mouseout",t,!1):this.obj.addEventListener(e,t),this)},contents:function(){return void 0!==this.obj&&(this.obj=this.obj.contentDocument||this.obj.contentWindow.document,this)},contentWin:function(){return void 0!==this.obj&&(this.obj.contentWindow?this.obj=this.obj.contentWindow:this.obj.contentDocument&&(this.obj=this.obj.contentDocument.defaultView),this)},find:function(e){return void 0!==this.obj&&(this.obj=this.obj.querySelectorAll(e)[0],this)},width:function(){return u.documentElement.clientWidth},height:function(){return u.documentElement.clientHeight},prev:function(){return void 0!==this.obj&&(this.obj=this.obj.previousElementSibling,this)},prop:function(e,t){return void 0!==this.obj&&(this.obj.checked=t,this)}},h=0,g=0,p=0;e.ajax=function(e){var t=e.url||"",i=e.success||function(){},s=e.error||function(){},r=e.onload||!1,a=(e.cache,e.data||{}),n=e.headers||{},o=e.method||"GET",d=e.special||"";e.contentType;if(requestType=e.requestType||"cors",timeout=e.timeout||3e3,edge=e.edge||!1,bidder=e.bidder||"",withCredentials="boolean"!=typeof e.withCredentials||e.withCredentials,void 0!==m&&(i=m.wrap(i),s=m.wrap(s)),"jsonp"==requestType){h++,g++,i&&(p="proper_"+M()+"_"+h,window[p]=function(e){i(e)},e="callback",t+="&"+(e=d&&"index"==d?"fn":e)+"=window."+p);var p=u.createElement("script");return p.async=!0,p.src=t,r&&ProperMedia.utils.isFn(r)&&(p.onload=r()),u.getElementsByTagName("head")[0].appendChild(p),!0}if(1==edge){p={url:t,name:bidder,method:o,payload:a};y.addRequest(p,i,s)}else{a=ProperMedia.utils.formatQueryString(a);try{var l,c=null;for(l in window.ActiveXObject?c=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(c=new XMLHttpRequest),c.open(o,t,1),"cors"==requestType?c.withCredentials=withCredentials:"fetch"==requestType&&(c.withCredentials=!1),c.timeout=timeout,c.onload=function(){200==c.status?i(c.responseText,c):(s(c),f(c))},c.onerror=function(){s(c),f(c)},c.ontimeout=function(){s(c)},n)c.setRequestHeader(l,n[l]);g++,c.send(a)}catch(e){throw s(),e}}};var l,c,_,b,f=function(e){0==e.status&&25<=++p&&.8<=p/g&&(e=new CustomEvent("proper-ad-bidders-blocked",{}),window.dispatchEvent(e))},y=(l="https://eb.proper.io/v1/endpoint",c=null,_={},b={bidders:[],cookies:{}},{addRequest:function(e,t,i){var s=M();_[s]={success:t,error:i},new_request=ProperMedia.utils.mergeObject({url:"",name:"",method:"",payload:{},callback_id:s},e),(e=ProperMedia.ad_project.cookieMatching.getBidderUserSyncValue(new_request.name+"_eb"))&&(b.cookies[new_request.name+"_eb"]=e),b.bidders.push(new_request),25<=b.bidders.length?v():(clearTimeout(c),c=null,c=ProperMedia.utils.properSetTimeout.setTimeout(v,250))},sendEdgeRequest:v});function v(){clearTimeout(c),c=null,0<b.bidders.length&&(e.ajax({url:l,method:"POST",requestType:"cors",data:JSON.stringify(b),success:function(e){if(responses=ProperMedia.utils.safeJsonParse(e),responses&&responses.bids&&0<responses.bids.length)for(var t=0;t<responses.bids.length;t++){var i=ProperMedia.utils.mergeObject({bidder:"",payload:{},callback_id:""},responses.bids[t]);void 0!==i.callback_id&&void 0!==_[i.callback_id]&&"function"==typeof _[i.callback_id].success&&(_[i.callback_id].success(JSON.stringify(i.payload)),delete _[i.callback_id])}i&&i.cookies&&Object.keys(i.cookies).map(function(e){i.cookies[e]&&cookieMatching.updateBidderUserSyncData(e,i.cookies[e])})},error:function(e){console.error("HOLY SMOKES")}}),b={bidders:[],cookies:{}})}function M(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1,5)}return e()+e()+"_"+e()+e()}return{$:e}}(window,document),function(r,c){"use strict";var u="function",e="undefined",t="model",i="name",s="type",a="vendor",n="version",o="architecture",d="console",p="mobile",l="tablet",m="smarttv",h="wearable",g={extend:function(e,t){var i,s={};for(i in e)t[i]&&t[i].length%2==0?s[i]=t[i].concat(e[i]):s[i]=e[i];return s},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:c},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},_={rgx:function(e,t){for(var i,s,r,a,n,o=0;o<t.length&&!a;){for(var d=t[o],p=t[o+1],l=i=0;l<d.length&&!a;)if(a=d[l++].exec(e))for(s=0;s<p.length;s++)n=a[++i],"object"==typeof(r=p[s])&&0<r.length?2==r.length?typeof r[1]==u?this[r[0]]=r[1].call(this,n):this[r[0]]=r[1]:3==r.length?typeof r[1]!=u||r[1].exec&&r[1].test?this[r[0]]=n?n.replace(r[1],r[2]):c:this[r[0]]=n?r[1].call(this,n,r[2]):c:4==r.length&&(this[r[0]]=n?r[3].call(this,n.replace(r[1],r[2])):c):this[r]=n||c;o+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&0<t[i].length){for(var s=0;s<t[i].length;s++)if(g.has(t[i][s],e))return"?"===i?c:i}else if(g.has(t[i],e))return"?"===i?c:i;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},f={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[i,n],[/(opios)[\/\s]+([\w\.]+)/i],[[i,"Opera Mini"],n],[/\s(opr)\/([\w\.]+)/i],[[i,"Opera"],n],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[i,n],[/(konqueror)\/([\w\.]+)/i],[[i,"Konqueror"],n],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[i,"IE"],n],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[i,"Edge"],n],[/(yabrowser)\/([\w\.]+)/i],[[i,"Yandex"],n],[/(puffin)\/([\w\.]+)/i],[[i,"Puffin"],n],[/(focus)\/([\w\.]+)/i],[[i,"Firefox Focus"],n],[/(opt)\/([\w\.]+)/i],[[i,"Opera Touch"],n],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[i,"UCBrowser"],n],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],n],[/(micromessenger)\/([\w\.]+)/i],[[i,"WeChat"],n],[/(brave)\/([\w\.]+)/i],[[i,"Brave"],n],[/(qqbrowserlite)\/([\w\.]+)/i],[i,n],[/(QQ)\/([\d\.]+)/i],[i,n],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[i,n],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[i,n],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[i,n],[/(MetaSr)[\/\s]?([\w\.]+)/i],[i],[/(LBBROWSER)/i],[i],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[n,[i,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[n,[i,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[i,n],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[n,[i,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[i,/(.+)/,"$1 WebView"],n],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[i,/(.+(?:g|us))(.+)/,"$1 $2"],n],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[n,[i,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[i,n],[/(dolfin)\/([\w\.]+)/i],[[i,"Dolphin"],n],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[i,"Chrome"],n],[/(coast)\/([\w\.]+)/i],[[i,"Opera Coast"],n],[/fxios\/([\w\.-]+)/i],[n,[i,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[n,[i,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[n,i],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[i,"GSA"],n],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[i,[n,_.str,b.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[i,n],[/(navigator|netscape)\/([\w\.-]+)/i],[[i,"Netscape"],n],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[i,n]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[o,"amd64"]],[/(ia32(?=;))/i],[[o,g.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[o,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[o,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[o,/ower/,"",g.lowerize]],[/(sun4\w)[;\)]/i],[[o,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[o,g.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[t,a,[s,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[t,[a,"Apple"],[s,l]],[/(apple\s{0,1}tv)/i],[[t,"Apple TV"],[a,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,t,[s,l]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[t,[a,"Amazon"],[s,l]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[t,_.str,b.device.amazon.model],[a,"Amazon"],[s,p]],[/android.+aft([bms])\sbuild/i],[t,[a,"Amazon"],[s,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[t,a,[s,p]],[/\((ip[honed|\s\w*]+);/i],[t,[a,"Apple"],[s,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,t,[s,p]],[/\(bb10;\s(\w+)/i],[t,[a,"BlackBerry"],[s,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[t,[a,"Asus"],[s,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[t,"Xperia Tablet"],[s,l]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[t,[a,"Sony"],[s,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,t,[s,d]],[/android.+;\s(shield)\sbuild/i],[t,[a,"Nvidia"],[s,d]],[/(playstation\s[34portablevi]+)/i],[t,[a,"Sony"],[s,d]],[/(sprint\s(\w+))/i],[[a,_.str,b.device.sprint.vendor],[t,_.str,b.device.sprint.model],[s,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[a,t,[s,l]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[a,[t,/_/g," "],[s,p]],[/(nexus\s9)/i],[t,[a,"HTC"],[s,l]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[t,[a,"Huawei"],[s,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,t,[s,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[t,[a,"Microsoft"],[s,d]],[/(kin\.[onetw]{3})/i],[[t,/\./g," "],[a,"Microsoft"],[s,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[t,[a,"Motorola"],[s,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[t,[a,"Motorola"],[s,l]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,g.trim],[t,g.trim],[s,m]],[/hbbtv.+maple;(\d+)/i],[[t,/^/,"SmartTV"],[a,"Samsung"],[s,m]],[/\(dtv[\);].+(aquos)/i],[t,[a,"Sharp"],[s,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],t,[s,l]],[/smart-tv.+(samsung)/i],[a,[s,m],t],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[a,"Samsung"],t,[s,p]],[/sie-(\w*)/i],[t,[a,"Siemens"],[s,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[a,"Nokia"],t,[s,p]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[t,[a,"Acer"],[s,l]],[/android.+([vl]k\-?\d{3})\s+build/i],[t,[a,"LG"],[s,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],t,[s,l]],[/(lg) netcast\.tv/i],[a,t,[s,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[t,[a,"LG"],[s,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[t,[a,"Lenovo"],[s,l]],[/linux;.+((jolla));/i],[a,t,[s,p]],[/((pebble))app\/[\d\.]+\s/i],[a,t,[s,h]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,t,[s,p]],[/crkey/i],[[t,"Chromecast"],[a,"Google"]],[/android.+;\s(glass)\s\d/i],[t,[a,"Google"],[s,h]],[/android.+;\s(pixel c)[\s)]/i],[t,[a,"Google"],[s,l]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[t,[a,"Google"],[s,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[a,"Xiaomi"],[s,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[a,"Xiaomi"],[s,l]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[t,[a,"Meizu"],[s,l]],[/(mz)-([\w-]{2,})/i],[[a,"Meizu"],t,[s,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[t,[a,"OnePlus"],[s,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[t,[a,"RCA"],[s,l]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[t,[a,"Dell"],[s,l]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[t,[a,"Verizon"],[s,l]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[a,"Barnes & Noble"],t,[s,l]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[t,[a,"NuVision"],[s,l]],[/android.+;\s(k88)\sbuild/i],[t,[a,"ZTE"],[s,l]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[t,[a,"Swiss"],[s,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[t,[a,"Swiss"],[s,l]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[t,[a,"Zeki"],[s,l]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[a,"Dragon Touch"],t,[s,l]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[t,[a,"Insignia"],[s,l]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[t,[a,"NextBook"],[s,l]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],t,[s,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[a,"LvTel"],t,[s,p]],[/android.+;\s(PH-1)\s/i],[t,[a,"Essential"],[s,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[t,[a,"Envizen"],[s,l]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[a,t,[s,l]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[t,[a,"MachSpeed"],[s,l]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,t,[s,l]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[t,[a,"Rotor"],[s,l]],[/android.+(KS(.+))\s+build/i],[t,[a,"Amazon"],[s,l]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[a,t,[s,l]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[s,g.lowerize],a,t],[/[\s\/\(](smart-?tv)[;\)]/i],[[s,m]],[/(android[\w\.\s\-]{0,9});.+build/i],[t,[a,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[n,[i,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[i,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[i,n],[/rv\:([\w\.]{1,9}).+(gecko)/i],[n,i]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[i,n],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[i,[n,_.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[i,"Windows"],[n,_.str,b.os.windows.version]],[/\((bb)(10);/i],[[i,"BlackBerry"],n],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[i,n],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[i,"Symbian"],n],[/\((series40);/i],[i],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[i,"Firefox OS"],n],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[i,n],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[i,"Chromium OS"],n],[/(sunos)\s?([\w\.\d]*)/i],[[i,"Solaris"],n],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[i,n],[/(haiku)\s(\w+)/i],[i,n],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[n,/_/g,"."],[i,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[i,"Mac OS"],[n,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[i,n]]},y=function(e,t){if("object"==typeof e&&(t=e,e=c),!(this instanceof y))return new y(e,t).getResult();var i=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),s=t?g.extend(f,t):f;return this.getBrowser=function(){var e={name:c,version:c};return _.rgx.call(e,i,s.browser),e.major=g.major(e.version),e},this.getCPU=function(){var e={architecture:c};return _.rgx.call(e,i,s.cpu),e},this.getDevice=function(){var e={vendor:c,model:c,type:c};return _.rgx.call(e,i,s.device),e},this.getEngine=function(){var e={name:c,version:c};return _.rgx.call(e,i,s.engine),e},this.getOS=function(){var e={name:c,version:c};return _.rgx.call(e,i,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};y.VERSION="0.7.19",y.BROWSER={NAME:i,MAJOR:"major",VERSION:n},y.CPU={ARCHITECTURE:o},y.DEVICE={MODEL:t,VENDOR:a,TYPE:s,CONSOLE:d,MOBILE:p,SMARTTV:m,TABLET:l,WEARABLE:h,EMBEDDED:"embedded"},y.ENGINE={NAME:i,VERSION:n},y.OS={NAME:i,VERSION:n},typeof exports!=e?(typeof module!=e&&module.exports&&(exports=module.exports=y),exports.UAParser=y):r&&(r.UAParser=y)}("object"==typeof window?window:this);var properSpecialOps=properSpecialOps||{},googletag=googletag||{};googletag.cmd=googletag.cmd||[];var propertag=propertag||{};propertag.cmd=propertag.cmd||[];var _qevents=_qevents||[];!function(){var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",e.async=!0,e.type="text/javascript";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();try{_qevents.push({qacct:"p-mEzuYq24VEJ-3"})}catch(e){console.error("Error pushing Quantcast event"),console.error(e)}"undefined"==typeof console&&(console={log:function(e){},error:function(e){},info:function(e){},table:function(e){}}),ProperMedia.ad_project=function(j){var S=ProperMedia.jquery.$,_=ProperMedia.utils.properSetTimeout,s=ProperMedia.utils.properSetInterval,y=window.top.TraceKit;function m(e){"use strict";try{e.stack||(e.stack=new Error("force-added stack").stack),e.name||(e.name="Unknown"),e.message||(e.message="Unknown")}catch(e){console.error("Error building error data"),console.error(e)}try{var t={client_timestamp:(new Date).getTime(),event_type:e.event_type||"exception",event_id:ProperMedia.utils.generateUUID(),page_id:ProperMedia.utils.generateUUID(),session_id:ProperMedia.utils.generateUUID(),bidder:e.bidder||"",user_id:ProperMedia.utils.validateValue(be.pubcid,{type:"string"}),publisher:ProperMedia.utils.validateValue(he.site_name,{type:"string"}),rtp_file_version:ProperMedia.utils.validateValue(he.rtp_file_version,{type:"string"}),ad_project_tag:ProperMedia.utils.validateValue(he.rtp_file_revision,{type:"string"}),page_url:ProperMedia.utils.getPageUrl()||"",in_iframe:!1,is_https:"https:"==j.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e.stack),error_message:e.message.toString()||"",error_name:e.name.toString()||""};ye.uuid&&""!==ye.uuid&&(t.page_id=ye.uuid),ge&&ge.sessionData&&ge.sessionData.uuid&&""!==ge.sessionData.uuid&&(t.session_id=ge.sessionData.uuid),S.ajax({url:"https://events.proper.io/api/event",requestType:"fetch",method:"POST",data:JSON.stringify(t),withCredentials:!1,success:function(e){console.log("Proper exception logged successfully.")},error:function(){console.error("Unable to log Proper exception.")}})}catch(e){console.error("Error sending exception data"),console.error(e)}}y.report.subscribe(m),y.report.unsubscribe(y.defaultSendError);var t=ProperMedia.utils.safeJsonParse(ProperMedia.utils.b64DecodeUnicode("eyJkaXNwbGF5Ijp7IjFndWJvcW8iOjAuMDEsInozMW84dyI6MC4wMiwiMXlsbHA4ZyI6MC4wMywiOGc0bmk4IjowLjA0LCIxN3lvb2hzIjowLjA1LCJxN2VvMDAiOjAuMDYsIjFwcHlvemsiOjAuMDcsImN2eTVtbyI6MC4wOCwiMWNlaTZtOCI6MC4wOSwidW44NjRnIjowLjEsIjF1NXM3NDAiOjAuMTEsIjQwYjVkcyI6MC4xMiwiMTNpdjZkYyI6MC4xMywibHJsNXZrIjowLjE0LCIxbGE1NnY0IjowLjE1LCJmM3V3b3ciOjAuMTYsIjFlbWV4b2ciOjAuMTcsInd2NHg2byI6MC4xOCwiMXdkb3k2OCI6MC4xOSwiNjg3d2cwIjowLjIsIjE1cXJ4ZmsiOjAuMjEsIm56aHd4cyI6MC4yMiwiMW5pMXh4YyI6MC4yMywiYW8xZWtnIjowLjI0LCIxYTZsZmswIjowLjI1LCJzZmJmMjgiOjAuMjYsIjFyeHZnMXMiOjAuMjcsIjFzZWViayI6MC4yOCwiMTFheWZiNCI6MC4yOSwiampvZXRjIjowLjMsIjFqMjhmc3ciOjAuMzEsImc3dGE4MCI6MC4zMiwiMWZxZGI3ayI6MC4zMywieHozYXBzIjowLjM0LCIxeGhuYnBjIjowLjM1LCI3YzY5ejQiOjAuMzYsIjE2dXFheW8iOjAuMzcsInAzZ2FndyI6MC4zOCwiMW9tMGJnZyI6MC4zOSwiYnJ6czNrIjowLjQsIjFiYWp0MzQiOjAuNDEsInRqOXNsYyI6MC40MiwiMXQxdHRrdyI6MC40MywiMndjcnVvIjowLjQ0LCIxMmV3c3U4IjowLjQ1LCJrbm1zY2ciOjAuNDYsIjFrNjZ0YzAiOjAuNDcsImR6d2o1cyI6MC40OCwiMWRpZ2s1YyI6MC40OSwidnI2am5rIjowLjUsIjF2OXFrbjQiOjAuNTEsIjU0OWl3dyI6MC41MiwiMTRtdGp3ZyI6MC41MywibXZqamVvIjowLjU0LCIxbWUza2U4IjowLjU1LCI5azMxMWMiOjAuNTYsIjE5Mm4yMHciOjAuNTcsInJiZDFqNCI6MC41OCwiMXF0eDJpbyI6MC41OSwib2cwc2ciOjAuNiwiMTA3MDFzMCI6MC42MSwiaWZxMWE4IjowLjYyLCIxaHlhMjlzIjowLjYzLCJncnNnemsiOjAuNjQsIjFnYWNoejQiOjAuNjUsInlqMmhoYyI6MC42NiwiMXkxbWlndyI6MC42NywiN3c1Z3FvIjowLjY4LCIxN2VwaHE4IjowLjY5LCJwbmZoOGciOjAuNywiMXA1emk4MCI6MC43MSwiY2J5eXY0IjowLjcyLCIxYnVpenVvIjowLjczLCJ1Mzh6Y3ciOjAuNzQsIjF0bHQwY2ciOjAuNzUsIjNnYnltOCI6MC43NiwiMTJ5dnpscyI6MC43NywibDdsejQwIjowLjc4LCIxa3E2MDNrIjowLjc5LCJlanZweGMiOjAuOCwiMWUyZnF3dyI6MC44MSwid2I1cWY0IjowLjgyLCIxdnRwcmVvIjowLjgzLCI1bzhwb2ciOjAuODQsIjE1NnNxbzAiOjAuODUsIm5maXE2OCI6MC44NiwiMW15MnI1cyI6MC44NywiYTQyN3N3IjowLjg4LCIxOW1tOHNnIjowLjg5LCJydmM4YW8iOjAuOSwiMXJkdzlhOCI6MC45MSwiMThmN2swIjowLjkyLCIxMHF6OGprIjowLjkzLCJpenA4MXMiOjAuOTQsIjFpaTk5MWMiOjAuOTUsImZudTNnZyI6MC45NiwiMWY2ZTRnMCI6MC45NywieGY0M3k4IjowLjk4LCIxd3hvNHhzIjowLjk5LCI2czczN2siOjEsIjE2YXI0NzQiOjEuMDEsIm9qaDNwYyI6MS4wMiwiMW8yMTRvdyI6MS4wMywiYjgwbGMwIjoxLjA0LCIxYXFrbWJrIjoxLjA1LCJzemFsdHMiOjEuMDYsIjFzaHVtdGMiOjEuMDcsIjJjZGwzNCI6MS4wOCwiMTF1eG0ybyI6MS4wOSwiazNubGt3IjoxLjEsIjFqbTdta2ciOjEuMTEsImRmeGNlOCI6MS4xMiwiMWN5aGRkcyI6MS4xMywidjc3Y3cwIjoxLjE0LCIxdXByZHZrIjoxLjE1LCI0a2FjNWMiOjEuMTYsIjE0MnVkNHciOjEuMTcsIm1ia2NuNCI6MS4xOCwiMWx1NGRtbyI6MS4xOSwiOTAzdTlzIjoxLjIsIjE4aW52OWMiOjEuMjEsInFyZHVyayI6MS4yMiwiMXE5eHZyNCI6MS4yMywiNGd1MHciOjEuMjQsInpuMHYwZyI6MS4yNSwiaHZxdWlvIjoxLjI2LCIxaGVhdmk4IjoxLjI3LCJobHI5NHciOjEuMjgsIjFoNGJhNGciOjEuMjksInpkMTltbyI6MS4zLCIxeXZsYW04IjoxLjMxLCI4cTQ4dzAiOjEuMzIsIjE4OG85dmsiOjEuMzMsInFoZTlkcyI6MS4zNCwiMXB6eWFkYyI6MS4zNSwiZDV4cjBnIjoxLjM2LCIxY29oczAwIjoxLjM3LCJ1eDdyaTgiOjEuMzgsIjF1ZnJzaHMiOjEuMzksIjRhYXFyayI6MS40LCIxM3N1cnI0IjoxLjQxLCJtMWtyOWMiOjEuNDIsIjFsazRzOHciOjEuNDMsImZkdWkybyI6MS40NCwiMWV3ZWoyOCI6MS40NSwieDU0aWtnIjoxLjQ2LCIxd25vamswIjoxLjQ3LCI2aTdodHMiOjEuNDgsIjE2MHJpdGMiOjEuNDksIm85aGliayI6MS41LCIxbnMxamI0IjoxLjUxLCJheTB6eTgiOjEuNTIsIjFhZ2wweHMiOjEuNTMsInNwYjBnMCI6MS41NCwiMXM3djFmayI6MS41NSwiMjJkenBjIjoxLjU2LCIxMWt5MG93IjoxLjU3LCJqdG8wNzQiOjEuNTgsIjFqYzgxNm8iOjEuNTksImdoc3ZscyI6MS42LCIxZzBjd2xjIjoxLjYxLCJ5OTJ3M2siOjEuNjIsIjF4cm14MzQiOjEuNjMsIjdtNXZjdyI6MS42NCwiMTc0cHdjZyI6MS42NSwicGRmdnVvIjoxLjY2LCIxb3Z6d3U4IjoxLjY3LCJjMXpkaGMiOjEuNjgsIjFia2plZ3ciOjEuNjksInR0OWR6NCI6MS43LCIxdGJ0ZXlvIjoxLjcxLCIzNmNkOGciOjEuNzIsIjEyb3dlODAiOjEuNzMsImt4bWRxOCI6MS43NCwiMWtnNmVwcyI6MS43NSwiZTl3NGprIjoxLjc2LCIxZHNnNWo0IjoxLjc3LCJ3MTY1MWMiOjEuNzgsIjF2anE2MHciOjEuNzksIjVlOTRhbyI6MS44LCIxNHd0NWE4IjoxLjgxLCJuNWo0c2ciOjEuODIsIjFtbzM1czAiOjEuODMsIjl1Mm1mNCI6MS44NCwiMTljbW5lbyI6MS44NSwicmxjbXd3IjoxLjg2LCIxcjN3bndnIjoxLjg3LCJ5Zm02OCI6MS44OCwiMTBnem41cyI6MS44OSwiaXBwbW8wIjoxLjksIjFpODlubmsiOjEuOTEsImgxczJkYyI6MS45MiwiMWdrYzNjdyI6MS45MywieXQyMnY0IjoxLjk0LCIxeWJtM3VvIjoxLjk1LCI4NjUyNGciOjEuOTYsIjE3b3AzNDAiOjEuOTcsInB4ZjJtOCI6MS45OCwiMXBmejNscyI6MS45OSwiY2x5azh3IjoyLCIxYzRpbDhnIjoyLjAxLCJ1ZDhrcW8iOjIuMDIsIjF0dnNscTgiOjIuMDMsIjNxYmswMCI6Mi4wNCwiMTM4dmt6ayI6Mi4wNSwibGhsa2hzIjoyLjA2LCIxbDA1bGhjIjoyLjA3LCJldHZiYjQiOjIuMDgsIjFlY2ZjYW8iOjIuMDksIndsNWJzdyI6Mi4xLCIxdzNwY3NnIjoyLjExLCI1eThiMjgiOjIuMTIsIjE1Z3NjMXMiOjIuMTMsIm5waWJrMCI6Mi4xNCwiMW44MmNqayI6Mi4xNSwiYWUxdDZvIjoyLjE2LCIxOXdsdTY4IjoyLjE3LCJzNWJ0b2ciOjIuMTgsIjFybnZ1bzAiOjIuMTksIjFpZXN4cyI6Mi4yLCIxMTB5dHhjIjoyLjIxLCJqOW90ZmsiOjIuMjIsIjFpczh1ZjQiOjIuMjMsImZ4dG91OCI6Mi4yNCwiMWZnZHB0cyI6Mi4yNSwieHAzcGMwIjoyLjI2LCIxeDducWJrIjoyLjI3LCI3MjZvbGMiOjIuMjgsIjE2a3Fwa3ciOjIuMjksIm90Z3AzNCI6Mi4zLCIxb2MwcTJvIjoyLjMxLCJiaTA2cHMiOjIuMzIsIjFiMGs3cGMiOjIuMzMsInQ5YTc3ayI6Mi4zNCwiMXNydTg3NCI6Mi4zNSwiMm1kNmd3IjoyLjM2LCIxMjR4N2dnIjoyLjM3LCJrZG42eW8iOjIuMzgsIjFqdzc3eTgiOjIuMzksImRwd3hzMCI6Mi40LCIxZDhneXJrIjoyLjQxLCJ2aDZ5OXMiOjIuNDIsIjF1enF6OWMiOjIuNDMsIjR1OXhqNCI6Mi40NCwiMTRjdHlpbyI6Mi40NSwibWxqeTB3IjoyLjQ2LCIxbTQzejBnIjoyLjQ3LCI5YTNmbmsiOjIuNDgsIjE4c25nbjQiOjIuNDksInIxZGc1YyI6Mi41LCIxcWp4aDR3IjoyLjUxLCJlZ2ZlbyI6Mi41MiwiengwZ2U4IjoyLjUzLCJpNXFmd2ciOjIuNTQsIjFob2FndzAiOjIuNTUsImhncmdnMCI6Mi41NiwiMWd6YmhmayI6Mi41NywiejgxZ3hzIjoyLjU4LCIxeXFsaHhjIjoyLjU5LCI4bDRnNzQiOjIuNiwiMTgzb2g2byI6Mi42MSwicWNlZ293IjoyLjYyLCIxcHV5aG9nIjoyLjYzLCJkMHh5YmsiOjIuNjQsIjFjamh6YjQiOjIuNjUsInVzN3l0YyI6Mi42NiwiMXVhcnpzdyI6Mi42NywiNDVheTJvIjoyLjY4LCIxM251ejI4IjoyLjY5LCJsd2t5a2ciOjIuNywiMWxmNHprMCI6Mi43MSwiZjh1cGRzIjoyLjcyLCIxZXJlcWRjIjoyLjczLCJ4MDRwdmsiOjIuNzQsIjF3aW9xdjQiOjIuNzUsIjZkN3A0dyI6Mi43NiwiMTV2cnE0ZyI6Mi43NywibzRocG1vIjoyLjc4LCIxbm4xcW04IjoyLjc5LCJhdDE3OWMiOjIuOCwiMWFibDg4dyI6Mi44MSwic2tiN3I0IjoyLjgyLCIxczJ2OHFvIjoyLjgzLCIxeGU3MGciOjIuODQsIjExZnk4MDAiOjIuODUsImpvbzdpOCI6Mi44NiwiMWo3ODhocyI6Mi44NywiZ2N0Mnd3IjoyLjg4LCIxZnZkM3dnIjoyLjg5LCJ5NDMzZW8iOjIuOSwiMXhtbjRlOCI6Mi45MSwiN2g2Mm8wIjoyLjkyLCIxNnpxM25rIjoyLjkzLCJwOGczNXMiOjIuOTQsIjFvcjA0NWMiOjIuOTUsImJ3emtzZyI6Mi45NiwiMWJmamxzMCI6Mi45NywidG85bGE4IjoyLjk4LCIxdDZ0bTlzIjoyLjk5LCIzMWNramsiOjMsIjFkbmdjdTgiOjMuMDUsIm4wamMzayI6My4xLCIxcXl3djdrIjozLjE1LCJnd3M5b2ciOjMuMiwiMTdqcGFmNCI6My4yNSwidTg4czFzIjozLjMsIjFrdjVzc2ciOjMuMzUsIjV0OGlkYyI6My40LCIxOXJtMWhjIjozLjQ1LCJqNHAwcW8iOjMuNSwiMXgybnhtbyI6My41NSwiYmQwZTB3IjozLjYsIjExenhlcmsiOjMuNjUsInZjNzVrdyI6My43LCIxbHo0NmJrIjozLjc1LCI5Z21wcyI6My44LCIxaDliMnRjIjozLjg1LCJxbWUyMm8iOjMuOSwiMXVrcmw2byI6My45NSwiZml1YXJrIjo0LCIxNjVyYmk4Ijo0LjA1LCJzdWF0NHciOjQuMSwiMWpoN3R2ayI6NC4xNSwiN3I1bzFzIjo0LjIsIjFicGo3NXMiOjQuMjUsImwybTZmNCI6NC4zLCIxdm9weXBzIjo0LjM1LCI5ejJmNDAiOjQuNCwiMTBsemZ1byI6NC40NSwieXkxdmswIjo0LjUsIjFwa3l3YW8iOjQuNTUsIjN2YmNvdyI6NC42LCIxZWhmNHprIjo0LjY1LCJudWk0OHciOjQuNywiMXJzdm5jdyI6NC43NSwiZzJ0aGo0Ijo0LjgsIjE2cHFpOXMiOjQuODUsInRlOXp3ZyI6NC45LCIxazE3MG40Ijo0Ljk1LCI0ejlxODAiOjUsIjE4eG45YzAiOjUuMDUsImlhcThsYyI6NS4xLCIxeWozc3cwIjo1LjE1LCJjdGc5YTgiOjUuMiwiMTNnZGEwdyI6NS4yNSwid3NuMHU4Ijo1LjMsIjFuZmsxa3ciOjUuMzUsIjFwd2h6NCI6NS40LCIxZm52ZXY0Ijo1LjQ1LCJwMHllNGciOjUuNSwiMXN6Yng4ZyI6NS41NSwiZHhlbXRjIjo1LjYsIjE0a2JuazAiOjUuNjUsInI4djU2byI6NS43LCIxaHZzNXhjIjo1Ljc1LCI3dG5rZTgiOjUuOCwiMWJzMTNpOCI6NS44NSwibDU0MnJrIjo1LjksIjF2cjd2MjgiOjUuOTUsImExa2JnZyI6NiwiMTBvaGM3NCI6Ni4wNSwieGNtN2xzIjo2LjEsIjFuemo4Y2ciOjYuMTUsIjI5dm9xbyI6Ni4yLCIxY3Z6aDFjIjo2LjI1LCJtOTJnYW8iOjYuMywiMXE3ZnplbyI6Ni4zNSwiaGo5Y3NnIjo2LjQsIjE4NjZkajQiOjYuNDUsInV1cHY1cyI6Ni41LCIxbGhtdndnIjo2LjU1LCI2ZnBsaGMiOjYuNiwiMWFlMzRsYyI6Ni42NSwianI2M3VvIjo2LjcsIjF4cDUwcW8iOjYuNzUsImJ6aGg0dyI6Ni44LCIxMm1laHZrIjo2Ljg1LCJ2eW84b3ciOjYuOSwiMW1sbDlmayI6Ni45NSwidnhwdHMiOjcsIjFnaHU3MGciOjcuMDUsInB1eDY5cyI6Ny4xLCIxdHRhcGRzIjo3LjE1LCJlcmRleW8iOjcuMiwiMTVlYWZwYyI6Ny4yNSwiczJ0eGMwIjo3LjMsIjFpcHF5Mm8iOjcuMzUsIjZ6b3M4dyI6Ny40LCIxYXkyYmN3Ijo3LjQ1LCJrYjVhbTgiOjcuNSwiMXV4OTJ3dyI6Ny41NSwiOTdsamI0Ijo3LjYsInp1aWsxcyI6Ny42NSwiejVqa2xjIjo3LjcsIjFwc2dsYzAiOjcuNzUsIjQydDFxOCI6Ny44LCIxZW93dTB3Ijo3Ljg1LCJvMXp0YTgiOjcuOSwiMXMwZGNlOCI6Ny45NSwiZ2FiNmtnIjo4LCJ3ZG5tcmsiOjguNSwiOHNtNThnIjo5LCJuODExNHciOjkuNSwiYmtpMzI4IjoxMCwic2UyZ3cwIjoxMC41LCIzZjMwZzAiOjExLCJodWh3Y2ciOjExLjUsImU4bjZkYyI6MTIsInhudXI1cyI6MTIuNSwiNmJ5cXlvIjoxMywicHI2YnI0IjoxMy41LCI5M3Vvc2ciOjE0LCJ0eDA4aHMiOjE0LjUsIjFtNW5nZyI6MTUsImxudWJjdyI6MTUuNSwiZ28xbWd3IjoxNiwidjNnaWRjIjoxNi41LCI3aWYwdTgiOjE3LCJubHJoMWMiOjE3LjUsImN4NzNzdyI6MTgsInJjbHpwYyI6MTguNSwiMmRtajljIjoxOSwianV3eWRjIjoxOS41LCJldjQ5aGMiOjIwLCI1M24xdHMiOjIxLCJheGVpdjQiOjIyLCJkdHliayI6MjMsImZzN2YyOCI6MjQsIjhhaWRxOCI6MjUsImJvdmVvMCI6MjYsIjQ3NmRjMCI6MjcsImRtc2tjZyI6MjgsIjVxNDR4cyI6MjksIjl2eTFvZyI6MzAsIjFxaXoyOCI6MzEsImhqdnR2ayI6MzIsIjcwYjljMCI6MzMsImNmM2NhbyI6MzQsIjM5Z3FvMCI6MzV9LCJ2aWRlbyI6eyJ2XzFndWJvcW8iOjAuMDEsInZfejMxbzh3IjowLjAyLCJ2XzF5bGxwOGciOjAuMDMsInZfOGc0bmk4IjowLjA0LCJ2XzE3eW9vaHMiOjAuMDUsInZfcTdlbzAwIjowLjA2LCJ2XzFwcHlvemsiOjAuMDcsInZfY3Z5NW1vIjowLjA4LCJ2XzFjZWk2bTgiOjAuMDksInZfdW44NjRnIjowLjEsInZfMXU1czc0MCI6MC4xMSwidl80MGI1ZHMiOjAuMTIsInZfMTNpdjZkYyI6MC4xMywidl9scmw1dmsiOjAuMTQsInZfMWxhNTZ2NCI6MC4xNSwidl9mM3V3b3ciOjAuMTYsInZfMWVtZXhvZyI6MC4xNywidl93djR4Nm8iOjAuMTgsInZfMXdkb3k2OCI6MC4xOSwidl82ODd3ZzAiOjAuMiwidl8xNXFyeGZrIjowLjIxLCJ2X256aHd4cyI6MC4yMiwidl8xbmkxeHhjIjowLjIzLCJ2X2FvMWVrZyI6MC4yNCwidl8xYTZsZmswIjowLjI1LCJ2X3NmYmYyOCI6MC4yNiwidl8xcnh2ZzFzIjowLjI3LCJ2XzFzZWViayI6MC4yOCwidl8xMWF5ZmI0IjowLjI5LCJ2X2pqb2V0YyI6MC4zLCJ2XzFqMjhmc3ciOjAuMzEsInZfZzd0YTgwIjowLjMyLCJ2XzFmcWRiN2siOjAuMzMsInZfeHozYXBzIjowLjM0LCJ2XzF4aG5icGMiOjAuMzUsInZfN2M2OXo0IjowLjM2LCJ2XzE2dXFheW8iOjAuMzcsInZfcDNnYWd3IjowLjM4LCJ2XzFvbTBiZ2ciOjAuMzksInZfYnJ6czNrIjowLjQsInZfMWJhanQzNCI6MC40MSwidl90ajlzbGMiOjAuNDIsInZfMXQxdHRrdyI6MC40Mywidl8yd2NydW8iOjAuNDQsInZfMTJld3N1OCI6MC40NSwidl9rbm1zY2ciOjAuNDYsInZfMWs2NnRjMCI6MC40Nywidl9kendqNXMiOjAuNDgsInZfMWRpZ2s1YyI6MC40OSwidl92cjZqbmsiOjAuNSwidl8xdjlxa240IjowLjUxLCJ2XzU0OWl3dyI6MC41Miwidl8xNG10andnIjowLjUzLCJ2X212amplbyI6MC41NCwidl8xbWUza2U4IjowLjU1LCJ2XzlrMzExYyI6MC41Niwidl8xOTJuMjB3IjowLjU3LCJ2X3JiZDFqNCI6MC41OCwidl8xcXR4MmlvIjowLjU5LCJ2X29nMHNnIjowLjYsInZfMTA3MDFzMCI6MC42MSwidl9pZnExYTgiOjAuNjIsInZfMWh5YTI5cyI6MC42Mywidl9ncnNnemsiOjAuNjQsInZfMWdhY2h6NCI6MC42NSwidl95ajJoaGMiOjAuNjYsInZfMXkxbWlndyI6MC42Nywidl83dzVncW8iOjAuNjgsInZfMTdlcGhxOCI6MC42OSwidl9wbmZoOGciOjAuNywidl8xcDV6aTgwIjowLjcxLCJ2X2NieXl2NCI6MC43Miwidl8xYnVpenVvIjowLjczLCJ2X3UzOHpjdyI6MC43NCwidl8xdGx0MGNnIjowLjc1LCJ2XzNnYnltOCI6MC43Niwidl8xMnl2emxzIjowLjc3LCJ2X2w3bHo0MCI6MC43OCwidl8xa3E2MDNrIjowLjc5LCJ2X2VqdnB4YyI6MC44LCJ2XzFlMmZxd3ciOjAuODEsInZfd2I1cWY0IjowLjgyLCJ2XzF2dHByZW8iOjAuODMsInZfNW84cG9nIjowLjg0LCJ2XzE1NnNxbzAiOjAuODUsInZfbmZpcTY4IjowLjg2LCJ2XzFteTJyNXMiOjAuODcsInZfYTQyN3N3IjowLjg4LCJ2XzE5bW04c2ciOjAuODksInZfcnZjOGFvIjowLjksInZfMXJkdzlhOCI6MC45MSwidl8xOGY3azAiOjAuOTIsInZfMTBxejhqayI6MC45Mywidl9penA4MXMiOjAuOTQsInZfMWlpOTkxYyI6MC45NSwidl9mbnUzZ2ciOjAuOTYsInZfMWY2ZTRnMCI6MC45Nywidl94ZjQzeTgiOjAuOTgsInZfMXd4bzR4cyI6MC45OSwidl82czczN2siOjEsInZfMTZhcjQ3NCI6MS4wMSwidl9vamgzcGMiOjEuMDIsInZfMW8yMTRvdyI6MS4wMywidl9iODBsYzAiOjEuMDQsInZfMWFxa21iayI6MS4wNSwidl9zemFsdHMiOjEuMDYsInZfMXNodW10YyI6MS4wNywidl8yY2RsMzQiOjEuMDgsInZfMTF1eG0ybyI6MS4wOSwidl9rM25sa3ciOjEuMSwidl8xam03bWtnIjoxLjExLCJ2X2RmeGNlOCI6MS4xMiwidl8xY3loZGRzIjoxLjEzLCJ2X3Y3N2N3MCI6MS4xNCwidl8xdXByZHZrIjoxLjE1LCJ2XzRrYWM1YyI6MS4xNiwidl8xNDJ1ZDR3IjoxLjE3LCJ2X21ia2NuNCI6MS4xOCwidl8xbHU0ZG1vIjoxLjE5LCJ2XzkwM3U5cyI6MS4yLCJ2XzE4aW52OWMiOjEuMjEsInZfcXJkdXJrIjoxLjIyLCJ2XzFxOXh2cjQiOjEuMjMsInZfNGd1MHciOjEuMjQsInZfem4wdjBnIjoxLjI1LCJ2X2h2cXVpbyI6MS4yNiwidl8xaGVhdmk4IjoxLjI3LCJ2X2hscjk0dyI6MS4yOCwidl8xaDRiYTRnIjoxLjI5LCJ2X3pkMTltbyI6MS4zLCJ2XzF5dmxhbTgiOjEuMzEsInZfOHE0OHcwIjoxLjMyLCJ2XzE4OG85dmsiOjEuMzMsInZfcWhlOWRzIjoxLjM0LCJ2XzFwenlhZGMiOjEuMzUsInZfZDV4cjBnIjoxLjM2LCJ2XzFjb2hzMDAiOjEuMzcsInZfdXg3cmk4IjoxLjM4LCJ2XzF1ZnJzaHMiOjEuMzksInZfNGFhcXJrIjoxLjQsInZfMTNzdXJyNCI6MS40MSwidl9tMWtyOWMiOjEuNDIsInZfMWxrNHM4dyI6MS40Mywidl9mZHVpMm8iOjEuNDQsInZfMWV3ZWoyOCI6MS40NSwidl94NTRpa2ciOjEuNDYsInZfMXdub2prMCI6MS40Nywidl82aTdodHMiOjEuNDgsInZfMTYwcml0YyI6MS40OSwidl9vOWhpYmsiOjEuNSwidl8xbnMxamI0IjoxLjUxLCJ2X2F5MHp5OCI6MS41Miwidl8xYWdsMHhzIjoxLjUzLCJ2X3NwYjBnMCI6MS41NCwidl8xczd2MWZrIjoxLjU1LCJ2XzIyZHpwYyI6MS41Niwidl8xMWt5MG93IjoxLjU3LCJ2X2p0bzA3NCI6MS41OCwidl8xamM4MTZvIjoxLjU5LCJ2X2doc3ZscyI6MS42LCJ2XzFnMGN3bGMiOjEuNjEsInZfeTkydzNrIjoxLjYyLCJ2XzF4cm14MzQiOjEuNjMsInZfN201dmN3IjoxLjY0LCJ2XzE3NHB3Y2ciOjEuNjUsInZfcGRmdnVvIjoxLjY2LCJ2XzFvdnp3dTgiOjEuNjcsInZfYzF6ZGhjIjoxLjY4LCJ2XzFia2plZ3ciOjEuNjksInZfdHQ5ZHo0IjoxLjcsInZfMXRidGV5byI6MS43MSwidl8zNmNkOGciOjEuNzIsInZfMTJvd2U4MCI6MS43Mywidl9reG1kcTgiOjEuNzQsInZfMWtnNmVwcyI6MS43NSwidl9lOXc0amsiOjEuNzYsInZfMWRzZzVqNCI6MS43Nywidl93MTY1MWMiOjEuNzgsInZfMXZqcTYwdyI6MS43OSwidl81ZTk0YW8iOjEuOCwidl8xNHd0NWE4IjoxLjgxLCJ2X241ajRzZyI6MS44Miwidl8xbW8zNXMwIjoxLjgzLCJ2Xzl1Mm1mNCI6MS44NCwidl8xOWNtbmVvIjoxLjg1LCJ2X3JsY213dyI6MS44Niwidl8xcjN3bndnIjoxLjg3LCJ2X3lmbTY4IjoxLjg4LCJ2XzEwZ3puNXMiOjEuODksInZfaXBwbW8wIjoxLjksInZfMWk4OW5uayI6MS45MSwidl9oMXMyZGMiOjEuOTIsInZfMWdrYzNjdyI6MS45Mywidl95dDIydjQiOjEuOTQsInZfMXlibTN1byI6MS45NSwidl84NjUyNGciOjEuOTYsInZfMTdvcDM0MCI6MS45Nywidl9weGYybTgiOjEuOTgsInZfMXBmejNscyI6MS45OSwidl9jbHlrOHciOjIsInZfMWM0aWw4ZyI6Mi4wMSwidl91ZDhrcW8iOjIuMDIsInZfMXR2c2xxOCI6Mi4wMywidl8zcWJrMDAiOjIuMDQsInZfMTM4dmt6ayI6Mi4wNSwidl9saGxraHMiOjIuMDYsInZfMWwwNWxoYyI6Mi4wNywidl9ldHZiYjQiOjIuMDgsInZfMWVjZmNhbyI6Mi4wOSwidl93bDVic3ciOjIuMSwidl8xdzNwY3NnIjoyLjExLCJ2XzV5OGIyOCI6Mi4xMiwidl8xNWdzYzFzIjoyLjEzLCJ2X25waWJrMCI6Mi4xNCwidl8xbjgyY2prIjoyLjE1LCJ2X2FlMXQ2byI6Mi4xNiwidl8xOXdsdTY4IjoyLjE3LCJ2X3M1YnRvZyI6Mi4xOCwidl8xcm52dW8wIjoyLjE5LCJ2XzFpZXN4cyI6Mi4yLCJ2XzExMHl0eGMiOjIuMjEsInZfajlvdGZrIjoyLjIyLCJ2XzFpczh1ZjQiOjIuMjMsInZfZnh0b3U4IjoyLjI0LCJ2XzFmZ2RwdHMiOjIuMjUsInZfeHAzcGMwIjoyLjI2LCJ2XzF4N25xYmsiOjIuMjcsInZfNzI2b2xjIjoyLjI4LCJ2XzE2a3Fwa3ciOjIuMjksInZfb3RncDM0IjoyLjMsInZfMW9jMHEybyI6Mi4zMSwidl9iaTA2cHMiOjIuMzIsInZfMWIwazdwYyI6Mi4zMywidl90OWE3N2siOjIuMzQsInZfMXNydTg3NCI6Mi4zNSwidl8ybWQ2Z3ciOjIuMzYsInZfMTI0eDdnZyI6Mi4zNywidl9rZG42eW8iOjIuMzgsInZfMWp3Nzd5OCI6Mi4zOSwidl9kcHd4czAiOjIuNCwidl8xZDhneXJrIjoyLjQxLCJ2X3ZoNnk5cyI6Mi40Miwidl8xdXpxejljIjoyLjQzLCJ2XzR1OXhqNCI6Mi40NCwidl8xNGN0eWlvIjoyLjQ1LCJ2X21sankwdyI6Mi40Niwidl8xbTQzejBnIjoyLjQ3LCJ2XzlhM2ZuayI6Mi40OCwidl8xOHNuZ240IjoyLjQ5LCJ2X3IxZGc1YyI6Mi41LCJ2XzFxanhoNHciOjIuNTEsInZfZWdmZW8iOjIuNTIsInZfengwZ2U4IjoyLjUzLCJ2X2k1cWZ3ZyI6Mi41NCwidl8xaG9hZ3cwIjoyLjU1LCJ2X2hncmdnMCI6Mi41Niwidl8xZ3piaGZrIjoyLjU3LCJ2X3o4MWd4cyI6Mi41OCwidl8xeXFsaHhjIjoyLjU5LCJ2XzhsNGc3NCI6Mi42LCJ2XzE4M29oNm8iOjIuNjEsInZfcWNlZ293IjoyLjYyLCJ2XzFwdXlob2ciOjIuNjMsInZfZDB4eWJrIjoyLjY0LCJ2XzFjamh6YjQiOjIuNjUsInZfdXM3eXRjIjoyLjY2LCJ2XzF1YXJ6c3ciOjIuNjcsInZfNDVheTJvIjoyLjY4LCJ2XzEzbnV6MjgiOjIuNjksInZfbHdreWtnIjoyLjcsInZfMWxmNHprMCI6Mi43MSwidl9mOHVwZHMiOjIuNzIsInZfMWVyZXFkYyI6Mi43Mywidl94MDRwdmsiOjIuNzQsInZfMXdpb3F2NCI6Mi43NSwidl82ZDdwNHciOjIuNzYsInZfMTV2cnE0ZyI6Mi43Nywidl9vNGhwbW8iOjIuNzgsInZfMW5uMXFtOCI6Mi43OSwidl9hdDE3OWMiOjIuOCwidl8xYWJsODh3IjoyLjgxLCJ2X3NrYjdyNCI6Mi44Miwidl8xczJ2OHFvIjoyLjgzLCJ2XzF4ZTcwZyI6Mi44NCwidl8xMWZ5ODAwIjoyLjg1LCJ2X2pvbzdpOCI6Mi44Niwidl8xajc4OGhzIjoyLjg3LCJ2X2djdDJ3dyI6Mi44OCwidl8xZnZkM3dnIjoyLjg5LCJ2X3k0MzNlbyI6Mi45LCJ2XzF4bW40ZTgiOjIuOTEsInZfN2g2Mm8wIjoyLjkyLCJ2XzE2enEzbmsiOjIuOTMsInZfcDhnMzVzIjoyLjk0LCJ2XzFvcjA0NWMiOjIuOTUsInZfYnd6a3NnIjoyLjk2LCJ2XzFiZmpsczAiOjIuOTcsInZfdG85bGE4IjoyLjk4LCJ2XzF0NnRtOXMiOjIuOTksInZfMzFja2prIjozLCJ2XzFkbmdjdTgiOjMuMDUsInZfbjBqYzNrIjozLjEsInZfMXF5d3Y3ayI6My4xNSwidl9nd3M5b2ciOjMuMiwidl8xN2pwYWY0IjozLjI1LCJ2X3U4OHMxcyI6My4zLCJ2XzFrdjVzc2ciOjMuMzUsInZfNXQ4aWRjIjozLjQsInZfMTlybTFoYyI6My40NSwidl9qNHAwcW8iOjMuNSwidl8xeDJueG1vIjozLjU1LCJ2X2JkMGUwdyI6My42LCJ2XzExenhlcmsiOjMuNjUsInZfdmM3NWt3IjozLjcsInZfMWx6NDZiayI6My43NSwidl85Z21wcyI6My44LCJ2XzFoOWIydGMiOjMuODUsInZfcW1lMjJvIjozLjksInZfMXVrcmw2byI6My45NSwidl9maXVhcmsiOjQsInZfMTY1cmJpOCI6NC4wNSwidl9zdWF0NHciOjQuMSwidl8xamg3dHZrIjo0LjE1LCJ2XzdyNW8xcyI6NC4yLCJ2XzFicGo3NXMiOjQuMjUsInZfbDJtNmY0Ijo0LjMsInZfMXZvcHlwcyI6NC4zNSwidl85ejJmNDAiOjQuNCwidl8xMGx6ZnVvIjo0LjQ1LCJ2X3l5MXZrMCI6NC41LCJ2XzFwa3l3YW8iOjQuNTUsInZfM3ZiY293Ijo0LjYsInZfMWVoZjR6ayI6NC42NSwidl9udWk0OHciOjQuNywidl8xcnN2bmN3Ijo0Ljc1LCJ2X2cydGhqNCI6NC44LCJ2XzE2cHFpOXMiOjQuODUsInZfdGU5endnIjo0LjksInZfMWsxNzBuNCI6NC45NSwidl80ejlxODAiOjUsInZfMTh4bjljMCI6NS4wNSwidl9pYXE4bGMiOjUuMSwidl8xeWozc3cwIjo1LjE1LCJ2X2N0ZzlhOCI6NS4yLCJ2XzEzZ2RhMHciOjUuMjUsInZfd3NuMHU4Ijo1LjMsInZfMW5mazFrdyI6NS4zNSwidl8xcHdoejQiOjUuNCwidl8xZm52ZXY0Ijo1LjQ1LCJ2X3AweWU0ZyI6NS41LCJ2XzFzemJ4OGciOjUuNTUsInZfZHhlbXRjIjo1LjYsInZfMTRrYm5rMCI6NS42NSwidl9yOHY1Nm8iOjUuNywidl8xaHZzNXhjIjo1Ljc1LCJ2Xzd0bmtlOCI6NS44LCJ2XzFiczEzaTgiOjUuODUsInZfbDU0MnJrIjo1LjksInZfMXZyN3YyOCI6NS45NSwidl9hMWtiZ2ciOjYsInZfMTBvaGM3NCI6Ni4wNSwidl94Y203bHMiOjYuMSwidl8xbnpqOGNnIjo2LjE1LCJ2XzI5dm9xbyI6Ni4yLCJ2XzFjdnpoMWMiOjYuMjUsInZfbTkyZ2FvIjo2LjMsInZfMXE3ZnplbyI6Ni4zNSwidl9oajljc2ciOjYuNCwidl8xODY2ZGo0Ijo2LjQ1LCJ2X3V1cHY1cyI6Ni41LCJ2XzFsaG12d2ciOjYuNTUsInZfNmZwbGhjIjo2LjYsInZfMWFlMzRsYyI6Ni42NSwidl9qcjYzdW8iOjYuNywidl8xeHA1MHFvIjo2Ljc1LCJ2X2J6aGg0dyI6Ni44LCJ2XzEybWVodmsiOjYuODUsInZfdnlvOG93Ijo2LjksInZfMW1sbDlmayI6Ni45NSwidl92eHB0cyI6Nywidl8xZ2h1NzBnIjo3LjA1LCJ2X3B1eDY5cyI6Ny4xLCJ2XzF0dGFwZHMiOjcuMTUsInZfZXJkZXlvIjo3LjIsInZfMTVlYWZwYyI6Ny4yNSwidl9zMnR4YzAiOjcuMywidl8xaXBxeTJvIjo3LjM1LCJ2XzZ6b3M4dyI6Ny40LCJ2XzFheTJiY3ciOjcuNDUsInZfa2I1YW04Ijo3LjUsInZfMXV4OTJ3dyI6Ny41NSwidl85N2xqYjQiOjcuNiwidl96dWlrMXMiOjcuNjUsInZfejVqa2xjIjo3LjcsInZfMXBzZ2xjMCI6Ny43NSwidl80MnQxcTgiOjcuOCwidl8xZW93dTB3Ijo3Ljg1LCJ2X28xenRhOCI6Ny45LCJ2XzFzMGRjZTgiOjcuOTUsInZfZ2FiNmtnIjo4LCJ2X3dkbm1yayI6OC41LCJ2XzhzbTU4ZyI6OSwidl9uODExNHciOjkuNSwidl9ia2kzMjgiOjEwLCJ2X3NlMmd3MCI6MTAuNSwidl8zZjMwZzAiOjExLCJ2X2h1aHdjZyI6MTEuNSwidl9lOG42ZGMiOjEyLCJ2X3hudXI1cyI6MTIuNSwidl82YnlxeW8iOjEzLCJ2X3ByNmJyNCI6MTMuNSwidl85M3Vvc2ciOjE0LCJ2X3R4MDhocyI6MTQuNSwidl8xbTVuZ2ciOjE1LCJ2X2xudWJjdyI6MTUuNSwidl9nbzFtZ3ciOjE2LCJ2X3YzZ2lkYyI6MTYuNSwidl83aWYwdTgiOjE3LCJ2X25scmgxYyI6MTcuNSwidl9jeDczc3ciOjE4LCJ2X3JjbHpwYyI6MTguNSwidl8yZG1qOWMiOjE5LCJ2X2p1d3lkYyI6MTkuNSwidl9ldjQ5aGMiOjIwLCJ2XzUzbjF0cyI6MjEsInZfYXhlaXY0IjoyMiwidl9kdHliayI6MjMsInZfZnM3ZjI4IjoyNCwidl84YWlkcTgiOjI1LCJ2X2JvdmVvMCI6MjYsInZfNDc2ZGMwIjoyNywidl9kbXNrY2ciOjI4LCJ2XzVxNDR4cyI6MjksInZfOXZ5MW9nIjozMCwidl8xcWl6MjgiOjMxLCJ2X2hqdnR2ayI6MzIsInZfNzBiOWMwIjozMywidl9jZjNjYW8iOjM0LCJ2XzM5Z3FvMCI6MzUsInZfZXpobDM0IjozNiwidl80ZngwamsiOjM3LCJ2X2E5b2hrdyI6MzgsInZfcDJodmsiOjM5LCJ2X2dpZmNvdyI6NDAsInZfOGdmdzFzIjo0MSwidl9iOGJ0dmsiOjQyLCJ2XzNxbXNqayI6NDMsInZfZTU3a2U4Ijo0NCwidl82bmlqMjgiOjQ1LCJ2XzlmZWd3MCI6NDYsInZfMTY4anI0Ijo0Nywidl9nemxla2ciOjQ4LCJ2XzdlemV2NCI6NDksInZfZDhxdndnIjo1MH19")),r=(n.prototype.addElement=function(e,t){e.lazyload&&e.fetchMarginPercent<e.renderMarginPercent&&(m(new Error("Lazyload Fetch Margin has to be greater than or equal to Render Margin")),e.fetchMarginPercent=e.renderMarginPercent);t={id:e.id,callback:t,lazyload:e.lazyload||!1,viewability:e.viewability||!0,autoDelete:e.autoDelete||!1,fetchMarginPercent:e.fetchMarginPercent||0,renderMarginPercent:e.renderMarginPercent||0,autoDeleteMarginPercent:e.autoDeleteMarginPercent||300,minHeight:e.minHeight||0,activeTab:!0,viewable:!1,inFetchZone:!1,inRenderZone:!1,inDeleteZone:!1};t.lazyload||this.incrementSlotsInFetchZone(),this.elements[e.id]=t,this.started&&this.runViewabilityCheck(t.id)},n.prototype.removeElement=function(e){this.elements[e]&&(this.killEntry(this.elements[e]),delete this.elements[e])},n.prototype.start=function(){this.activeTab=!0,this.updateElelemtsActiveTab();var e=new CustomEvent("properActiveTab");if(window.dispatchEvent(e),this.started)return!0;var t=this;this.timer=s.setInterval.call(t,function(){Object.keys(t.elements).forEach(function(e){t.runViewabilityCheck(e)},t)},200),this.started=!0},n.prototype.stop=function(){clearInterval(this.timer),this.activeTab=!1,this.updateElelemtsActiveTab();var e=new CustomEvent("properInactiveTab");window.dispatchEvent(e),Object.keys(this.elements).forEach(function(e){this.killEntry(this.elements[e])},this),this.started=!1},n.prototype.updateElelemtsActiveTab=function(){Object.keys(this.elements).forEach(function(e){this.elements[e].activeTab=this.activeTab},this)},n.prototype.runViewabilityCheck=function(e,t){var i=this.elements[e]||!1;i&&(e=!1,i.viewability&&(e=function(e){var t=!1,i=e.viewable;if(e.element=e.element||j.getElementById(e.id),!e.element)return!1;var s=e.element.getBoundingClientRect();if(0==s.height&&0<s.top&&s.top<window.innerHeight&&0<s.left&&s.right<window.innerWidth)return!0;var r=s.width*s.height,a=Math.max(s.top,0),n=Math.min(s.bottom,window.innerHeight),o=Math.min(s.right,window.innerWidth),s=Math.max(s.left,0);i=a<n&&s<o&&(s=Math.abs(n-a)*Math.abs(o-s),.5<s/r);return t=i!=e.viewable,e.viewable=i,t}(i)),((e=i.lazyload||i.autoDelete?this.checkMargins(i)||e:e)||t)&&i.callback(i))},n.prototype.calculateViewablePercentage=function(e){var t=e.getElement();if(null!==t){if("visible"!==window.top.document.visibilityState)return 0;e=t.getBoundingClientRect(),t={};if(void 0!==e)return t.left=Math.max(e.left,0),t.right=Math.min(e.right,window.top.innerWidth),t.left>=t.right?0:(t.top=Math.max(e.top,0),t.bottom=Math.min(e.bottom,window.top.innerHeight),t.top>=t.bottom?0:(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width*t.height/(e.width*e.height)*100))}return 0},n.prototype.checkMargins=function(e){if(e.element=e.element||j.getElementById(e.id),!e.element)return!1;var t=e.element.getBoundingClientRect(),i=(e.inFetchZone,e.inRenderZone,t.height||e.minHeight),t=t.top+i/2,i=!1;t>window.innerHeight?t-=window.innerHeight:t=t<0?(i=!0,Math.abs(t)):0;t=t/window.innerHeight*100;e.inDeleteZone=i&&e.autoDelete&&t>=e.autoDeleteMarginPercent;var s=(t<=e.fetchMarginPercent||-1==e.fetchMarginPercent)&&!e.inDeleteZone,r=(t<=e.renderMarginPercent||-1==e.fetchMarginPercent)&&!e.inDeleteZone,t=s!=e.inFetchZone||r!=e.inRenderZone||e.inDeleteZone;return s&&!e.inFetchZone?this.incrementSlotsInFetchZone():!s&&e.inFetchZone&&(this.slotsInFetchZone=Math.max(0,--this.slotsInFetchZone)),e.inFetchZone=s,e.inRenderZone=r,t},n.prototype.killEntry=function(e){e.inFetchZone&&(this.slotsInFetchZone=Math.max(0,--this.slotsInFetchZone)),e.activeTab=!1,e.viewable=!1,e.inFetchZone=!1,e.inRenderZone=!1,e.callback(e)},n.prototype.setCallback=function(e){this.auctionCallback=e},n.prototype.incrementSlotsInFetchZone=function(){this.slotsInFetchZone++,ProperMedia.utils.isFn(this.auctionCallback)&&(this.auctionCallback(),this.auctionCallback.auctionCallback=null)},n);function n(){this.timer=null,this.elements={},this.supportsPassive=function(){try{var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t),e}catch(e){return m(y.computeStackTrace(e)),!1}}(),this.activeTab=!0,this.slotsInFetchZone=0,this.auctionCallback=null,Z.ready(function(){var t,i,e,s,r;this.start(),t=this,i="hidden",e=function(e){j[i]?t.stop():t.start()},s=function(){t.stop()},r=function(){t.start()},e=y.wrap(e),s=y.wrap(s),r=y.wrap(r),i in j?j.addEventListener("visibilitychange",e):(i="mozHidden")in j?j.addEventListener("mozvisibilitychange",e):(i="webkitHidden")in j?j.addEventListener("webkitvisibilitychange",e):(i="msHidden")in j?j.addEventListener("msvisibilitychange",e):"onfocusin"in j?(j.onfocusin=r,j.onfocusout=s):"onpagehide"in window?(window.addEventListener("pagehide",s,!1),window.addEventListener("pageshow",r,!1)):"onblur"in window&&(window.onfocus=r,window.onblur=s)}.bind(this))}var o=(d.prototype.init=function(){this.start_ts=ProperMedia.utils.getTimestampMs(),this.setBidPageUrl(),this.viewability_tracker=new r,me.mylog("width: "+this.width),ge.init(),me.init_bid_data(),this.buildSlots(),ve.startNewAuction(),Ts()},d.prototype.setBidPageUrl=function(){this.spa_settings.enabled&&this.spa_settings.gallery_id&&this.spa_settings.gallery_base_url?this.bidder_page_url=this.spa_settings.gallery_base_url:this.bidder_page_url=this.url},d.prototype.setPageVariables=function(){this.uuid=ProperMedia.utils.generateUUID(),window.proper_ad_page_uuid=this.uuid,"https:"==j.location.protocol?(this.protocol="https:",this.use_ssl=!0):this.protocol="http:",this.url=ProperMedia.utils.getPageUrl(),this.path=ProperMedia.utils.getPagePath(),this.domain=ProperMedia.utils.getPageDomain(),this.get_vars=ProperMedia.utils.getUrlParameters(window.location.search.substring(1)),this.referrer=ProperMedia.utils.getPageReferrer(),this.canonical_url=ProperMedia.utils.getCanonicalUrl(),this.width=S(window).width(),this.height=S(window).height(),this.checkDomainProtection(),this.checkProperTestMode(),this.checkPageIsolation(),this.setPageMeta(),this.setPostId(),this.setSPASettings(),this.setVideoEnabled(),this.setDynamicAdMatches()},d.prototype.getTimeOnPage=function(){return 0==this.start_ts?0:Date.now()-this.start_ts},d.prototype.checkDomainProtection=function(){return he.domain_protection&&0==[he.domain].concat(he.additional_domains).filter(function(e){e=new RegExp("(^|\\.)"+e.replace(/(http(s)?:\/\/)?(www\.)?/,"")+"$");return this.domain.match(e)},this).length&&(me.mylog("WARNING: Domains don't match. Bids wont be sent out for this page"),this.dont_send_bids=!0),this.dont_send_bids},d.prototype.checkProperTestMode=function(){void 0!==this.get_vars.proper_test&&""!==this.get_vars.proper_test?(he.testing_mode.bidder=this.get_vars.proper_test,he.testing_mode.ids=!0):(void 0!==this.get_vars.proper_bidder&&""!==this.get_vars.proper_bidder&&(he.testing_mode.bidder=this.get_vars.proper_bidder),void 0!==this.get_vars.proper_test_ids&&""!==this.get_vars.proper_test_ids&&(he.testing_mode.ids=!0)),(he.testing_mode.bidder||he.testing_mode.ids)&&(me.mylog("TESTING MODE"),he.testing_mode.enabled=!0,he.isolated=void 0!==this.get_vars.proper_dfp&&1==this.get_vars.proper_dfp?0:1,this.isolated=he.isolated)},d.prototype.checkPageIsolation=function(){if(0<he.isolated_urls.length)for(var e=0;e<he.isolated_urls.length;e++){var t=he.isolated_urls[e];if(t&&this.path==t){this.isolated=1;break}}void 0!==properSpecialOps.isolated&&0==this.isolated&&(this.isolated=properSpecialOps.isolated),Z.ready(function(){me.mylog("CMP resolved: Present: "+ie.cmpPresent+", Applies: "+ie.gdprApplies+", Consent String: "+ie.consentString),ie.isolated?(he.isolated=1,this.isolated=1,me.mylog("Isolated mode due to consent")):1!=he.dfp_per_slot&&this.initDfp()}.bind(this))},d.prototype.setPageMeta=function(){this.page_meta=ProperMedia.utils.mergeObject({},{category:"",editor:"",writer:"",buyer:"",page_type:"",split:"",tags:[],custom:{}},properSpecialOps.page_meta||{}),properSpecialOps.tags&&properSpecialOps.tags.length&&this.page_meta.tags.unshift(properSpecialOps.tags),0<this.page_meta.tags.length?this.page_meta.tags.slice(0,9):this.page_meta.tags=[["unknown"]]},d.prototype.setPostId=function(){he.post_id=(void 0!==properSpecialOps.post_id&&null!=properSpecialOps.post_id?properSpecialOps:he).post_id,this.post_id=he.post_id},d.prototype.setSPASettings=function(){ProperMedia.utils.mergeObject(this.spa_settings,ProperMedia.utils.deepCopy(properSpecialOps.spa_settings))},d.prototype.setVideoEnabled=function(){this.video_enabled=void 0!==properSpecialOps.video_enabled?!!properSpecialOps.video_enabled:this.video_enabled},d.prototype.loadVideoPlayerScript=function(){var e;!0===this.video_enabled&&0==this.video_script_loaded&&void 0===window.ProperMediaVideo&&(window.propervideotag=window.propervideotag||[],(e=j.createElement("script")).src="https://player.propervideo.io/new_rtp/main.js",e.async=!0,window.top.document.getElementsByTagName("head")[0].appendChild(e)),this.video_script_loaded=!0},d.prototype.buildSlots=function(){for(a in Object.keys(he.ad_slots).reverse().forEach(function(t){Object.keys(he.ad_slots[t]).forEach(function(e){"dynamic"!=t&&this.buildSlot(t,e)},this)},this),this.dynamic_ad_matches)this.buildSlot("dynamic",this.dynamic_ad_matches[a])},d.prototype.buildSlot=function(e,t){var i=null;if(!e||!t)return i;var s=_e.isMobile()?"mobile":"desktop",r=ProperMedia.utils.deepAccess(he,"ad_slots."+e+"."+t)||{},a=ProperMedia.utils.deepAccess(r,"dynamic."+s)||{enabled:!1};if(a.enabled){var n=a.cssselector+":not(."+this.dynamic_css_class+")",o=j.querySelectorAll(n);if(o&&0<o.length)for(var d=0;d<o.length;d++){var p,l=o[d];a.instances=(parseInt(a.instances)||0)+1,(void 0===a.max_instances||a.instances<=parseInt(a.max_instances))&&((p=ProperMedia.utils.deepCopy(r)).dynamic[s].instance_number=a.instances,i=new c("video"==e?"video":"display",t,p,l))}}else i=ProperMedia.utils.deepAccess(this,"slots."+e+"."+t)?ProperMedia.utils.deepAccess(this,"slots."+e+"."+t):new c(e,t,r);return i},d.prototype.rebuildSlots=function(){Object.keys(this.slots).forEach(function(t){Object.keys(this.slots[t]).forEach(function(e){e=this.getSlotFromPageObject(e,[t]);e&&e.getElement()&&e.rebuildSlot()},this)},this),this.buildSlots()},d.prototype.SpaNextPage=function(){me.mylog("========== New SPA Page ==========");var e=this.getTimeOnPage();me.mylog("Time on page: "+e),this.spa_settings.page_number++,this.start_ts=ProperMedia.utils.getTimestampMs(),this.setPageVariables();ProperMedia.utils.deepAccess(this.spa_settings,"gallery_id")&&ProperMedia.utils.deepAccess(properSpecialOps,"spa_settings.gallery_id")&&ProperMedia.utils.deepAccess(this.spa_settings,"gallery_id")===ProperMedia.utils.deepAccess(properSpecialOps,"spa_settings.gallery_id")?ve.clearExpiredAds():ve.clearCachedAds(),this.setBidPageUrl(),me.mylog("width: "+this.width),ge.init(),me.init_bid_data(),this.setSPASettings(),ve.auction_count=0,ve.vid_auction_count=0,ve.startNewAuction(),this.rebuildSlots()},d.prototype.InfScrollNextPage=function(){me.mylog("========== New Infinite Scroll Page ==========");var e=this.getTimeOnPage();me.mylog("Time on page: "+e),this.spa_settings.page_number++,this.start_ts=ProperMedia.utils.getTimestampMs(),this.setPageVariables(),me.mylog("width: "+this.width),ge.init(),me.init_bid_data(),ve.auction_count=0,ve.vid_auction_count=0,ve.startNewAuction(),this.buildSlots()},d.prototype.initDfp=function(){if(1==this.dfp_init)return!1;1==he.confiant?pe.loadDFPTag(window):(ProperMedia.utils.deepAccess(he,"adlightning.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled"))&&le.loadDFPTag(window),function(){var e=j.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==j.location.protocol;e.src=(t?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js";t=j.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),googletag.cmd.push(function(){ie.noPersonalization&&googletag.pubads().setRequestNonPersonalizedAds(1),J.restrictDataProcessing&&googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),googletag.pubads().addEventListener("slotOnload",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=ye.getSlotFromPageObject(t)||ye.getSlotFromPageObjectByAdUnitPath(e);me.mylog("DFP slotOnload: "+t),e&&(e.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}),e.displayed_ad instanceof c&&1==e.displayed_ad.displayed&&e.displayed_ad.onBidWon(e))}),googletag.pubads().addEventListener("impressionViewable",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=ye.getSlotFromPageObject(t)||ye.getSlotFromPageObjectByAdUnitPath(e);me.mylog("DFP impressionViewable: "+t),e&&(e.interstitial&&(t=e,ProperMedia.utils.deepAccess(me,"interstitial_bid_data."+t.name)&&(me.bid_data.ad_slots[t.name]=ProperMedia.utils.deepAccess(me,"interstitial_bid_data."+t.name),clearTimeout(me.tracker_timeout),me.tracker_timeout=null,me.tracker_timeout=_.setTimeout.call(ye,function(){me.proper_tracker()},me.tracker_wait))),e.dispatchCustomEvent("proper-impression-viewable",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}))}),googletag.pubads().addEventListener("slotRenderEnded",y.wrap(function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),i=e.slot.getAdUnitPath(),i=ye.getSlotFromPageObject(t)||ye.getSlotFromPageObjectByAdUnitPath(i);me.mylog("DFP slotRenderEnded: "+t),i&&(i.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),i.interstitial?0==e.isEmpty&&Rs(i.name,e):(e.advertiserId==he.amazon_advertiser&&(e.size=(i.winning_ad.size||i.default_size).split("x")),e.advertiserId!=he.proper_advertiser&&e.advertiserId!=he.amazon_advertiser&&0==e.isEmpty&&(Rs(i.name,e),Bs(e.isEmpty,i.name,e.size.join("x"),e.creativeId,e.lineItemId,e.advertiserId)),(!i.sticky&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.reportAd")||ProperMedia.utils.deepAccess(he,"adlightning.enabled")&&ProperMedia.utils.deepAccess(he,"adlightning.reportAd"))&&le.addReportAd(e)))})),googletag.pubads().addEventListener("slotOnload",y.wrap(function(e){try{var t,i=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),s=e.slot.getAdUnitPath(),r=ye.getSlotFromPageObject(i)||ye.getSlotFromPageObjectByAdUnitPath(s);me.mylog("DFP slotOnload: "+i),r&&(!window.top.document.getElementById(r.dfpIframeId)||(t=window.top.document.getElementById(r.dfpIframeId).contentWindow.document)&&(t.getElementById("common_15click_overlay")||t.getElementById("common_15click_anchor"))&&m(new Error("Detected Google Confirmed Click: "+r.dfp_name+" | "+ProperMedia.utils.deepAccess(r,"displayed_ad.size"))))}catch(e){me.mylog("Error Detecting Google Confirmed Click: "+i)}})),googletag.pubads().setTagForChildDirectedTreatment(0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),this.dfp_enabled_services=!0}),this.dfp_init=1},d.prototype.dfpSraCall=function(){googletag.cmd.push(function(){var t;clearTimeout(this.sra_settings.timeout_handler),this.sra_settings.timeout_handler=null,0<Object.keys(this.sra_settings.slot_queue).length&&(1==properSpecialOps.update_correlator&&0==this.dfp_correlator&&1<this.spa_settings.page_number&&(googletag.pubads().updateCorrelator(),this.dfp_correlator=!0,me.mylog("Correlator updated for page: "+this.spa_settings.page_number)),t=[],Object.keys(this.sra_settings.slot_queue).forEach(function(e){e=this.sra_settings.slot_queue[e];t.push(e.dfp_slot),e.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),me.mylog("DFP refresh called: "+e.name),e.dfp_refreshed=1,e.auction_send_complete=!0},this),this.sra_settings.slot_queue={},googletag.pubads().refresh(t))}.bind(this))},d.prototype.getSlotFromPageObject=function(t,e){var i=null;return(e=e||Object.keys(this.slots)||["display","video","interstitial"]).forEach(function(e){this.slots[e][t]&&(i=this.slots[e][t])},this),i},d.prototype.getSlotFromPageObjectByAdUnitPath=function(i,e){var s=null;return(e=e||Object.keys(this.slots)||["display","video","interstitial"]).forEach(function(t){!s&&this.slots[t]&&Object.keys(this.slots[t])&&Object.keys(this.slots[t]).forEach(function(e){s||this.slots[t][e].dfpAdUnitPath!=i||(s=this.slots[t][e])},this)},this),s},d.prototype.getSlotByNumber=function(i,e){var s=null;return(e=e||Object.keys(this.slots)).forEach(function(t){Object.keys(this.slots[t]).forEach(function(e){e=this.slots[t][e];e.number==i&&(s=e)},this)},this),s},d.prototype.setDynamicAdMatches=function(){var e=[],t=!!(i=this.url.substr(this.url.indexOf(this.domain)+this.domain.length,this.url.length-1).replace(window.location.hash,"")).includes("?")&&i.split("?")[1],i=t?i.split("?")[0]:i;for(group in he.page_groups){var s=!1,r=he.page_groups[group];for(url in r.url_matches)(i==r.url_matches[url]||-1<r.url_matches[url].indexOf("*")&&1+i.search(r.url_matches[url].split("/").join("/").split("=").join("\\=").split("*").join(".*")))&&(s=!0);if(s){for(url in r.url_exclude)(i==r.url_exclude[url]||-1<r.url_exclude[url].indexOf("*")&&1+i.search(r.url_exclude[url].split("/").join("/").split("=").join("\\=").split("*").join(".*")))&&(s=!1);if(s&&(e=e.concat(r.ads)),t)for(utm_group in r.url_mods)for(utm in r.url_mods[utm_group].conditions)1+t.search(r.url_mods[utm_group].conditions[utm])&&(e=e.concat(r.url_mods[utm_group].extra_ads))}}this.dynamic_ad_matches=e},d);function d(){this.uuid=null,this.use_ssl=!1,this.protocol="http:",this.url="",this.domain="",this.path="",this.get_vars={},this.canonical_url="",this.bidder_page_url="",this.referrer="",this.isolated=0,this.width=0,this.height=0,this.post_id="",this.slots={display:{},video:{},interstitial:{}},this.sra_settings={slot_queue:{},timeout_handler:null,timeout_ms:10},this.video_enabled=null,this.video_script_loaded=!1,this.dynamic_css_class="proper-dynamic-insertion",this.start_ts=0,this.dfp_init=!1,this.dfp_correlator=!1,this.dfp_enabled_services=!1,this.dont_send_bids=!1,this.viewability_tracker={},this.dynamic_ad_matches=[],this.spa_settings={enabled:!1,prefetch:!1,gallery_id:null,page_number:1,gallery_base_url:""},this.page_meta={category:"",editor:"",writer:"",buyer:"",page_type:"",split:"",tags:[],custom:{}}}var c=(p.prototype.getElement=function(){return(this.iframe_window||top).document.getElementById(this.div_id)},p.prototype.getContentDocument=function(){return this.iframe_window?this.iframe_window.document:this.iframe_id?window.top.document.getElementById(this.iframe_id).contentDocument:window.top.document.getElementById(this.div_id+"-iframe")?window.top.document.getElementById(this.div_id+"-iframe").contentDocument:window.top.document},p.prototype.setStickySettings=function(e){try{var t;this.sticky&&(t=ProperMedia.utils.mergeObject({},this.sticky_settings,e.sticky_settings||{}),this.sticky_settings=ProperMedia.utils.deepCopy(t))}catch(e){return me.mylog("Error setting sticky settings: "+this.name),!1}return!0},p.prototype.setRefresh=function(e){try{var t=_e.isMobile()?"mobile":"desktop",i=e.refresh&&e.refresh[t]?e.refresh[t]:{},s=ProperMedia.utils.mergeObject({},this.refresh,he.refresh[t],i);this.refresh=ProperMedia.utils.deepCopy(s)}catch(e){return me.mylog("Error setting refresh settings: "+this.name),!1}return!0},p.prototype.setLazyload=function(e){try{var t=_e.isMobile()?"mobile":"desktop",i=e.lazyload&&e.lazyload[t]?e.lazyload[t]:{},s=ProperMedia.utils.mergeObject({},this.lazyload,he.lazyload[t],i);this.lazyload=ProperMedia.utils.deepCopy(s),this.sticky&&(this.lazyload.enabled=!1)}catch(e){return me.mylog("Error setting lazy-load settings: "+this.name),!1}return!0},p.prototype.setAutoDelete=function(e){try{var t=_e.isMobile()?"mobile":"desktop",i=ProperMedia.utils.deepAccess(e,"autoDelete."+t)||{},s=ProperMedia.utils.mergeObject({},this.autoDelete,he.autoDelete[t],i);this.autoDelete=ProperMedia.utils.deepCopy(s),this.sticky&&(this.autoDelete.enabled=!1)}catch(e){return me.mylog("Error setting auto delete settings: "+this.name),!1}return!0},p.prototype.setFloors=function(e){try{var t=_e.isMobile()?"mobile":"desktop",i=e.floors&&e.floors[t]?e.floors[t]:{},s=ProperMedia.utils.mergeObject({},this.floors,he.floors[t],i);this.floors=ProperMedia.utils.deepCopy(s)}catch(e){return me.mylog("Error setting floors settings: "+this.name),!1}return!0},p.prototype.setDynamic=function(e){try{var t=_e.isMobile()?"mobile":"desktop",i=e.dynamic&&e.dynamic[t]?e.dynamic[t]:{},s=ProperMedia.utils.mergeObject({},this.dynamic,i);this.dynamic=ProperMedia.utils.deepCopy(s)}catch(e){return me.mylog("Error setting dynamic settings: "+this.name),!1}return!0},p.prototype.getFloor=function(e){e=this.floors.sizes[e]||this.floors.backup||0;return parseFloat(e)},p.prototype.checkStickyFreqCapMet=function(){return!(1!=this.sticky||!(he.disable_sticky_on_close&&1==be.stickyFreqCapHandler.getStickyClosedCookie()||he.enable_sticky_freq_cap&&be.stickyFreqCapHandler.getStickyUnitImps()>=he.sticky_freq_cap))},p.prototype.setViewabilityTracker=function(){var e={id:this.div_id,lazyload:this.lazyload.enabled,viewability:!0,fetchMarginPercent:this.lazyload.fetchMarginPercent,renderMarginPercent:this.lazyload.renderMarginPercent,minHeight:this.min_height,autoDelete:this.autoDelete.enabled,autoDeleteMarginPercent:this.autoDelete.autoDeleteMarginPercent};ye.viewability_tracker.addElement(e,this.viewabilityChange.bind(this))},p.prototype.insertDynamicSlot=function(e,t){var i=j.createElement("div"),s=j.createElement("div");i.className=he.slot_wrapper_class,s.id="proper-ad-"+this.name,this.sticky&&(i.className+=" ad-sticky",i.style="display: none;"),""!=this.dynamic.css_ad&&(i.style+=this.dynamic.css_ad),""!=this.dynamic.css_page&&(head=j.head||j.getElementsByTagName("head")[0],style=j.createElement("style"),head.appendChild(style),style.type="text/css",style.styleSheet?style.styleSheet.cssText=this.dynamic.css_page:style.appendChild(j.createTextNode(this.dynamic.css_page))),"after"==t?e.parentNode.insertBefore(i,e.nextSibling):"before"==t?e.parentNode.insertBefore(i,e):"append"==t?e.appendChild(i):"prepend"==t&&(e.childNodes&&0<e.childNodes.length?e.insertBefore(i,e.childNodes[0]):e.appendChild(i)),i.appendChild(s),S(e).addClass(ye.dynamic_css_class)},p.prototype.buildSlot=function(e,t,i,s){return this.type=e||"display",this.name=t,this.dfp_name=t,this.number=i.number||0,this.sticky=i.sticky||0,this.size_map=i.resolution_size_map||{},this.mcm_type=i.mcm_type||he.mcm_type,this.dfp_id="mcm"==this.mcm_type&&he.proper_dfp_id!==he.dfp_id?he.proper_dfp_id+","+he.dfp_id:he.dfp_id,this.div_id="display"==this.type?"proper-ad-"+this.name:this.name,this.dfpAdUnitPath="/"+this.dfp_id+"/"+this.name,this.dfpIframeId="google_ads_iframe_"+this.dfpAdUnitPath+"_0",!(!this.name||"display"==this.type&&!this.number)&&(this.setDynamic(i),this.dynamic.enabled&&(this.child_name="dynamic_"+this.dynamic.instance_number,this.dfpAdUnitPath="/"+this.dfp_id+"/"+this.dfp_name+"/"+this.child_name,this.dfpIframeId="google_ads_iframe_"+this.dfpAdUnitPath+"_0",this.name=this.name+"_"+this.dynamic.instance_number,this.number=parseFloat(this.number+this.dynamic.instance_number/100),this.div_id="proper-ad-"+this.name,i.custom_css&&(this.dynamic.css_ad=i.custom_css[0]||"",this.dynamic.css_page=i.custom_css[1]||"")),this.getMaxTier(),this.parseTierSizes(),0!=this.sizes.length&&((!this.interstitial||1!=he.dfp_per_slot)&&(this.setFloors(i),this.setLazyload(i),this.setAutoDelete(i),this.dynamic.enabled&&this.insertDynamicSlot(s,this.dynamic.cssplacement),!!this.getElement()&&(i.video_player&&!1!==ye.video_enabled&&(a=ProperMedia.utils.deepAccess(he,"video_players."+i.video_player)||{},0<Object.keys(a).length&&(this.video_player=new l(i.video_player,a,this),this.video_type=this.video_player.player_settings.video_type)),"display"==this.type?(this.setStickySettings(i),this.setRefresh(i),this.ad_types.push("display","native"),this.video_player&&!1!==ye.video_enabled&&this.ad_types.push("video")):"video"==this.type&&this.video_player instanceof l&&!1!==ye.video_enabled&&this.ad_types.push("video"),this.checkVideoEnabled(),this.sticky&&(this.getElement().parentNode.className.includes("sticky-inner")||((r=this.getElement().parentNode).classList.add(this.name),(e=j.createElement("div")).setAttribute("class","sticky-inner"),e.setAttribute("style","display:none"),(t=j.createElement("div")).setAttribute("class","inner-left"),(s=j.createElement("div")).setAttribute("class","inner-right"),(a=j.createElement("a")).setAttribute("class","brand"),a.setAttribute("target","_blank"),a.setAttribute("href","https://proper.io?from=sticky"),(i=j.createElement("div")).setAttribute("class","close"),i.onclick=function(e){e.preventDefault(),r.classList.remove("isOpen"),r.classList.add("close"),this.sticky_settings.disable_on_close&&be.stickyFreqCapHandler.setStickyClosedCookie(),Fs(this.name)},t.appendChild(a),s.appendChild(i),e.appendChild(t),e.appendChild(s),r.appendChild(e),e.insertAdjacentElement("beforeEnd",this.getElement()))),this.refresh.enabled&&0==Object.keys(ve.auctions).length&&null==ve.timeout_handle&&ve.auction_count<ve.max_auctions&&ve.startNewAuction(),this.setViewabilityTracker(),("display"==(ye.slots[this.type][this.name]=this).type&&!this.lazyload.enabled||"video"==this.type&&ProperMedia.utils.deepAccess(this,"video_player.auto_insert"))&&(this.checkBidsReady()||(this.setWaitInterval(),this.setMaxAuctionTimeout())),"display"==this.type?Z.ready(function(){0==ye.isolated&&0==this.refresh.exclude_dfp&&(1==he.dfp_per_slot?0==this.dfp_init?this.initDfp():0==this.mapped_dfp_sizes&&this.buildDfpSizeMapping():(0==ye.dfp_init&&ye.initDfp(),1==ye.dfp_init&&0==this.mapped_dfp_sizes&&this.buildDfpSizeMapping()))}.bind(this)):this.interstitial&&Z.ready(function(){he.dfp_per_slot||(0==ye.dfp_init&&ye.initDfp(),1==ye.dfp_init&&(0==this.mapped_dfp_sizes&&(this.buildDfpSizeMapping(),this.dfp_ready=1),1==this.mapped_dfp_sizes&&(0==this.dfp_ready&&this.addBidToDfpSlot(),1==this.dfp_ready&&(0!=this.dfp_sent&&0!=this.dfp_refreshed||this.dfpDisplayOrRefresh()))))}.bind(this)),me.mylog("Building slot: "+this.name),this.tracking_times.built_ts=ProperMedia.utils.getTimestampMs(),!0))));var r,a},p.prototype.checkVideoEnabled=function(){-1===this.ad_types.indexOf("video")&&1!=ye.video_enabled||(null===ye.video_enabled&&(ye.video_enabled=!0),ye.loadVideoPlayerScript())},p.prototype.rebuildSlot=function(){var e,t;null==this.rebuild_timeout_handle&&"display"==this.type&&(e=Math.max(0,this.min_time_on_page-this.timeSinceDisplayed()),me.mylog("Rebuilding slot: "+this.name+" ("+e+")"),t=ProperMedia.utils.deepAccess(he,"ad_slots."+this.type+"."+this.name)||{},this.setRefresh(t),t=this.max_tier,this.getMaxTier(),t!==this.max_tier&&this.parseTierSizes(),this.rebuild_timeout_handle=_.setTimeout.call(this,function(){clearTimeout(this.rebuild_timeout_handle),this.rebuild_timeout_handle=null,this.refresh.count=0,this.resetBidData(),0<this.sizes.length&&Z.ready(function(){this.checkBidsReady()||(this.setWaitInterval(),this.setMaxAuctionTimeout())}.bind(this))},e))},p.prototype.getMaxTier=function(){this.max_tier=0,Object.keys(this.size_map).forEach(function(e){e=parseInt(e),ye.width>=e&&e>=this.max_tier&&(this.max_tier=e)},this)},p.prototype.parseTierSizes=function(){var e=0;if(this.sizes=this.size_map[this.max_tier]||[],this.sizes&&0<this.sizes.length){for(var t=0;t<this.sizes.length;t++){var i=this.sizes[t].split("x");if(i[0]=parseInt(i[0])||NaN,i[1]=parseInt(i[1])||NaN,isNaN(i[0])||isNaN(i[1])){if("interstitial"==this.sizes[t]){this.setInterstitial();break}}else 1!=i[0]&&1!=i[1]&&((i[0]<this.min_width||0==this.min_width)&&(this.min_width=i[0]),(i[1]<this.min_height||0==this.min_height)&&(this.min_height=i[1]),(i[0]*i[1]<e||0==e)&&(this.default_size=this.sizes[t].split("x"),e=i[0]*i[1]))}return!0}return!1},p.prototype.setInterstitial=function(){this.type="interstitial",this.ad_types=["interstitial"],this.sizes=["interstitial"],this.interstitial=!0,this.min_width=1,this.min_height=1,this.default_size=[1,1],this.refresh.enabled=!1,this.lazyload.enabled=!1},p.prototype.googletag=function(){return this.google_tag||(1==he.dfp_per_slot?this.google_tag={}:this.google_tag=googletag),void 0===this.google_tag.cmd&&(this.google_tag.cmd=[]),this.google_tag},p.prototype.buildDfpSizeMapping=function(){this.getElement()&&0<this.sizes.length&&0==this.mapped_dfp_sizes&&(this.googletag().cmd.push(function(){for(var e=[[1,1]],t=0;t<this.sizes.length;t++){var i,s=this.sizes[t];"1x1"!=s&&((i=s.split("x"))[0]=parseInt(i[0]),i[1]=parseInt(i[1]),isNaN(i[0])||isNaN(i[1])?"fluid"==s&&e.push(s):e.push(i))}if(this.interstitial?(this.dfp_slot=this.googletag().defineOutOfPageSlot(this.dfpAdUnitPath,this.googletag().enums.OutOfPageFormat.INTERSTITIAL).addService(this.googletag().pubads()),this.dfp_slot&&(this.div_id=this.dfp_slot.getSlotElementId())):ProperMedia.utils.checkOutOfPage(this.dfpAdUnitPath)?this.dfp_slot=this.googletag().defineOutOfPageSlot(this.dfpAdUnitPath,this.div_id).addService(this.googletag().pubads()):this.dfp_slot=this.googletag().defineSlot(this.dfpAdUnitPath,e,this.div_id).addService(this.googletag().pubads()),void 0!==ye.post_id&&null!=ye.post_id&&""!=ye.post_id||(ye.post_id="unknown"),this.dfp_slot.setTargeting("post_id",ye.post_id.toString()),void 0!==he.member&&null!=he.member&&""!=he.member||(he.member="no"),this.dfp_slot.setTargeting("member",he.member.toString()),this.dfp_slot.setTargeting("split_version",he.rtp_file_version.toString()),this.dfp_slot.setTargeting("proper_site",he.site_name),this.dfp_slot.setTargeting("proper_slot",this.number),this.dfp_slot.setTargeting("proper_page",ye.page_number),ProperMedia.utils.deepAccess(ye,"page_meta.tags")&&ye.page_meta.tags.length)for(t=0;t<ye.page_meta.tags.length;t++){var r=[];if(ye.page_meta.tags[t].length){for(var a=0;a<ye.page_meta.tags[t].length;a++){var n=ye.page_meta.tags[t][a];_e.isMobile()?r.push(n+"_mobile"):r.push(n+"_desktop")}r=r.concat(ye.page_meta.tags[t])}var o="tags"+(0==t?"":t+1);0<r.length?(this.dfp_slot.setTargeting(o,[r.toString()]),this.dfp_targeting[o]=1):1==this.dfp_targeting[o]&&(this.dfp_slot.clearTargeting(o),this.dfp_targeting[o]=0)}this.sticky&&this.dfp_slot.setTargeting("proper_sticky",this.sticky.toString()),0<Object.keys(this.floors.sizes).length&&Object.keys(this.floors.sizes).map(function(e){var t;-1===this.sizes.indexOf(e)||(t=this.floors.sizes[e])>this.floors.backup&&(t=zs(t),this.dfp_slot.setTargeting("proper_floor_"+e,t.toFixed(2).toString()))},this);var d=zs(this.floors.backup);this.dfp_slot.setTargeting("proper_floor",d.toFixed(2).toString()),0<ge.sessionData.depth&&this.dfp_slot.setTargeting("s_depth",ge.sessionData.depth.toString())}.bind(this)),(this.mapped_dfp_sizes=1)!=this.bids_ready||this.dfp_ready||this.addBidToDfpSlot())},p.prototype.recycleBid=function(){this.hasWinningBid()&&!this.winning_ad.checkIfExpired()&&0==this.winning_ad.displayed&&(ve.addBidToPool(this.winning_ad),delete this.winning_ad,this.winning_ad={})},p.prototype.clearWinningBid=function(){return this.hasWinningBid()&&(0!=this.winning_ad.displayed||this.winning_ad.checkIfExpired()||ve.addBidToPool(this.winning_ad),delete this.winning_ad,this.winning_ad={}),!0},p.prototype.hasWinningBid=function(){return this.winning_ad instanceof z&&""!==this.winning_ad.bidder&&0<this.winning_ad.price},p.prototype.getWinningBid=function(e,t){e=e||this.ad_types,t=t||this.video_type;return this.clearWinningBid(),ve.getWinningBid(this,e,t),this.hasWinningBid()},p.prototype.checkBidsReady=function(){return!(As()||!this.getElement()||1==this.kill_slot||this.interstitial||1==this.auction_send_complete||this.lazyload.enabled&&!this.lazyload.inRenderZone)&&(!((0<Object.keys(ve.auctions).length||0==Object.keys(ve.finished_auctions).length)&&!this.max_timeout_met)&&(this.getWinningBid(this.ad_types,this.video_type)||this.max_timeout_met?(this.bids_ready=1,this.tracking_times.bids_ready_ts=ProperMedia.utils.getTimestampMs(),"display"==this.type&&(this.hasWinningBid()&&-1!==this.ad_types.indexOf(this.winning_ad.type)&&-1!==["display","native"].indexOf(this.winning_ad.type)||!this.hasWinningBid()&&this.max_timeout_met)?(-1!==this.ad_types.indexOf("video")&&this.video_player instanceof l&&this.video_player.removePlayer(),1==ye.isolated||1==this.refresh.exclude_dfp?this.lazyload.enabled&&!this.lazyload.inRenderZone||Ds(this)&&(this.auction_send_complete=!0):1==he.dfp_per_slot?0==this.dfp_init?this.initDfp():0==this.mapped_dfp_sizes?this.buildDfpSizeMapping():0==this.dfp_ready?this.addBidToDfpSlot():this.dfp_sent&&this.dfp_refreshed||this.dfpDisplayOrRefresh():(0==ye.dfp_init&&ye.initDfp(),1==ye.dfp_init&&(0==this.mapped_dfp_sizes&&this.buildDfpSizeMapping(),1==this.mapped_dfp_sizes&&(0==this.dfp_ready&&this.addBidToDfpSlot(),1==this.dfp_ready&&(0!=this.dfp_sent&&0!=this.dfp_refreshed||this.dfpDisplayOrRefresh()))))):(this.hasWinningBid()&&"video"==this.winning_ad.type&&-1!==this.ad_types.indexOf(this.winning_ad.type)||"video"==this.type&&this.max_timeout_met)&&this.video_player&&this.video_player instanceof l&&(this.refresh.enabled=0,this.removeRefreshTimeout(),this.auction_send_complete=!0,this.video_player.removePlayer(),this.video_player.insertPlayer()),1==this.auction_send_complete&&(this.clearWaitInterval(),this.clearMaxAuctionTimeout()),!0):(this.clearWinningBid(),!1)))},p.prototype.initDfp=function(){if(1==this.dfp_init)return!1;var e,t=!1;if(this.iframe_window)e=this.iframe_window,t=!0;else if(this.iframe_id){if(!(s=j.getElementById(this.iframe_id)))return void me.mylog("ERROR: "+this.iframe_id+" doesn't exist in the DOM.");this.iframe_window=s.contentWindow,e=s.contentWindow,t=!0}else{var i=j.getElementById(this.div_id);if(!i)return void me.mylog("WARNING: "+this.div_id+" doesn't exist in the DOM. This should re-run when proper_display is called");var s=j.createElement("iframe");i.innerHTML="",i.appendChild(s),s.id=this.div_id+"-iframe",s.frameBorder=0,s.scrolling="no",s.marginWidth="0",s.marginHeight="0",s.style.overflow="hidden",s.style.border="0px",s.style.width="1px",s.style.height="1px",s.style.verticalAlign="bottom";i="<html><head><script src='https://securepubads.g.doubleclick.net/tag/js/gpt.js' async><\/script></head><body><div id='"+this.div_id+"'></div></body></html>";s.src='javascript:"'+i+'"',s.contentWindow.document.open(),s.contentWindow.document.write(i),s.contentWindow.document.close(),e=s.contentWindow,this.iframe_window=e}t&&((s=j.createElement("script")).async=!0,s.type="text/javascript",t="https:"==j.location.protocol,s.src=(t?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js",e.document.getElementsByTagName("head")[0].appendChild(s)),1==he.confiant?pe.loadDFPTag(e):(ProperMedia.utils.deepAccess(he,"adlightning.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled"))&&le.loadDFPTag(window),e.googletag=e.googletag||{},this.google_tag=e.googletag||{},void 0===this.googletag().cmd&&(this.googletag().cmd=[]),this.googletag().cmd.push(function(){ie.noPersonalization&&this.googletag().pubads().setRequestNonPersonalizedAds(1),J.restrictDataProcessing&&this.googletag().pubads().setPrivacySettings({restrictDataProcessing:!0}),this.googletag().pubads().addEventListener("slotOnload",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=ye.getSlotFromPageObject(t);me.mylog("DFP slotOnload: "+t),e&&(e.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}),e.displayed_ad instanceof p&&1==e.displayed_ad.displayed&&e.displayed_ad.onBidWon(e))}),this.googletag().pubads().addEventListener("impressionViewable",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=ye.getSlotFromPageObject(t)||ye.getSlotFromPageObjectByAdUnitPath(e);e&&(me.mylog("DFP impressionViewable: "+t),e.dispatchCustomEvent("proper-impression-viewable",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}))}),this.googletag().pubads().addEventListener("slotRenderEnded",y.wrap(function(e){var t=e.slot.getSlotElementId(),i=ProperMedia.utils.extractSlotName(t),t=ye.getSlotFromPageObject(i);me.mylog("DFP slotRenderEnded: "+i),t&&(t.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),e.advertiserId!==he.proper_advertiser&&e.advertiserId!=he.amazon_advertiser&&0==e.isEmpty&&(Rs(i,e),Bs(e.isEmpty,i,e.size.join("x"),e.creativeId,e.lineItemId,e.advertiserId)),(!t.sticky&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.reportAd")||ProperMedia.utils.deepAccess(he,"adlightning.enabled")&&ProperMedia.utils.deepAccess(he,"adlightning.reportAd"))&&le.addReportAd(e))})),this.googletag().pubads().addEventListener("slotOnload",y.wrap(function(e){try{var t,i,s=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),r=ye.getSlotFromPageObject(s);me.mylog("DFP slotOnload: "+s),!r||(t=r.getContentDocument())&&t.getElementById(r.dfpIframeId)&&((i=t.getElementById(r.dfpIframeId).contentWindow.document)&&(i.getElementById("common_15click_overlay")||i.getElementById("common_15click_anchor"))&&m(new Error("Detected Google Confirmed Click: "+r.dfp_name+" | "+ProperMedia.utils.deepAccess(r,"displayed_ad.size"))))}catch(e){me.mylog("Error Detecting Google Confirmed Click: "+s)}})),this.googletag().pubads().setTagForChildDirectedTreatment(0),this.googletag().pubads().disableInitialLoad(),this.googletag().pubads().enableSingleRequest(),this.googletag().enableServices(),this.dfp_enabled_services=!0}.bind(this)),this.dfp_init=1,this.buildDfpSizeMapping()},p.prototype.addBidToDfpSlot=function(){this.googletag().cmd.push(function(){if(this.dfp_ready||!this.mapped_dfp_sizes||!this.isSlotDefinedInGPT()||"video"==this.winning_ad.type)return!1;var e;0<this.dfp_slot.getTargeting("amznbid").length&&this.dfp_slot.clearTargeting("amznbid"),0<this.dfp_slot.getTargeting("amzniid").length&&this.dfp_slot.clearTargeting("amzniid"),this.hasWinningBid()?(this.winning_ad.dfp_price=function(e){e=he.thirdPartyAdManager?40<e?40:(Math.ceil(20*e)/20).toFixed(2):800<e?800:(100<e?Math.ceil(e):Math.ceil(20*e)/20).toFixed(2);return e}(this.winning_ad.price),me.mylog("Bid added to DFP request ("+this.winning_ad.bidder+", "+this.name+"@"+this.winning_ad.size+") = "+this.winning_ad.dfp_price),this.dfp_slot.setTargeting("proper_bidder",he.site_name+"_"+this.winning_ad.bidder),this.dfp_slot.setTargeting("proper_bid",this.winning_ad.dfp_price),ProperMedia.utils.deepAccess(this,"winning_ad.ad_details.amznbid")&&ProperMedia.utils.deepAccess(this,"winning_ad.ad_details.amzniid")&&(this.dfp_slot.setTargeting("amznbid",ProperMedia.utils.deepAccess(this,"winning_ad.ad_details.amznbid")),this.dfp_slot.setTargeting("amzniid",ProperMedia.utils.deepAccess(this,"winning_ad.ad_details.amzniid")))):(0<this.dfp_slot.getTargeting("proper_bid").length&&this.dfp_slot.clearTargeting("proper_bid"),0<this.dfp_slot.getTargeting("proper_bidder").length&&this.dfp_slot.clearTargeting("proper_bidder"),me.mylog("Bid added to DFP request ("+this.name+") = 0.00")),this.dfp_slot.setTargeting("s_depth",ge.sessionData.depth.toString()),0<this.refresh.count?(e=[],0!=this.advertiserId&&(e.push(this.advertiserId),this.advertiserId=0),0<(e=e.concat(this.exclude_advertiser)).length?this.dfp_slot.setTargeting("exclude_advertiser",e):0<this.dfp_slot.getTargeting("exclude_advertiser").length&&this.dfp_slot.clearTargeting("exclude_advertiser")):void 0!==ye.get_vars.proper_dfp&&1==ye.get_vars.proper_dfp&&1==he.testing_mode.enabled&&this.dfp_slot.setTargeting("exclude_advertiser",[he.google_advertiser,he.adsense_advertiser]),void 0===this.refresh.count?this.dfp_slot.setTargeting("refresh_count",0):this.dfp_slot.setTargeting("refresh_count",this.refresh.count.toString()),this.dfp_ready=1,this.getElement()&&this.dfpDisplayOrRefresh()}.bind(this))},p.prototype.dfpDisplayOrRefresh=function(){this.googletag().cmd.push(function(){this.dfp_sent||(this.dfp_sent=1,this.googletag().display(this.div_id),me.mylog("DFP display called: "+this.name)),1==he.dfp_per_slot?this.dfpSraCall():ProperMedia.utils.deepAccess(ye,"sra_settings.slot_queue."+this.name)||(ye.sra_settings.slot_queue[this.name]=this,clearTimeout(ye.sra_settings.timeout_handler),ye.sra_settings.timeout_handler=null,ye.sra_settings.timeout_handler=_.setTimeout.call(ye,function(){ye.dfpSraCall()},ye.sra_settings.timeout_ms))}.bind(this))},p.prototype.dfpSraCall=function(){this.googletag().cmd.push(function(){1==properSpecialOps.update_correlator&&0==ye.dfp_correlator&&1<ye.spa_settings.page_number&&(this.googletag().pubads().updateCorrelator(),ye.dfp_correlator=!0,me.mylog("Correlator updated for page: "+ye.spa_settings.page_number)),this.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),me.mylog("DFP refresh called: "+this.name),this.dfp_refreshed=1,this.auction_send_complete=!0,this.googletag().pubads().refresh([this.dfp_slot])}.bind(this))},p.prototype.setWaitInterval=function(){me.mylog("Set wait interval for "+this.name+" ( "+this.wait_interval+" )");var e=this;null==this.wait_interval_handle&&(this.wait_interval_handle=s.setInterval.call(e,function(){e.checkBidsReady()},e.wait_interval))},p.prototype.clearWaitInterval=function(){clearInterval(this.wait_interval_handle),this.wait_interval_handle=null},p.prototype.setMaxAuctionTimeout=function(){var e=this;null==this.max_timeout_handle&&(this.auction_started_ts=ProperMedia.utils.getTimestampMs(),this.max_timeout_handle=_.setTimeout.call(e,function(){e.max_timeout_met=!0,e.clearWaitInterval(),e.clearMaxAuctionTimeout(),e.checkBidsReady()},e.max_timeout))},p.prototype.clearMaxAuctionTimeout=function(){clearTimeout(this.max_timeout_handle),this.max_timeout_handle=null},p.prototype.setRefreshInterval=function(){if(0==this.refresh.enabled||1==this.winning_ad.displayed&&1==ProperMedia.utils.deepAccess(he,"bidder_info."+this.winning_ad.bidder+".dont_refresh"))return this.refresh.enabled=0,!1;var e=Math.max(this.refresh.interval,this.refresh.min_interval);if(-1!==this.refresh.inview_interval){if(!this.viewability.viewable)return!1;e=Math.max(0,this.refresh.inview_interval-this.viewability.total_time_inview,e-this.timeSinceDisplayed())}else e=Math.max(0,e-this.timeSinceDisplayed());return this.refresh.current_interval=e,this.addRefreshTimeout(this.refresh.current_interval),!0},p.prototype.addRefreshTimeout=function(e){var t=this;this.removeRefreshTimeout(),this.refresh_handler=_.setTimeout.call(t,function(){t.removeRefreshTimeout(),t.refreshSlot()},e),me.mylog(this.name+": Starting refresh timer. ms = "+e)},p.prototype.timeSinceDisplayed=function(){return 0==this.last_displayed_ts?0:Date.now()-this.last_displayed_ts},p.prototype.removeRefreshTimeout=function(){this.refresh_handler&&(me.mylog(this.name+": Removing refresh timer."),clearTimeout(this.refresh_handler),this.refresh_handler=null)},p.prototype.resetBidData=function(){this.last_displayed_ts=0,this.dfp_ready=0,this.dfp_refreshed=0,this.winning_ad={},this.exclude_advertiser=[],this.advertiserId=0,this.auction_started_ts=0,this.max_timeout_met=!1,this.auction_send_complete=!1,this.adl_blocked=!1,this.viewability.entered_inview_ts=this.viewability.viewable?ProperMedia.utils.getTimestampMs():0,this.viewability.total_time_inview=0,this.clearWaitInterval(),this.clearMaxAuctionTimeout(),this.removeRefreshTimeout()},p.prototype.refreshSlot=function(){return this.refresh.count<this.refresh.max&&(!(this.lazyload.enabled&&!this.lazyload.inFetchZone)&&(me.mylog("Refreshing slot: "+this.name),this.refresh.count++,this.resetBidData(),this.checkBidsReady()||(this.setWaitInterval(),this.setMaxAuctionTimeout()),!0))},p.prototype.getTimeInview=function(){return 0==this.viewability.entered_inview_ts?0:Date.now()-this.viewability.entered_inview_ts},p.prototype.viewabilityChange=function(e){return e.inDeleteZone?(this.deleteSlot(!0),!1):(this.viewability.viewable===e.viewable&&this.viewability.activeTab===e.activeTab||(me.mylog(this.name+": Viewability Change. visible = "+e.viewable+" Active Tab = "+e.activeTab),this.viewability.viewable=e.viewable,this.displayed&&this.refresh.enabled&&this.refresh.count<this.refresh.max&&e.activeTab&&(e.viewable&&-1!==this.refresh.inview_interval||-1==this.refresh.inview_interval)?this.setRefreshInterval():this.removeRefreshTimeout(),e.viewable?(this.dispatchCustomEvent("inview"),this.viewability.entered_inview_ts=ProperMedia.utils.getTimestampMs()):(this.dispatchCustomEvent("not-inview"),this.viewability.total_time_inview+=this.getTimeInview()),this.viewability.activeTab=e.activeTab),this.viewability.viewable||this.getElement()?(this.lazyload.enabled&&(this.lazyload.inFetchZone!==e.inFetchZone&&(me.mylog(this.name+": LazyLoad Change. inFetchZone = "+e.inFetchZone),this.lazyload.inFetchZone=e.inFetchZone,this.lazyload.inFetchZone?(this.wait_interval_handle||this.max_timeout_met||this.setWaitInterval(),this.max_timeout_handle||this.max_timeout_met||this.setMaxAuctionTimeout()):this.clearWaitInterval()),this.lazyload.inRenderZone!==e.inRenderZone&&(me.mylog(this.name+": LazyLoad Change. inRenderZone = "+e.inRenderZone),this.lazyload.inRenderZone=e.inRenderZone,this.lazyload.inRenderZone&&this.checkBidsReady())),!0):(this.deleteSlot(!0),!1))},p.prototype.dispatchCustomEvent=function(e,t){t=t||{},t=ProperMedia.utils.mergeObject({slot:this.name,event:e},t),t=new CustomEvent("properEvents",{detail:t});window.dispatchEvent(t)},p.prototype.getGPTSlots=function(){var e=[];return 0==ye.isolated&&this.googletag().cmd.push(function(){e=this.googletag().pubads().getSlots().map(function(e){return e.getSlotElementId()})}.bind(this)),e},p.prototype.isSlotDefinedInGPT=function(){return!!this.div_id&&-1!==this.getGPTSlots().indexOf(this.div_id)},p.prototype.removeCreative=function(){var e;0<this.refresh.count&&ProperMedia.utils.deepAccess(this,"displayed_ad.bidder")&&(e=Ns(this.displayed_ad.bidder),void 0!==ce[e]&&"function"==typeof ce[e].removeCreative&&ce[e].removeCreative(this))},p.prototype.removeElemFromDOM=function(){var e=window.top.document.getElementById(this.div_id);e&&(e=-1!==e.parentNode.className.indexOf(he.slot_wrapper_class)?e.parentNode:e).parentNode.removeChild(e)},p.prototype.deleteSlot=function(e){0==this.kill_slot&&(this.kill_slot=!0,this.refresh.enabled=0,this.resetBidData(),this.lazyload.enabled=0,this.destroyDfpSlot(),ye.viewability_tracker.removeElement(this.div_id),e&&this.getElement()&&this.removeElemFromDOM(),ye.getSlotFromPageObject(this.name,[this.type])&&delete ye.slots[this.type][this.name],me.mylog("Deleted Slot: "+this.name))},p.prototype.destroyDfpSlot=function(){0==ye.isolated&&this.isSlotDefinedInGPT()&&(this.googletag().cmd.push(function(){this.googletag().destroySlots([this.dfp_slot])}.bind(this)),this.dfp_slot={},this.dfp_init=0,this.dfp_ready=0,this.dfp_sent=0,this.dfp_refreshed=0,this.mapped_dfp_sizes=0)},p);function p(e,t,i,s){this.name="",this.dfp_name="",this.number=0,this.dfp_id=0,this.mcm_type="mcm",this.type="",this.div_id="",this.max_tier=0,this.size="0x0",this.sizes=[],this.default_size=[0,0],this.min_width=0,this.min_height=0,this.interstitial=!1,this.last_displayed_ts=0,this.dfp_slot={},this.dfp_init=0,this.dfp_ready=0,this.dfp_sent=0,this.dfp_refreshed=0,this.google_tag=null,this.mapped_dfp_sizes=0,this.dfp_enabled_services=!1,this.dfp_targeting={},this.auction_send_complete=!1,this.winning_ad={},this.displayed_ad={},this.displayed=0,this.delay_handle=null,this.auction_started_ts=null,this.max_timeout_handle=null,this.max_timeout_met=!1,this.max_timeout=1200,this.wait_interval=50,this.wait_interval_handle=null,this.min_time_on_page=2e3,this.rebuild_timeout_handle=null,this.exclude_advertiser=[],this.advertiserId=0,this.report_ad_tool=0,this.video_player=null,this.video_type="",this.ad_types=[],this.sticky=0,this.adl_blocked=!1,this.sticky_settings={brand:1,close_btn:1,disable_on_close:0,freq_cap_enabled:0,freq_cap:0,position:"right"},this.refresh={enabled:0,max:5,count:0,interval:6e4,min_interval:15e3,current_interval:6e4,inview_interval:15e3,exclude_dfp:0},this.floors={backup:.15,sizes:{}},this.lazyload={enabled:1,inFetchZone:!1,inRenderZone:!1,fetchMarginPercent:0,renderMarginPercent:0},this.autoDelete={enabled:!1,inDeleteZone:!1,autoDeleteMarginPercent:200},this.viewability={viewable:!1,activeTab:!0,entered_inview_ts:0,total_time_inview:0},this.dynamic={enabled:!1,cssplacement:"after",cssselector:"",instance_number:0,child_name:"",css_ad:"",css_page:""},this.tracking_times={built_ts:0,bids_ready_ts:0,dfp_sent_ts:0,dfp_returned_ts:0,creative_on_page:0},this.kill_slot=!1,this.buildSlot(e,t,i,s)}var l=function(e,t,i){this.slot=null,this.auto_insert=!1,this.auto_inserted=!1,this.player_settings={id:"",div_id:"",dfp_ad_unit:"",video_id:"",video_type:"",number_of_ads:10,autoplay:1,backfill:!1,backfill_id:"",small_player:"desktop_ad",small_player_bottom:100,ad_failure_limit:5,vast_timeout:5e3,no_ads_no_player:!1},this.getElement=function(){return top.document.getElementById(this.player_settings.div_id)},this.init=function(e,t,i){this.slot=i,this.checkAutoInsert(),this.setPlayerSettings(e,t.player_settings)},this.checkAutoInsert=function(){var e=top.document.getElementById(this.slot.div_id);e&&(e.classList.contains("propervideo-main_player_container")||e.hasAttribute("data-video-id"))?(this.div_id=this.slot.div_id,this.auto_insert=!1):this.auto_insert=!0},this.setPlayerSettings=function(e,t){var i=this.player_settings.div_id||e+"-"+ProperMedia.utils.makeid(10);(t=ProperMedia.utils.mergeObject({},this.player_settings,t||{},{id:e,div_id:i})).autoplay=t.autoplay?1:0,this.player_settings=ProperMedia.utils.deepCopy(t)},this.insertPlayer=function(){var e,t=top.document.getElementById(this.slot.div_id);t&&this.auto_insert&&(j.getElementById(this.player_settings.div_id)?(window.top.propervideotag=window.top.propervideotag||[],this.auto_inserted&&"outstream"==this.player_settings.video_type?window.top.propervideotag.push(function(){window.top.propervideo_display(this.player_settings.div_id,this.slot.name,he.site_name,"outstream_restart")}.bind(this)):window.top.propervideotag.push(function(){window.top.propervideo_display(this.player_settings.div_id,this.slot.name,he.site_name)}.bind(this))):(this.slot.getElement().innerHTML="",!he.dfp_per_slot||(e=top.document.getElementById(this.slot.div_id+"-iframe"))&&(e.style.width="0px",e.style.height="0px"),e=this.buildPlayerElem(),t.prepend(e),this.auto_inserted=!0))},this.removePlayer=function(){try{var e=top.document.getElementById(this.player_settings.div_id);e&&(this.auto_inserted=!1,e.remove()),this.destroyVideoPlayerObj()}catch(e){}},this.destroyVideoPlayer=function(){this.removePlayer();var e=ProperMedia.utils.deepAccess(he,"ad_slots."+this.slot.type+"."+this.slot.name)||{};this.slot.setRefresh(e),this.slot.refreshSlot()},this.destroyVideoPlayerObj=function(){if("undefined"!=typeof ProperMediaVideo&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications")&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications").length)for(var e=0;e<ProperMediaVideo.ad_project.applications.length;e++)if(ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications."+e+".video_player.destroy_player")&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications."+e+".div_name")==this.player_settings.div_id){ProperMediaVideo.ad_project.applications[e].video_player.destroy_player();break}},this.buildPlayerElem=function(){if("instream"==this.player_settings.video_type){(t=j.createElement("div")).id=this.player_settings.div_id,t.setAttribute("data-video-id",this.player_settings.video_id),t.setAttribute("data-small-player",this.player_settings.small_player),this.player_settings.number_of_ads&&t.setAttribute("data-number-of-ads",this.player_settings.number_of_ads),this.player_settings.autoplay&&t.setAttribute("data-autoplay",this.player_settings.autoplay?1:0);var e='var window.top.propervideotag = window.top.propervideotag || []; window.top.propervideotag.push(function(){ window.top.propervideo_display("'+this.player_settings.div_id+'", "'+this.slot.name+'", "'+this.slot.name+'"); });';return(i=j.createElement("script")).type="text/javascript",i.appendChild(j.createTextNode(e)),t.appendChild(i),t}if("outstream"==this.player_settings.video_type){var t;(t=j.createElement("div")).id=this.player_settings.div_id,t.setAttribute("data-auto-injected",!0),t.setAttribute("data-video-id",he.site_name+"-"+this.player_settings.video_type),t.setAttribute("data-outstream",this.player_settings.video_type),t.setAttribute("data-small-player",this.player_settings.small_player),t.setAttribute("data-backfill",this.player_settings.backfill),this.player_settings.backfill&&this.player_settings.backfill_id&&t.setAttribute("data-backfill-id",this.player_settings.backfill_id),this.player_settings.number_of_ads&&t.setAttribute("data-number-of-ads",this.player_settings.number_of_ads),this.player_settings.autoplay&&t.setAttribute("data-autoplay",this.player_settings.autoplay?1:0);var i,e='window.top.propervideotag = window.top.propervideotag || []; window.top.propervideotag.push(function(){ window.top.propervideo_display("'+this.player_settings.div_id+'", "'+this.slot.name+'", "'+he.site_name+'", "outstream_restart"); });';return(i=j.createElement("script")).type="text/javascript",i.appendChild(j.createTextNode(e)),t.appendChild(i),t}},this.adSuccessCallback=function(){console.log("adSuccessCallback")},this.adErrorCallback=function(){console.log("adErrorCallback")},this.init(e,t,i)},u=(h.prototype.incrementRequestsSent=function(e){this.sent+=isNaN(parseInt(e))?0:parseInt(e),this.auction.incrementRequestsSent(e)},h.prototype.incrementBidResponseCount=function(e){this.returned+=isNaN(parseInt(e))?0:parseInt(e),this.auction.incrementBidResponseCount(e)},h.prototype.logBidResponse=function(e){"a9"==Ns(this.bidder)&&(e.price=t[e.type][e.price]||0,e.gross=e.price),e.price&&"display"==e.type&&e.adcode||"video"==e.type&&e.vast_tag||"native"==e.type&&Object.keys(e.native).length?(this.responses.push(ProperMedia.utils.deepCopy(e)),this.auction.logBidResponse(e),me.log_bid(e)):this.logNoBidResponse(e)},h.prototype.logNoBidResponse=function(e){this.responses_no_bid.push(e),me.log_bid(e)},h.prototype.logBidResponseError=function(e){this.response_errors.push(e)},h);function h(e,t,i){this.bidder=e,this.auction=i,this.sent=0,this.returned=0,this.requests=t,this.responses=[],this.responses_no_bid=[],this.response_errors=[]}var z=(g.prototype.timePassed=function(){return(new Date).getTime()-this.received_ts},g.prototype.checkIfExpired=function(){return this.timePassed()>this.ttl},g.prototype.timeTillExpiration=function(){return this.ttl-this.timePassed()},g.prototype.onBidWon=function(e){var t=Ns(this.bidder);ProperMedia.utils.deepAccess(ce,t+".onBidWon")&&ce[t].onBidWon(this,e),"native"==this.type&&Os("impression",this)},g);function g(e){this.type=e.type||"display",this.gross=e.gross||0,this.price=e.price||0,this.displayed=e.displayed||0,this.dfp_price=e.dfp_price||0,this.bidder=e.bidder||"",this.size=e.size||"1x1",this.adcode=e.adcode||"",this.nurl=e.nurl||"",this.burl=e.burl||"",this.vast_tag=e.vast_tag||"",this.vast_type=e.vast_type||"",this.vpaid=e.vpaid||!1,this.video_type=e.video_type||"",this.tag_id=e.tag_id||"",this.ad_details=e.ad_details||{},this.request_url=e.request_url||"",this.response=e.response||{},this.response_ms=e.response_ms||0,this.received_ts=e.received_ts||0,this.ttl=e.ttl||12e4,this.dealid=e.dealid||"",this.cid=e.cid||"",this.crid=e.crid||"",this.adid=e.adid||"",this.adomain=e.adomain||[],this.cat=e.cat||[],this.attr=e.attr||[],this.ext=e.ext||{},this.native=e.native||{}}var P=function(){var r="cookie",a="localstorage";PBJS_USER_ID_OPTOUT_NAME="_pbjs_id_optout";var n={},t=[],i=[],s={},o={},e=!1,d=50,p=null,l=null,c=0;function u(e,t){var i,s,t=t?e.name+"_"+t:e.name;try{e.type===r?i=ProperMedia.utils.getCookieValue(t):e.type===a&&(""===(s=ProperMedia.utils.getDataFromLocalStorage(e.name+"_exp"))?i=ProperMedia.utils.getDataFromLocalStorage(t):s&&0<new Date(s).getTime()-Date.now()&&(i=decodeURIComponent(ProperMedia.utils.getDataFromLocalStorage(t)))),"string"==typeof i&&"{"===i.charAt(0)&&(i=ProperMedia.utils.safeJsonParse(i))}catch(e){me.mylog(e)}return i}function m(e,t){try{var i=ProperMedia.utils.isPlainObject(t)?JSON.stringify(t):t,s=new Date(Date.now()+864e5*e.expiresInDays).toUTCString();e.type===r?(ProperMedia.utils.setCookie(e.name,i,s,"Lax",null),"number"==typeof e.refreshInSeconds&&ProperMedia.utils.setCookie(e.name+"_last",(new Date).toUTCString(),s,"Lax",null)):e.type===a&&(ProperMedia.utils.setDataInLocalStorage(e.name+"_exp",s),ProperMedia.utils.setDataInLocalStorage(e.name,encodeURIComponent(i)),"number"==typeof e.refreshInSeconds&&ProperMedia.utils.setDataInLocalStorage(e.name+"_last",(new Date).toUTCString()))}catch(e){me.mylog(e)}}function h(){i=[],Object.keys(n).forEach(function(e){var t=n[e];ProperMedia.utils.deepAccess(t.excludeEid)||((e=function(e){var t={};t.source=e.source||"";var i=ProperMedia.utils.isFn(e.getValue)?e.getValue():e.idObj;if(ProperMedia.utils.deepAccess(e.excludeEid)||!ProperMedia.utils.isStr(i))return null;var s={id:i,atype:e.atype||1};!ProperMedia.utils.isFn(e.getUidExt)||(i=e.getUidExt())&&(s.ext=i);{var r;t.uids=[s],ProperMedia.utils.isFn(e.getEidExt)&&(r=e.getEidExt())&&(t.ext=r)}return t}(t))&&i.push(e),t.idObj&&(ProperMedia.utils.isPlainObject(t.idObj)&&Object.keys(t.idObj).length||ProperMedia.utils.isStr(t.idObj))&&(s[t.eid_name]=t.idObj))})}function g(){h(),1!=e&&(e=1,ProperMedia.utils.isFn(l)&&(l(),l=null),me.mylog("UserId Matching Done"),clearTimeout(p),p=null)}return{init:function(){var e;-1!==(t=[ProperMedia.utils.localStorageIsEnabled()?a:null,ProperMedia.utils.cookiesAreEnabled()?r:null].filter(function(e){return null!==e})).indexOf(r)&&ProperMedia.utils.getCookieValue(PBJS_USER_ID_OPTOUT_NAME)?me.mylog("userIds - opt-out cookie found, exit module"):-1!==t.indexOf(a)&&ProperMedia.utils.getDataFromLocalStorage(PBJS_USER_ID_OPTOUT_NAME)?me.mylog("userIds - opt-out localStorage found, exit module"):(function(){ProperMedia.utils.deepAccess(properSpecialOps,"userIdData")?o=ProperMedia.utils.deepAccess(properSpecialOps,"userIdData"):ProperMedia.utils.getCookieValue("properUserIdData")&&(o=ProperMedia.utils.getCookieValue("properUserIdData"));o&&ProperMedia.utils.isStr(o)&&(o=ProperMedia.utils.safeJsonParse(o))}(),((e=he.userIds)&&e.identityAdapters&&Object.keys(e.identityAdapters).length?function(){var e=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(he,"userIds.identityAdapters")||{});if(e.length){for(var t=0;t<e.length;t++){var i,s=e[t];s.name&&ue[s.name]?(i=ue[s.name],s.config&&ProperMedia.utils.isPlainObject(s.config)&&ProperMedia.utils.mergeObject(i.config,s.config),s.storage&&ProperMedia.utils.isPlainObject(s.storage)&&ProperMedia.utils.mergeObject(i.storage,s.storage),i.config.enabled&&(n[s.name]=i),ProperMedia.utils.deepAccess(n,s.name+".initialize")&&ProperMedia.utils.isFn(n[s.name].initialize)&&n[s.name].initialize(o)):me.mylog("Coudln't find identityAdapter with name: "+s.name)}0<Object.keys(n).length?Z.ready(function(){Object.keys(n).forEach(function(e){!function(e){{var t,i,s,r,a;e.storage?(t=e.storage,i=u(t,void 0),s=!1,"number"==typeof t.refreshInSeconds&&(r=new Date(u(t,"last")),s=r&&Date.now()-r.getTime()>1e3*t.refreshInSeconds),!i||s?a=e.getId(i):ProperMedia.utils.isFn(e.extendId)&&(a=e.extendId(i)),ProperMedia.utils.isPlainObject(a)&&(a.id&&(m(t,a.id),i=a.id),ProperMedia.utils.isFn(a.callback)&&(e.callback=a.callback,c++)),i&&(e.idObj=e.decode(i))):e.config.value?e.idObj=e.config.value:(a=e.getId(),ProperMedia.utils.isPlainObject(a)&&(ProperMedia.utils.isFn(a.callback)&&(e.callback=a.callback,c++),a.id&&(e.idObj=e.decode(a.id))))}}(n[e])}),p=_.setTimeout(g,d),0<c?Object.keys(n).forEach(function(e){var t=n[e];ProperMedia.utils.isFn(t.callback)&&t.callback(function(e){e?(t.storage&&m(t.storage,e),t.idObj=t.decode(e)):me.mylog("UserID: "+t.name+" - request id responded with an empty value"),(0==--c?g:h)(),t.callback=void 0})}):g()}):g()}}:g)())},getUIdsObj:function(){return ProperMedia.utils.deepCopy(s||{})},setCallback:function(e){l=e},getEidsArray:function(){return ProperMedia.utils.deepCopy(i||[])},getUserIdData:function(){return ProperMedia.utils.deepCopy(o||{})},isDoneMatching:function(){return!!e}}}(),b=(f.prototype.init=function(){window.addEventListener("properActiveTab",function(e){this.setNextAuctionTimeout()}.bind(this)),window.addEventListener("properInactiveTab",function(e){me.proper_tracker(),this.clearNextAuctionTimeout()}.bind(this))},f.prototype.setSizes=function(){try{var t;this.sizes={},Object.keys(ye.slots).map(function(s){Object.keys(ye.slots[s]).length&&Object.keys(ye.slots[s]).map(function(e){if(0<ye.slots[s][e].sizes.length)for(var t=0;t<ye.slots[s][e].sizes.length;t++){var i=ye.slots[s][e].sizes[t];properSpecialOps.no_bid_limit?this.sizes[i]=99:this.sizes[i]=this.sizes[i]?this.sizes[i]+1:1}},this)},this),Object.keys(this.sizes).length||(t=ProperMedia.utils.deepAccess(he,"auctions.resolution_size_map")||{},0<Object.keys(t).length&&Object.keys(t).forEach(function(e){ye.width>=e&&t[e].forEach(function(e){this.sizes[e]=99},this)},this))}catch(e){return me.mylog("AdPool: Error setting auction sizes"),!1}return!0},f.prototype.setAuctionRounds=function(){try{var e=_e.isMobile()?"mobile":"desktop";this.auction_rounds=parseInt(ProperMedia.utils.deepAccess(he,"auctions."+e+".rounds")||this.auction_rounds)}catch(e){return me.mylog("AdPool: Error setting auction rounds"),!1}return!0},f.prototype.setMaxAuctions=function(){try{var e=_e.isMobile()?"mobile":"desktop";this.max_auctions=parseInt(ProperMedia.utils.deepAccess(he,"auctions."+e+".max")||this.max_auctions)}catch(e){return me.mylog("AdPool: Error setting max auction"),!1}return!0},f.prototype.setDefaultTimeout=function(){try{var e=_e.isMobile()?"mobile":"desktop";this.default_timeout=parseInt(ProperMedia.utils.deepAccess(he,"auctions."+e+".timeout")||this.default_timeout)}catch(e){return me.mylog("AdPool: Error setting auction default timeout"),!1}return!0},f.prototype.checkSlotRefresh=function(){var t=!1;return Object.keys(ye.slots.display).forEach(function(e){ye.slots.display[e].refresh.enabled&&(t=!0)}),t},f.prototype.checkMaxAuctionsReached=function(){return!(this.auction_count<this.max_auctions)},f.prototype.setDefaultFloors=function(){try{var e=_e.isMobile()?"mobile":"desktop";this.floors=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(he,"floors."+e)||{})}catch(e){return me.mylog("AdPool: Error setting auction default floors"),!1}return!0},f.prototype.startNewAuction=function(e){return P.isDoneMatching()?ye.viewability_tracker.slotsInFetchZone?(this.initialized=!0,this.setDefaultFloors(),this.setMaxAuctions(),this.setAuctionRounds(),this.setDefaultTimeout(),this.clearNextAuctionTimeout(),void this.setNextAuctionTimeout(e)):(me.mylog("AdPool: No slots are in the fetch zone."),ye.viewability_tracker.setCallback(this.startNewAuction.bind(this)),!1):(me.mylog("AdPool: Wait for UserId Matching To Finish."),P.setCallback(this.startNewAuction.bind(this)),!1)},f.prototype.startNewVideoAuction=function(e){this.setSizes(),this.sendVideoAuction(e),this.clearExpiredAds()},f.prototype.sendVideoAuction=function(e){me.mylog("AdPool: Starting New Video Auction"),this.vid_auction_count++;e=new v(parseFloat(this.total_auctions+"."+this.vid_auction_count),"video",e);return(this.auctions[e.id]=e).sendBids(),!0},f.prototype.sendAuction=function(e){if(this.checkMaxAuctionsReached()&&!e)return me.mylog("AdPool: Max Auctions reached: "+this.max_auctions),!1;if(!this.checkSlotRefresh()&&0<this.auction_count&&!e)return me.mylog("AdPool: Auction disabled. No slots have refresh enabled."),!1;if(!this.auction_refresh&&0<this.auction_count)return me.mylog("AdPool: Auction Refresh is disabled."),!1;me.mylog("AdPool: Starting New Auction"),this.setSizes(),this.auction_count+=1,this.total_auctions+=1,ye.video_enabled&&this.vid_auction_count++;e=new v(this.total_auctions);return(this.auctions[e.id]=e).sendBids(),!0},f.prototype.auctionFinished=function(e){var t;this.auctions[e]&&(t=new Event("properAuctionDone"),window.dispatchEvent(t),this.last_auction_ts=Date.now(),this.finished_auctions[e]=this.auctions[e],delete this.auctions[e],this.setNextAuctionTimeout())},f.prototype.addBidToPool=function(e){0<e.price&&(e=new z(ProperMedia.utils.deepCopy(e)),this.ads.push(e),this.ads.sort(function(e,t){return parseFloat(t.price)-parseFloat(e.price)}))},f.prototype.getWinningBid=function(e,t,i){var s=e.sizes,t=t||["display","native","video"];if(0<this.ads.length){!1!==ye.video_enabled&&e.video_player instanceof l||(t=["display","native"]);for(var r=0;r<this.ads.length;r++){var a=this.ads[r];if(a.checkIfExpired())this.ads.splice(r,1).pop();else if(1!=a.displayed&&-1!=t.indexOf(a.type)&&("video"!=a.type||i&&i===a.video_type)&&-1!=s.indexOf(a.size)&&!(1==e.sticky&&1==e.displayed&&0<e.refresh.count&&e.size!==a.size||0<e.refresh.count&&1==ProperMedia.utils.deepAccess(he,"bidder_info."+a.bidder+".dont_refresh"))){var n=he.testing_mode.enabled?0:e.getFloor(a.size);if(a.price>=n){e.winning_ad=new z(ProperMedia.utils.deepCopy(a)),this.ads.splice(r,1).pop();break}}}}},f.prototype.calcTimeout=function(){0==this.total_auctions&&0==this.auction_count||1==this.total_auctions&&1==this.auction_count&&ye.spa_settings.enabled&&ye.spa_settings.prefetch?this.timeout=0:0==this.auction_count&&0<this.total_auctions?this.timeout=this.timeSinceLastAuction()<this.min_timeout?this.min_timeout:0:this.timeout=Math.max(this.min_timeout,this.default_timeout),this.timeout=this.timeout-this.timeSinceLastAuction()},f.prototype.getTimeLeftOnRunningAuctions=function(){var t=[];try{Object.keys(this.auctions).length&&Object.keys(this.auctions).forEach(function(e){e=this.auctions[e],e=Math.max(0,e.max_timeout-e.auctionTimePassed());0<e&&t.push(e)},this)}catch(e){console.log(e)}return t},f.prototype.setNextAuctionTimeout=function(e){null==this.timeout_handle&&!this.checkMaxAuctionsReached()&&this.initialized&&(this.calcTimeout(),this.timeout_handle=_.setTimeout.call(this,function(){this.clearNextAuctionTimeout(),this.sendAuction(e),this.clearExpiredAds()},Math.max(0,this.timeout)))},f.prototype.clearNextAuctionTimeout=function(){clearTimeout(this.timeout_handle),this.timeout_handle=null},f.prototype.timeSinceLastAuction=function(){return 0==this.last_auction_ts?0:Date.now()-this.last_auction_ts},f.prototype.clearExpiredAds=function(){if(0<this.ads.length)for(var e=0;e<this.ads.length;e++)this.ads[e].checkIfExpired()&&this.ads.splice(e--,1)},f.prototype.clearCachedAds=function(){me.mylog("AdPool: Clearing Cached Ads"),this.ads=[],this.displayedAds=[]},f);function f(){this.initialized=!1,this.ads=[],this.displayed_ads=[],this.auctions={},this.finished_auctions={},this.auction_refresh=!0,this.total_auctions=0,this.auction_count=0,this.vid_auction_count=0,this.max_auctions=10,this.last_auction_ts=0,this.timeout_handle=null,this.timeout=58e3,this.default_timeout=58e3,this.min_timeout=3e3,this.auction_rounds=1,this.sizes={},this.floors={},this.init()}var v=(M.prototype.sendBids=function(){if(As())return!1;this.setMaxAuctionTimeout(),this.bids_started_ts=ProperMedia.utils.getTimestampMs(),this.sendS2SBidders(),this.sendHeaderBidders(),this.bids_sent_finished=!0},M.prototype.sendS2SBidders=function(){if(!fe.done_matching)return me.mylog("Wait for S2S Cookie Matching To Finish."),void(fe.callback=this.sendS2SBidders.bind(this));if(this.getAuctionBidders("s2s"),0<this.auction_bidders.length){var d={},p=_e.isMobile()?"mobile":"desktop";if(this.auction_bidders.forEach(function(e){var t=ProperMedia.utils.deepAccess(he,"bidders.s2s."+e+".tag_ids."+p)||!1;if(!t||0==t.length)return!1;var i,s=ProperMedia.utils.deepCopy(t),r=ProperMedia.utils.deepAccess(he,"bidders.s2s."+e+".site_id")||"",a=parseInt(ve.auction_count-1)%parseInt(ve.auction_rounds),n=Object.filter(s[a]||{},function(e){return void 0!==ve.sizes[e]&&0<s[a][e].length});for(i in n){var o=ve.sizes[i];n[i].splice(o,n[i].length-o),ProperMedia.utils.deepSetValue(this,"sizes."+i,(ProperMedia.utils.deepAccess(this,"sizes."+i)||0)+o)}t=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(he,"bidders.s2s."+e+".floors."+p)||{});0<Object.keys(n).length&&(d[e]={tag_ids:n,site_id:r,bidder_floors:t})}),0<Object.keys(d).length){this.bids.s2s=new u("s2s",d,this);try{Z.ready(function(){ce.s2s.send(this.bids.s2s)}.bind(this))}catch(e){console.error(e),e.bidder="s2s",m(y.computeStackTrace(e))}}}},M.prototype.sendHeaderBidders=function(){var d;this.getAuctionBidders("header"),0<this.auction_bidders.length&&(d=_e.isMobile()?"mobile":"desktop",this.shuffleBidders(),this.auction_bidders.forEach(function(e){var t=ProperMedia.utils.deepAccess(he,"bidders.header."+e+".tag_ids."+d)||!1,i=Ns(e);if(!t||0==t.length)return!1;var s,r=ProperMedia.utils.deepCopy(t),a=parseInt(ve.auction_count-1)%parseInt(ve.auction_rounds),n=Object.filter(r[a]||{},function(e){return void 0!==ve.sizes[e]&&0<r[a][e].length});for(s in n){var o=ve.sizes[s];n[s].splice(o,n[s].length-o),ProperMedia.utils.deepSetValue(this,"sizes."+s,(ProperMedia.utils.deepAccess(this,"sizes."+s)||0)+o)}if(0<Object.keys(n).length){this.bids[e]=new u(e,n,this);try{void 0!==ce[i]&&Z.ready(function(){ce[i].send(this.bids[e])}.bind(this))}catch(e){console.error(e),e.bidder=i,m(y.computeStackTrace(e))}}},this))},M.prototype.getAuctionBidders=function(r){this.auction_bidders=Object.keys(he.bidders[r]||{}).filter(function(e){var t=he.bidders[r][e],i=(Ns(e),ProperMedia.utils.deepAccess(he,"bidder_info."+e+".demand_type")||"display"),s=ProperMedia.utils.deepAccess(he,"bidder_info."+e+".video_type")||null;return(!this.demand_type||this.demand_type==i)&&("display"==i||"native"==i||"video"==i&&1==ye.video_enabled&&(!this.video_type||this.video_type==s))&&(t.enabled&&!t.test&&!he.testing_mode.bidder||he.testing_mode.bidder==e)},this)},M.prototype.setAuctionTopAverages=function(){var n;properSpecialOps.dynamicFloors&&(n={},ge.sessionData.bid_avg=ge.sessionData.bid_avg||{},Object.keys(ve.sizes).forEach(function(e){n[e]=[]}),this.ads.forEach(function(e){var t=Math.min(Math.max(ve.sizes[e.size],3),10);void 0===n[e.size]&&(n[e.size]=[]),n[e.size].length<t&&n[e.size].push(e.price)}),Object.keys(n).forEach(function(e){for(var t=Math.min(Math.max(ve.sizes[e],3),10),i=t+1,s=ProperMedia.utils.deepAccess(ve,"floors.sizes."+e)||ve.floors.backup,r=0;r<t;r++){var a=n[e][r]||s;ge.sessionData.bid_avg[e]||(i=t,ge.sessionData.bid_avg[e]=0),ge.sessionData.bid_avg[e]=ge.sessionData.bid_avg[e]+a}ge.sessionData.bid_avg[e]=Number((ge.sessionData.bid_avg[e]/i).toFixed(2))}),ge.setSessionCookie())},M.prototype.shuffleBidders=function(){for(var e,t,i=this.auction_bidders.length;0!==i;)t=Math.floor(Math.random()*i),e=this.auction_bidders[--i],this.auction_bidders[i]=this.auction_bidders[t],this.auction_bidders[t]=e;return this.auction_bidders},M.prototype.setMaxAuctionTimeout=function(){null==this.max_timeout_handle&&(this.max_timeout_handle=_.setTimeout.call(this,function(){this.auctionFinished()},this.max_timeout))},M.prototype.clearMaxAuctionTimeout=function(){clearTimeout(this.max_timeout_handle),this.max_timeout_handle=null},M.prototype.incrementRequestsSent=function(e){this.bids_sent+=isNaN(parseInt(e))?0:parseInt(e),this.requests_sent++},M.prototype.incrementBidResponseCount=function(e){this.bids_returned+=isNaN(parseInt(e))?0:parseInt(e),this.bids_sent<=this.bids_returned&&1==this.bids_sent_finished&&0==this.finished&&this.auctionFinished()},M.prototype.getPerecentBidsReady=function(){return 0<this.bids_sent?(this.bids_returned/this.bids_sent*100).toFixed(2):0},M.prototype.logBidResponse=function(e){var t=new z(ProperMedia.utils.deepCopy(e));this.ads.push(t),this.ads.sort(function(e,t){return parseFloat(t.price)-parseFloat(e.price)}),ve.addBidToPool(e)},M.prototype.calcAuctionMs=function(){return 0<this.bids_done_ts&&0<this.bids_started_ts&&this.bids_done_ts>this.bids_started_ts?this.bids_done_ts-this.bids_started_ts:-1},M.prototype.auctionTimePassed=function(){return(new Date).getTime()-this.bids_started_ts},M.prototype.auctionFinished=function(){this.finished||(this.finished=!0,me.mylog("Auction Finished"),this.clearMaxAuctionTimeout(),this.bids_done_ts=ProperMedia.utils.getTimestampMs(),ve.auctionFinished(this.id),this.setAuctionTopAverages())},M);function M(e,t,i){this.id=ProperMedia.utils.makeid(5),this.requests_sent=0,this.ads=[],this.bid_errors=[],this.bids={},this.bids_sent_finished=!1,this.bids_sent=0,this.bids_returned=0,this.bids_started_ts=0,this.bids_done_ts=0,this.auction_bidders=[],this.max_timeout=1500,this.max_timeout_handle=null,this.auction_num=e,this.demand_type=t||null,this.video_type=i||null,this.sizes={},this.finished=!1}var w,I,x,k,C,O,T={init:function(e){w=ProperMedia.utils.mergeObject(w,e)},checkThresholds:function(){var t={price:0,pixel:""};w.thresholds.map(function(e){e.price>t.price&&ge.sessionData.revenue>e.price&&(t=e)}),t.price&&function(e){{var t,i;w.enabled&&e.pixel&&(t="audience-pixel-"+e.price.toString(),j.getElementById(t)||(me.mylog("Place audience pixel: "+e.price),(i=j.createElement("iframe")).id=t,i.width="0px",i.height="0px",i.style.display="none",j.getElementsByTagName("body")[0].appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.write(e.pixel.toString()),i.contentWindow.document.close()))}}(t)}},A=(I=!(w={enabled:!1,thresholds:[]}),{add:function(i){return propertag.cmd.push(function(){var e=ProperMedia.utils.isArray(i)?i[0]:i,t=ProperMedia.utils.deepAccess(e,"demand_type"),e=ProperMedia.utils.deepAccess(e,"bidder");"video"!=t&&"display"!=t&&t||!function(e){if(ProperMedia.utils.deepAccess(he,"bidders.header."+e+".enabled")){if(!ProperMedia.utils.hasLocalStorage())return 1;e=ProperMedia.utils.deepAccess(he,"bidders.header."+e+".edge")||!1?ProperMedia.utils.getDataFromLocalStorage("ProperEbUserSync."+e):ProperMedia.utils.getDataFromLocalStorage("ProperUserSync."+e);return!e||2592e6<Date.now()-parseInt(e)}}(e)||(C=C.concat(i),D())}),!0},start:function(){I||(I=!0,(k=j.createElement("div")).id=N("us-"),k.style.display="none",k.style.width="0",k.style.height="0",j.body.appendChild(k)),D()}});function N(e){return(e||"")+Math.random().toString(16).substr(2)}function E(){ebData={usersyncs:[],cookies:{}},C.splice(0,5).forEach(function(e){var t;ProperMedia.utils.deepAccess(he,"bidders.header."+e.bidder+".edge")||!1?(ebData.usersyncs.push(e),(t=fe.getBidderUserSyncValue(e.bidder+"_eb"))&&(ebData.cookies[bidder]=t)):O[e.type](e)}),ebData.usersyncs.length&&S.ajax({url:he.usync_hb_endpoint,method:"POST",requestType:"cors",data:JSON.stringify(ebData),success:function(e){if(response=ProperMedia.utils.safeJsonParse(e),response&&response.syncs&&0<response.syncs.length)for(var t=0;t<response.syncs.length;t++){var i=response.syncs[t];i.bidder&&i.type&&i.payload&&("iframe"==i.type?(i.url="javascript:\"<html><body style='background:transparent'></body></html>\"",O[i.type](i)):ProperMedia.utils.setDataInLocalStorage("ProperEbUserSync."+i.bidder,Date.now()))}response.cookies&&Object.keys(response.cookies).map(function(e){response.cookies[e]&&fe.updateBidderUserSyncData(e,response.cookies[e])})},error:function(e){}}),0===C.length&&(clearInterval(x),x=null)}function D(){I&&0!==C.length&&null===x&&(x=setInterval(E,1500),E())}var L,R,B,U,V,F,q,Z=(L={gdpr:!(O={iframe:function(e){var t=j.createElement("iframe");t.id=N("i-"),t.frameborder="0",t.allowtransparency="true",t.marginheight="0",t.marginwidth="0",t.width="0",t.hspace="0",t.vspace="0",t.height="0",t.scrolling="no",t.style.display="none",t.style.width="0",t.style.height="0",t.sandbox="allow-scripts allow-same-origin",t.src=e.url,t.onload=function(){e.payload?ProperMedia.utils.setDataInLocalStorage("ProperEbUserSync."+e.bidder,Date.now()):ProperMedia.utils.setDataInLocalStorage("ProperUserSync."+e.bidder,Date.now())},k.appendChild(t),e.payload&&(t.contentWindow.document.open(),t.contentWindow.document.write(e.payload),t.contentWindow.document.close())},image:function(e){var t=new Image;t.src=e.url,t.onload=function(){ProperMedia.utils.setDataInLocalStorage("ProperUserSync."+e.bidder,Date.now())}}}),uspc:!(C=[])},R=[],B={cmpPresent:k=x=null,ready:function(e){R.push(e)},consentReady:function(e){L[e]=!0,("gdpr"==e&&ie&&ie.gdprApplies||"uspc"==e&&J&&J.cmpApplies||0==ProperMedia.utils.objectValues(L).filter(function(e){return 0==e}).length)&&(B.ready=function(e){e(B)},R.forEach(B.ready),R.length=0)}}),J=(V=1,G=50,F={cmpPresent:null},q=0,W(X,H),0===G?X(void 0,hookConfig):U=setTimeout(function(){Z.consentReady("uspc"),H("USPAPI workflow exceeded timeout threshold.")},G),F);function W(i,s){var r,t,a,n,o=(r={},{consentDataCallback:function(e,t){t&&e.uspString&&(r.usPrivacy=e.uspString),r.usPrivacy?i(r):s("Unable to get USP consent string.")}}),d={};try{F.cmpPresent=!0,window.__uspapi("getUSPData",V,o.consentDataCallback)}catch(e){for(var p,l=window;!p;){try{l.frames.__uspapiLocator&&(p=l)}catch(e){}if(l===window.top)break;l=l.parent}if(!p)return F.cmpPresent=!1,s("USP CMP not found.");t="getUSPData",a=p,n=o.consentDataCallback,window.__uspapi=function(e,t,i){var s=Math.random()+"",t={__uspapiCall:{command:e,version:t,callId:s}};d[s]=i,a.postMessage(t,"*")},window.addEventListener("message",c,!1),window.__uspapi(t,V,function(e,t){window.removeEventListener("message",c,!1),n(e,t)})}function c(e){e=e&&e.data&&e.data.__uspapiReturn;e&&e.callId&&void 0!==d[e.callId]&&(d[e.callId](e.returnValue,e.success),delete d[e.callId])}console.log("USP CMP found.")}function X(e){!e||!e.usPrivacy?H("USPAPI returned unexpected value during lookup process."):(clearTimeout(U),function(e){console.log("Received a response from CMP",e),e&&e.usPrivacy&&(F.usPrivacy=e.usPrivacy,F.cmpApplies=!(!F.usPrivacy||!F.usPrivacy.match(/^\d{1}[\w-]{1}Y[\w-]{1}$/)));Z.consentReady("uspc")}(e))}function H(e,t){console.log(e),2<++q||F.cmpPresent?(clearTimeout(U),Z.consentReady("uspc")):setTimeout(function(){W(X,H)},50)}var Y,G,Q,$,K,ee,te,ie=(G=100,ee={cmpVersion:0,gdprApplies:!(K={value:Y=!0,definedInConfig:$=!1}),cmpPresent:Q=null},te=0,se(re,ae),0===G?re(void 0):Q=setTimeout(function(){ae("CMP workflow exceeded timeout threshold.")}.bind(null),G),ee);function se(i,s){function e(e,t){console.log("Received a response from CMP",e,t),t?!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus?i(e):"cmpuishown"===e.eventStatus&&(ee.gdprApplies=!0,clearTimeout(Q)):s("CMP unable to register callback function.  Please check CMP setup.")}var t,r=(t={},{consentDataCallback:function(e){t.getConsentData=e,a()},vendorConsentsCallback:function(e){t.getVendorConsents=e,a()}});function a(){t.getConsentData&&t.getVendorConsents&&(console.log("Received all requested responses from CMP",t),i(t))}var d={},n=function(){for(var e,t,i=window;!e;){try{if("function"==typeof i.__tcfapi||"function"==typeof i.__cmp){t="function"==typeof i.__tcfapi?(ee.cmpVersion=2,i.__tcfapi):(ee.cmpVersion=1,i.__cmp),e=i;break}}catch(e){}try{if(i.frames.__tcfapiLocator){ee.cmpVersion=2,e=i;break}}catch(e){}try{if(i.frames.__cmpLocator){ee.cmpVersion=1,e=i;break}}catch(e){}if(i===window.top)break;i=i.parent}return{cmpFrame:e,cmpFunction:t}}(),o=n.cmpFrame,n=n.cmpFunction;if(!o)return s("GDPR CMP not found.");function p(i,s){window.$sf.ext.register(1,1,function(e,t){"cmpReturn"===e&&(t="getConsentData"===i?t.vendorConsentData:t.vendorConsents,s(t))}),window.$sf.ext.cmp(i)}function l(e,n,t){var o=2===ee.cmpVersion?"__tcfapi":"__cmp";window[o]=function(e,t,i){var s=Math.random()+"",r=o+"Call",a={};a[r]={command:e,parameter:t,callId:s},1!==ee.cmpVersion&&(a[r].version=ee.cmpVersion),d[s]=i,n.postMessage(a,"*")},window.addEventListener("message",function(e){var t=o+"Return",e="string"==typeof e.data&&e.data.includes(t)?JSON.parse(e.data):e.data;e[t]&&e[t].callId&&(t=e[t],void 0!==d[t.callId]&&d[t.callId](t.returnValue,t.success))},!1),window[o](e,void 0,t)}ee.cmpPresent=!0,ProperMedia.utils.isFn(n)?(console.log("Detected CMP API is directly accessible, calling it now..."),1===ee.cmpVersion?(n("getConsentData",null,r.consentDataCallback),n("getVendorConsents",null,r.vendorConsentsCallback)):2===ee.cmpVersion&&n("addEventListener",ee.cmpVersion,e)):1===ee.cmpVersion&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(console.log("Detected Proper.io is encased in a SafeFrame and CMP is registered, calling it now..."),p("getConsentData",r.consentDataCallback),p("getVendorConsents",r.vendorConsentsCallback)):(console.log("Detected CMP is outside the current iframe where Proper.io is located, calling it now..."),1===ee.cmpVersion?(l("getConsentData",o,r.consentDataCallback),l("getVendorConsents",o,r.vendorConsentsCallback)):2===ee.cmpVersion&&l("addEventListener",o,e))}function re(i){var e=1===ee.cmpVersion?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||ProperMedia.utils.isStr(e.getConsentData.consentData)&&ProperMedia.utils.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===ee.cmpVersion?function(){var e=i&&"boolean"==typeof i.gdprApplies?i.gdprApplies:$,t=i&&i.tcString;return!("boolean"==typeof e&&(!0!==e||ProperMedia.utils.isStr(t)))}:null;K.definedInConfig&&2===ee.cmpVersion?console.log("'allowAuctionWithoutConsent' ignored for TCF 2"):K.definedInConfig||1!==ee.cmpVersion||console.log("'allowAuctionWithoutConsent' using system default: ("+Y+"."),ProperMedia.utils.isFn(e)?e(i)?ae("CMP returned unexpected value during lookup process."):(clearTimeout(Q),ne(i)):ae("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.")}function ae(e,t){console.log(e),2<++te||ee.cmpPresent?(clearTimeout(Q),K.value&&ne(void 0),Z.consentReady("gdpr")):setTimeout(function(){se(re,ae)},50)}function ne(e){1===ee.cmpVersion?(ee.consentString=e?e.getConsentData.consentData:void 0,ee.vendorData=e?e.getVendorConsents:void 0,ee.gdprApplies=e?e.getConsentData.gdprApplies:$):(ee.consentString=e?e.tcString:void 0,ee.vendorData=e||void 0,ee.gdprApplies=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:$,e&&e.addtlConsent&&ProperMedia.utils.isStr(e.addtlConsent)&&(ee.addtlConsent=e.addtlConsent)),ee.apiVersion=ee.cmpVersion,Z.consentReady("gdpr")}var oe,de,pe={cdnHost:"clarium.global.ssl.fastly.net",confiantId:"TzdoClhg0h30W2CCYiFFb2rl5ww",mapBlockingType:{1:{type:"manual",desc:"Deprecated"},2:{type:"creative",desc:"Creative-based detection"},3:{type:"provider_security",desc:"Domain-based detection for unsafe domains"},4:{type:"banned_domain",desc:"Domain-based detection for banned domains"},5:{type:"provider_ibv",desc:"Domain-based detection for in-banner-video"},6:{type:"unsafejs",desc:"Javascript-based detection for unsafe ads"},7:{type:"hrap",desc:"Domain-based detection for high risk ad platform domains"}},loadDFPTag:function(e){var t;e=e||window,this.confiantId=properSpecialOps.confiantId||this.confiantId,2==properSpecialOps.confiant_version?((t=e)._clrm=t._clrm||{},t._clrm.gpt={propertyId:this.confiantId,confiantCdn:this.cdnHost,sandbox:0,mapping:"W3siaSI6MiwidCI6Int7b319Ont7d319eHt7aH19IiwicCI6MCwiRCI6MSwiciI6W119LHsiaSI6NiwidCI6Int7Y299fTp7e3d9fXh7e2h9fSIsInAiOjUwLCJEIjowLCJyIjpbeyJ0IjoiZXgiLCJzIjpudWxsLCJ2IjoiY28ifV19XQ==",activation:"||neq|NDM5NjA3NDE2,||neq|NDk4NzQ4NDU2,||neq|NTExMjA0NTc2,||neq|ODA2NzU4NTc2,||neq|ODA2NzYxMjE2,||neq|ODEyODU5NjE2,||neq|ODEyODg1Mjk2,||neq|MTU2MTIwNzQ1Ng==",callback:y.wrap(this.callback.bind(this))},(t=j.createElement("script")).async=!0,t.src="//"+this.cdnHost+"/gpt/a/wrap.js?v2_1"):(e.confiant=e.confiant||{},e.confiant.callback=y.wrap(this.callback.bind(this)),(t=e.document.createElement("script")).async=!0,t.src="https://confiant-integrations.global.ssl.fastly.net/"+this.confiantId+"/gpt_and_prebid/config.js"),e.document.getElementsByTagName("head")[0].appendChild(t)},callback:function(e,t,i,s,r,a){var n={},o={cpm:0,size:"1x1",bidder:"dfp",blockData:arguments};if(a&&void 0!==a.dfp){var d=a.dfp.ad||null,p=a.dfp.y||null;d==he.amazon_advertiser?o.bidder="a9":d==he.adsense_advertiser?o.bidder="adsense":d!=he.google_advertiser&&1!=d&&null!=d&&null==p||(o.bidder="adx");p=a.dfp.s||(a.dfp.A||"").replace("/"+he.dfp_id+"/","")||"";if(p){p=ProperMedia.utils.extractSlotName(p);if(ye&&p){n=ye.getSlotFromPageObject(p);if(n){if(o.size=n.size,"adx"!=o.bidder&&"adsense"!=o.bidder||(p=n.getFloor(n.size),void 0!==n.winning_ad&&void 0!==n.winning_ad.dfp_price&&n.winning_ad.dfp_price>p?o.cpm=parseFloat(n.winning_ad.dfp_price)+.01:o.cpm=parseFloat(p)+.01),i&&n.getWinningBid())return void Ds(n)}else me.mylog("Confiant DFP Callback: Cannnot determin slot.")}else me.mylog("Confiant DFP Callback: Cannnot determin page.")}}this.trackBadAd(ye,o)},wrapTag:function(o,e,d){me.mylog("Running confiant: "+o.name),this.confiantId=properSpecialOps.confiantId||this.confiantId;var t=y.wrap(function(a,n,e,o,d){function p(e){return(s(e)||"")[r]("/","_")[r]("+","-")}var t=n.bidder,i=n.size,l=a.parentWindow||a.defaultView,c=l.JSON,s=l.btoa,u=l.encodeURIComponent;if(!c||!s)return!1;var m="script",h="src",r="replace",g="error",_="stringify",b="write",f="https://"+e+"/?wrapper="+u(o)+"&tpid=",y={k:{hb_bidder:[t],hb_size:[i]}};return function(){var e,t,i=p(o+"/"+y.k.hb_bidder[0]+":"+y.k.hb_size[0]),s={wh:i,wd:c.parse(c[_](y)),wr:0};r=i,e=p(c[_](s)),t=function(){a[b](n.ad)},r=f+u(r)+"&d="+e,e="err__"+ +new Date,l[e]=t,a[b]("<"+m+" on"+g+'="void('+e+'())" '+h+'="'+r+'" type="text/java'+m+'" ></'+m+">");var r={prebid:{adId:n.adId,cpm:n.cpm}},r={d:s,t:n.ad,cb:d,id:r};l[o]={},l[o][i]=r}(),a.close(),!0}),i=y.wrap(function(e,t,i,s,r,a){var n={cpm:d.price,size:d.size,bidder:d.bidder,blockData:arguments};i&&(me.mylog("Confiant blocked ad: "+o.name+" - "+n.bidder),o.winning_ad={},o.getWinningBid())?Ds(o):this.trackBadAd(ye,n)});t(e,{bidder:d.bidder,size:d.size,ad:d.adcode},this.cdnHost,this.confiantId,i.bind(this))||(me.mylog("confiant failed: "+o.name),e.write(ad.adcode))},trackBadAd:function(e,t){try{var i={client_timestamp:(new Date).getTime(),event_type:"rogue_ad",event_id:ProperMedia.utils.generateUUID(),page_id:ProperMedia.utils.generateUUID(),session_id:ProperMedia.utils.generateUUID(),bidder:t.bidder||"",user_id:ProperMedia.utils.validateValue(be.pubcid,{type:"string"}),publisher:ProperMedia.utils.validateValue(he.site_name,{type:"string"}),rtp_file_version:ProperMedia.utils.validateValue(he.rtp_file_version,{type:"string"}),ad_project_tag:ProperMedia.utils.validateValue(he.rtp_file_revision,{type:"string"}),page_url:getPageUrl()||"",in_iframe:1!==he.run_dfp_in_window,is_https:"https:"==j.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(t),error_message:this.mapBlockingType[t.blockData[0]].desc||"Confiant Flagged Ad",error_name:this.mapBlockingType[t.blockData[0]].type||"rogue_ad"};e.uuid&&""!==e.uuid&&(i.page_id=e.uuid),ProperMedia.utils.deepAccess(ge,"sessionData.uuid")&&(i.session_id=ge.sessionData.uuid),S.ajax({url:"https://events.proper.io/api/event",requestType:"fetch",method:"POST",data:JSON.stringify(i),withCredentials:!1,success:function(e){console.log("Proper exception logged successfully.")},error:function(){console.error("Unable to log Proper exception.")}})}catch(e){console.error("Error sending exception data"),console.error(e)}}},le={clientId:"properio",loadDFPTag:function(e){e=e||window,this.clientId=ProperMedia.utils.deepAccess(he,"adlightning.clientId")||ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.clientId")||this.clientId;var t=e.document.createElement("script");t.async=!0,t.src="https://tagan.adlightning.com/"+this.clientId+"/op.js",e.document.getElementsByTagName("head")[0].appendChild(t),window.addEventListener("message",function(e){var t=e.data;"ADL_BLOCKED"===t.message&&t.adUnit&&(e=t.adUnit.split("/").pop(),(e=ye.getSlotFromPageObject(e)||ye.getSlotFromPageObject(e.replace(/_\d+$/,"")))&&((t=new Error(e.name+" data:"+JSON.stringify(t))).event_type="ADL_BLOCKED",m(t),me.mylog("ADL Blocked Ad for "+e.name),e.adl_blocked||(e.adl_blocked=!0,e.getWinningBid(),Ds(e))))})},wrapTag:function(e,t,i){me.mylog("Running AdLightning Wrapper: "+e.name);var s=encodeURIComponent(i.adcode),r=i.size.split("x"),e='<script> var urlEncodedUrl = "%%ENCODED_AD_TAG%%";<\/script>                <script src="https://tagan.adlightning.com/%%CLIENT_ID%%/blacklist_script.js" type="text/javascript"><\/script>                <script src="https://tagan.adlightning.com/%%CLIENT_ID%%/blocking_script.js" type="text/javascript"><\/script>                <script type="text/javascript">                    function createTagDetails(){                        var tagDetails = {};                        tagDetails.w = "%%WIDTH%%";                        tagDetails.h = "%%HEIGHT%%";                        tagDetails.adServerDetails = {advertiserId: "%%ADVERTISER_ID%%", campaignId: "%%CAMPAIGN_ID%%", creativeId: "%%CREATIVE_ID%%", lineitemId: "%%LINEITEM_ID%%", adServer: "%%AD_SERVER%%"};                        tagDetails.au = "%%AD_UNIT_ID%%";                        tagDetails.markupInDom = true;                        tagDetails.refreshMessage = "true";                        var timeBase36 = Date.now().toString(36);                        var random = Math.random().toString(36).substr(2).split("")                                    .map(function (c) {                                    return (Math.random() < 0.5 ? c.toUpperCase() : c); }) .join("");                        tagDetails.currentTagId="adltag_" + timeBase36 + "_" + random;                    return tagDetails;                    }                    var random = "" + Math.round(Math.random() * 1e8);                    var clientId = "%%CLIENT_ID%%";                    var site_id = random + "_" + clientId;                    window[site_id]={};                    window[site_id].tagDetails=createTagDetails();                    !function(){"use strict";"blocker"in window||(window.blocker=function(e,n,t,o,r){function i(e){var n=window.Request,t=n&&n.prototype||{};if(navigator&&navigator.sendBeacon)navigator.sendBeacon(e);else if(window.fetch){var o={method:"GET"};"keepalive"in t&&(o.keepalive=!0),window.fetch(e,o)}else{var r=new Image(1,1);"loading"in r&&(r.loading="eager"),r.src=e}}if((r=r||{}).bw){if(Math.random()<.1)for(var a="undefined"!=typeof btoa?btoa:String,x="https://"+clientId+"-tagan.adlightning.com",c=window[e]?window[e].tagDetails:{},d={siteId:clientId,url:window.top.location.href,tagDetails:c,errorData:null,errorMethod:"missing_blocker"},f=function(){var t=(new Date).getTime();"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now());return"xxxxxxxxxxxxxxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})}(),l=encodeURIComponent(JSON.stringify(d)).replace(/%([0-9A-F]{2})/g,function(e,n){return String.fromCharCode("0x"+n)}),g=encodeURIComponent(a(l)),w=8e3-(x.length+100),u=Math.ceil(g.length/w),s=0,p=1;p<=u;p+=1){i(x+"/error?d="+g.substr(s,w)+"&i="+p+"-"+u+"&t="+c.currentTagId+"&r="+f+"&c="+clientId+"&z=1"),s+=w}document.write(n)}})}();                    blocker(site_id, decodeURIComponent(urlEncodedUrl) + "\x3c!--ADL_WRAPPED--\x3e", false, window, {bw:true});                <\/script>'.replace(/%%ENCODED_AD_TAG%%/g,s).replace(/%%CLIENT_ID%%/g,this.clientId).replace(/%%WIDTH%%/g,r[0]).replace(/%%HEIGHT%%/g,r[1]).replace(/%%ADVERTISER_ID%%/g,i.adid).replace(/%%CAMPAIGN_ID%%/g,i.cid).replace(/%%CREATIVE_ID%%/g,i.crid).replace(/%%LINEITEM_ID%%/g,"").replace(/%%AD_SERVER%%/g,"proper").replace(/%%AD_UNIT_ID%%/g,e.name);t.document.write(e)},addReportAd:function(e){try{var t=e.slot.getSlotElementId(),i=ProperMedia.utils.makeid(10)+"-"+t,s=j.createElement("div");s.id=i,s.className="adl-report-ad-container-parent";var r=j.createElement("div");r.className="adl-report-ad-container";var a={adlAction:"createUserReportButton",selector:"#"+i,uniqueId:e.creativeId||e.sourceAgnosticCreativeId,targetAd:t};s.appendChild(r);var n=j.getElementById(t),o=n.parentElement.getElementsByClassName("adl-report-ad-container-parent");o&&o.length&&o[0].remove(),n&&(n.insertAdjacentElement("afterend",s),window.postMessage(a,"*"))}catch(e){me.mylog("Error creating Ad Lightning report ad button. "+JSON.stringify(e))}}},ce={},ue={},me=new function(){this.log_lines={},this.autoplay_html={},this.rogue_data=[],this.saved_data={},this.bid_data={},this.interstitial_bid_data={},this.ad_info={},this.rogue_timeout=null,this.tracker_timeout=null,this.tracker_wait=250,this.init_bid_data=function(){ProperMedia.utils.deepAccess(this,"bid_data.ad_slots")&&0<Object.keys(this.bid_data.ad_slots).length&&this.proper_tracker(),"greatergood_ctg"!=he.site_name&&"historyinorbit"!=he.site_name&&"groovyhistory"!=he.site_name||(this.tracker_wait=100),this.bid_data={page_guid:ProperMedia.utils.validateValue(ye.uuid,{type:"string"}),website:ProperMedia.utils.validateValue(he.site_name,{type:"string",default_val:"unknown",max_len:40}),url:ProperMedia.utils.validateValue(ye.url,{type:"string",max_len:255}),url_path:ProperMedia.utils.validateValue(ye.path,{type:"string",max_len:150}),os:ProperMedia.utils.validateValue(_e.os_group,{type:"string",max_len:30}),browser:ProperMedia.utils.validateValue(_e.browser_group,{type:"string",max_len:30}),device:ProperMedia.utils.validateValue(_e.device_type,{type:"string",max_len:10}),use_ssl:ProperMedia.utils.validateValue(ye.use_ssl,{type:"boolean"}),is_mobile:ProperMedia.utils.validateValue("mobile"==_e.device_type,{type:"boolean"}),is_isolated:ProperMedia.utils.validateValue(ye.isolated,{type:"boolean"}),session_depth:ProperMedia.utils.validateValue(ge.sessionData.depth,{type:"number"}),session_guid:ProperMedia.utils.validateValue(ge.sessionData.uuid,{type:"string"}),resolution_width:ProperMedia.utils.validateValue(ye.width,{type:"number",max:99999}),resolution_height:ProperMedia.utils.validateValue(ye.height,{type:"number",max:99999}),rtp_file_version:ProperMedia.utils.validateValue(he.rtp_file_version,{type:"number"}),referrer:ProperMedia.utils.validateValue(ge.sessionData.referrer,{type:"string",max_len:255}),utm_source:ProperMedia.utils.validateValue(ge.sessionData.utm_source,{type:"string",max_len:65}),utm_campaign:ProperMedia.utils.validateValue(ge.sessionData.utm_campaign,{type:"string",max_len:255}),utm_medium:ProperMedia.utils.validateValue(ge.sessionData.utm_medium,{type:"string",max_len:50}),utm_term:ProperMedia.utils.validateValue(ge.sessionData.utm_term,{type:"string",max_len:50}),utm_content:ProperMedia.utils.validateValue(ge.sessionData.utm_content,{type:"string",max_len:50}),utm_template:ProperMedia.utils.validateValue(ge.sessionData.utm_template,{type:"string",max_len:50}),utm_referrer:ProperMedia.utils.validateValue(ge.sessionData.utm_referrer,{type:"string",max_len:50}),utm_adset:ProperMedia.utils.validateValue(ge.sessionData.utm_adset,{type:"string",max_len:50}),utm_subid:ProperMedia.utils.validateValue(ge.sessionData.utm_subid,{type:"string",max_len:50}),gclid:ProperMedia.utils.validateValue(ge.sessionData.gclid,{type:"string",max_len:50}),fbclid:ProperMedia.utils.validateValue(ge.sessionData.fbclid,{type:"string",max_len:50}),category:ProperMedia.utils.validateValue(ye.page_meta.category,{type:"string",max_len:50}),editor:ProperMedia.utils.validateValue(ye.page_meta.editor,{type:"string",max_len:50}),writer:ProperMedia.utils.validateValue(ye.page_meta.writer,{type:"string",max_len:50}),buyer:ProperMedia.utils.validateValue(ye.page_meta.buyer,{type:"string",max_len:50}),page_type:ProperMedia.utils.validateValue(ye.page_meta.page_type,{type:"string",max_len:50}),split:ProperMedia.utils.validateValue(ye.page_meta.split,{type:"string",max_len:50}),tags:ProperMedia.utils.validateValue(ye.page_meta.tags.join(","),{type:"string",max_len:500}),custom:ProperMedia.utils.validateValue(JSON.stringify(ye.page_meta.custom),{type:"string",max_len:500}),ad_slots:{}},this.send_pageview_pixel()},this.send_pageview_pixel=function(){this.bid_data.ad_slots.pageview_pixel={slot_name:"pageview_pixel",bidder:"pageview_pixel",price:0,gross:0,size:"0x0",refresh_cnt:0,line_item_id:"",response_ms:0,auction_duration:0,precent_bids_ready:0,tag_id:"",adid:"",adomain:"",cid:"",crid:"",dealid:""},this.proper_tracker()},this.log_bid=function(e){this.mylog(e.bidder+" ("+e.tag_id+"@"+e.size+") = "+e.price)},this.mylog=function(e,t){this.log_lines[t=t||"proper"]=ProperMedia.utils.checkData(this.log_lines[t]),this.log_lines[t].push(e),(1==ye.get_vars[t]||"proper"==t&&1==ProperMedia.utils.getCookieValue("proper_log"))&&console.log(e)},this.rogue_tracker=function(){var t,i;clearTimeout(this.rogue_timeout),this.rogue_timeout=null,0<this.rogue_data.length&&(t=this.rogue_data,this.rogue_data=[],i=this,S.ajax({url:"https://proper.io/ajax/tracker.php?rogue=1",method:"POST",data:"data="+JSON.stringify(t),headers:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){i.mylog("autoplay ads tracked! x"+t.length)}}))},this.proper_tracker=function(){var e,t=this;clearTimeout(this.tracker_timeout),this.tracker_timeout=null,0<Object.keys(this.bid_data.ad_slots).length&&(this.bid_data.ad_slots=Object.keys(this.bid_data.ad_slots).filter(function(e){return!(0!==e.indexOf(he.site_name)&&"pageview_pixel"!=e)}).reduce(function(e,t){return e[t]=this.bid_data.ad_slots[t],e}.bind(this),{}),e=JSON.stringify(this.bid_data),this.bid_data.ad_slots={},he.testing_mode.ids?t.mylog("Not logging winnig bids. Test IDs are being used."):S.ajax({url:"https://bids.proper.io/api/bidding",method:"POST",withCredentials:!1,data:e,success:function(e){t.mylog("bids tracked!")},error:function(e){t.mylog("error tracking bid data")}}))},this.track_rogue=function(e,t){var i={},i=void 0!==e.winning_ad.displayed&&1==e.winning_ad.displayed?e.winning_ad:{bidder:"static_tag",price:0,size:"",adcode:"[DFP STATIC TAG]"};this.mylog("rogue "+t+" detected (slot="+e.name+", bidder="+i.bidder+")"),this.rogue_data.push({rogue_type:t,bidder:i.bidder,cpm:i.price,size:i.size,slot:e.dfp_name,website:he.site_name,device:_e.device_type,os:_e.os_group,browser:_e.browser_group,is_mobile:_e.isMobile(),tag_id:i.tag_id,ad_details:i.ad_details,split_version:he.rtp_file_version}),clearTimeout(this.rogue_timeout),this.rogue_timeout=null,this.rogue_timeout=_.setTimeout.call(this,function(){this.rogue_tracker()},this.tracker_wait),e.getWinningBid()&&Ds(e)},this.proper_log=function(e){if("page"!=(e=e||"proper"))if("bid_table"!=e){if("bid_table_csv"!=e){if("on"==e){e="proper";var t=new Date;t.setTime(t.getTime()+36e5),j.cookie="proper_log=1; expires="+t.toGMTString()+"; path=/; SameSite=Lax;",console.log("NOTICE: Turning on persistent logging. Run proper_log('off'); to turn off.")}else if("off"==e)return e="proper",console.log("NOTICE: Turning off persistent logging."),j.cookie="proper_log=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax;",ye.get_vars[e]=0,!1;for(var i=0;i<me.log_lines[e].length;i++)me.log_lines[e][i]&&console.log(me.log_lines[e][i]),ye.get_vars[e]=1;return!0}if((s=a()).length){csv_output="",header_keys=Object.keys(s[0]);for(r=0;r<header_keys.length;r++)csv_output+='"'+header_keys[r]+'"'+(r<header_keys.length-1?",":"");for(r=0;r<s.length;r++)csv_output+='\n"'+ProperMedia.utils.objectValues(s[r]).join('","')+'"';t=j.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(csv_output)),t.setAttribute("download","proper_bid_table_"+j.location.hostname+".csv"),t.style.display="none",j.body.appendChild(t),t.click(),j.body.removeChild(t)}else console.warn("No responses")}else{var s;if((s=a()).length)if(console.table)console.table(s);else for(var r=0;r<s.length;r++)console.log(s[r]);else console.warn("No responses")}else console.log(ye);function a(){var a=[],n=ye.slots;return Object.keys(ye.slots).forEach(function(r){Object.keys(ye.slots[r]).forEach(function(e){var t=n[r][e];if(t instanceof c)for(var i=0;i<t.ads.length;i++){var s=o(t.ads[i]);-1===ProperMedia.utils.indexOfObjectInArray(a,s)&&a.push(s)}t.hasWinningBid()&&(s=o(t.winning_ad),-1===ProperMedia.utils.indexOfObjectInArray(a,s)&&a.push(s))},this)},this),a;function o(e){return{slot_name:e.slot.name,size:e.size,bidder:e.bidder,time:e.response_ms,floor:e.floor,cpm:e.price,dfp_price:e.dfp_price,gross:e.gross,price:e.price,tag_id:e.tag_id,refresh_cnt:e.slot.refresh.count,displayed:e.displayed}}}}},he=new function(){this.rtp_file_version=0,this.dfp_per_slot=0,this.prebid_version="4.25.0",this.post_id="",this.additional_domains=[],this.site_name="",this.domain="",this.domain_protection=0,this.confiant=0,this.extra_css="",this.extra_js="",this.mcm_type="mcm",this.proper_dfp_id=5376056,this.dfp_advertiser_ids={google:42904576,proper:600883576},this.dfp_id=5376056,this.google_advertiser=42904576,this.proper_advertiser=600883576,this.amazon_advertiser=455011336,this.adsense_advertiser=1349528536,this.testing_mode={enabled:!1,bidder:!1,ids:!1},this.video_players={},this.ad_slots={},this.isolated_urls=[],this.s2s_endpoint="https://eb.proper.io/s2s",this.slot_wrapper_class="proper-ad-unit",this.usync_endpoint="https://usync.proper.io/v1/usersync",this.usync_hb_endpoint="https://eb.proper.io/v1/usersync",this.sandbox_iframe=1,this.sandbox_options=["allow-popups","allow-pointer-lock","allow-scripts","allow-same-origin"],this.audience_pixels={enabled:!1,thresholds:[]},this.native_sizes={native_horizontal:"1x1",native_vertical:"1x1",sticky_horizontal:"1x1"},this.schain={ver:"1.0",complete:0,nodes:[]},this.refresh={desktop:{enabled:1,interval:6e4,inview_interval:15e3,max:5,exclude_dfp:0},mobile:{enabled:1,interval:3e4,inview_interval:15e3,max:5,exclude_dfp:0}},this.floors={desktop:{backup:.15,sizes:{}},mobile:{backup:.15,sizes:{}}},this.lazyload={desktop:{enabled:1,fetchMarginPercent:0,renderMarginPercent:0},mobile:{enabled:1,fetchMarginPercent:0,renderMarginPercent:0}},this.autoDelete={desktop:{enabled:!1,autoDeleteMarginPercent:200},mobile:{enabled:!1,autoDeleteMarginPercent:200}},this.userIds={identityAdapters:{id5id:{name:"id5Id",config:{enabled:!1},storage:{}},identitylink:{name:"identityLink",config:{enabled:!1},storage:{}},pubcommonid:{name:"pubCommonId",config:{enabled:!1},storage:{}},sharedid:{name:"sharedId",config:{enabled:!1},storage:{}},publink:{name:"pubLink",config:{enabled:!1},storage:{}},fabrickid:{name:"fabrickId",config:{enabled:!1,apiKey:""},storage:{}},verizonmediaid:{name:"verizonMediaId",config:{enabled:!1},storage:{}}}},this.adlightning={enabled:!1,clientId:"properio",reportAd:!1},this.bidders={header:{},s2s:{}},this.bidder_info={adaptmx_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},adaptmx_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",adapter_name:"s2s",default_bid_ttl:3e5},adaptmx_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",adapter_name:"s2s",default_bid_ttl:3e5},pubmatic_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s",default_bid_ttl:6e4},sovrn_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},sonobi_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s"},gumgum_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s",native_sizes:{desktop:{"1x1":"sticky_horizontal"},mobile:{"1x1":"sticky_horizontal"}}},mediagrid_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},verizon_media_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s"},aol_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",adapter_name:"s2s"},aol_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",adapter_name:"s2s"},engagebdr_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},magnite_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},yieldmo_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},appnexus_native:{rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus"},brealtime:{rev_share:.9,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus"},districtm:{rev_share:.9,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus"},shemedia:{rev_share:.5,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"rubicon"},openx_pmp:{rev_share:1,bid_grouping:"slot"},triplelift_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"triplelift"},undertone_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"undertone"},undertone_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"undertone"},thirtythreeacross_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e4,adapter_name:"thirtythreeacross"},thirtythreeacross_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:36e4,adapter_name:"thirtythreeacross"},smart_adserver_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"smart_adserver"},smart_adserver_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"smart_adserver"},unruly_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"unruly"},unruly_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"unruly"},rhythmone_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"rhythmone"},rhythmone_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"rhythmone"},adyoulike_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e5,adapter_name:"adyoulike"},adyoulike_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:36e5,adapter_name:"adyoulike"},districtmdmx_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"districtmdmx"},districtmdmx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"districtmdmx"},amazon_tam_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"a9"},amazon_tam_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"a9"},emx_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"emx"},emx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"emx"},sonobi_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"sonobi"},sonobi_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"sonobi"},appnexus_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"appnexus"},appnexus_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"appnexus"},ix_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix"},ix_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix"},engagebdr_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},engagebdr_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},magnite_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},magnite_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},aol_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"aol_instream"},beachfront_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"beachfront_instream"},openx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"openx_instream"},pubmatic_outstream:{rev_share:.81,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"pubmatic_instream"},rubicon_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"rubicon_instream"},spotx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"spotx_instream"},beeswax_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s"},beeswax_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},beeswax_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},xandr_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s"},xandr_native_s2s:{rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s"},pubmatic_native_s2s:{rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:6e4,adapter_name:"s2s"},xandr_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},xandr_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"}}},ge=new function(){this.sessionData={uuid:"",depth:0,referrer:"",gclid:"",fbclid:"",utm_campaign:"",utm_source:"",utm_medium:"",utm_term:"",utm_content:"",utm_template:"",utm_referrer:"",utm_adset:"",utm_subid:"",revenue:0,bid_avg:{}},this.newCookieName="properSessionData",this.oldCookieName="sessionData",this.init=function(){this.getSessionCookie(),void 0!==this.sessionData.depth?this.sessionData.depth=this.sessionData.depth+1:this.sessionData.depth=1;var e=["utm_medium","utm_source","utm_campaign","utm_term","utm_content","utm_template","utm_referrer","utm_adset","utm_subid"],t=e.some(function(e){return void 0!==ye.get_vars[e]},this);""===ye.referrer||ProperMedia.utils.matchDomain(ye.domain,ye.referrer)||(this.checkForChange("referrer",ye.referrer),t=!0),t&&e.forEach(function(e){this.checkForChange(e,ye.get_vars[e]||"")},this),void 0!==this.sessionData.uuid&&""!=this.sessionData.uuid||(this.sessionData.uuid=ProperMedia.utils.generateUUID(),this.sessionData.referrer=ye.referrer),this.setSessionRevenue(0),window.proper_ad_session_uuid=this.sessionData.uuid,this.setSessionCookie()},this.checkForChange=function(e,t){this.sessionData[e]!==t&&(this.sessionData[e]=t,this.sessionData.uuid="",this.sessionData.depth=1)},this.getSessionCookie=function(){if(void 0!==ProperMedia.utils.getCookieValue(this.newCookieName)){var e=ProperMedia.utils.getCookieValue(this.newCookieName)||"",e=ProperMedia.utils.isBase64(e)?ProperMedia.utils.b64DecodeUnicode(e):decodeURIComponent(e),e=ProperMedia.utils.safeJsonParse(e)||{};ProperMedia.utils.mergeObject(this.sessionData,e)}else if(void 0!==ProperMedia.utils.getCookieValue(this.oldCookieName)){var t=ProperMedia.utils.safeJsonParse(ProperMedia.utils.getCookieValue(this.oldCookieName));if(null!=t){for(key in this.sessionData)void 0!==t[key]&&(this.sessionData[key]=t[key]);void 0!==t.encoded&&1==t.encoded&&(this.sessionData.referrer=decodeURIComponent(this.sessionData.referrer),this.sessionData.utm_campaign=decodeURIComponent(this.sessionData.utm_campaign),this.sessionData.utm_source=decodeURIComponent(this.sessionData.utm_source),this.sessionData.utm_medium=decodeURIComponent(this.sessionData.utm_medium),this.sessionData.utm_term=decodeURIComponent(this.sessionData.utm_term),this.sessionData.utm_content=decodeURIComponent(this.sessionData.utm_content),this.sessionData.utm_template=decodeURIComponent(this.sessionData.utm_template),this.sessionData.utm_referrer=decodeURIComponent(this.sessionData.utm_referrer),this.sessionData.utm_adset=decodeURIComponent(this.sessionData.utm_adset),this.sessionData.utm_subid=decodeURIComponent(this.sessionData.utm_subid))}}},this.setSessionCookie=function(){var e=new Date;e.setTime(e.getTime()+18e5);var t=ProperMedia.utils.b64EncodeUnicode(JSON.stringify(this.sessionData));j.cookie=this.newCookieName+"="+t+"; expires="+e.toGMTString()+"; path=/; domain=."+ye.domain+"; SameSite=Lax;"},this.deleteCookie=function(e){var t=new Date;t.setTime(t.getTime()-6e4),j.cookie=e+"=; expires="+t.toGMTString()+"; path=/; domain=."+ye.domain+"; SameSite=Lax;"},this.setSessionRevenue=function(e){this.sessionData.revenue+=parseFloat(e)/1e3||0,me.mylog("Session revenue: "+this.sessionData.revenue),this.setSessionCookie(),T.checkThresholds()}},_e=new function(){this.browser="",this.browser_group="",this.device_type="",this.os="",this.os_group="",this.init=function(){var t={browser:{IE:"Explorer","Chrome Headless":"Chrome","Chrome WebView":"Chrome"},device:{console:"desktop"}};"undefined"!=typeof UAParser&&!function(){var e=(new UAParser).getResult();this.browser=e.browser.name,e.browser.version&&(this.browser+=" "+e.browser.version),this.browser_group=e.browser.name,void 0!==t.browser&&void 0!==t.browser[this.browser_group]&&(this.browser_group=t.browser[this.browser_group]),this.device_type=e.device.type,this.device_type||(this.device_type="desktop"),void 0!==t.device&&void 0!==t.device[this.device_type]&&(this.device_type=t.device[this.device_type]),this.os=e.os.name,e.os.version&&(this.os+=" "+e.os.version),this.os_group=e.os.name}.bind(this)(),window.device={browser:this.browser,browser_group:this.browser_group,device_type:this.device_type,os:this.os,os_group:this.os_group}},this.isMobile=function(){return"mobile"==this.device_type},this.init()},be=new function(){this.lang="",this.tzone="",this.member="no",this.facebook_user="unknown",this.pubcid="",this.init=function(){this.tzone=(new Date).getTimezoneOffset(),this.lang=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,this.pubcid=ue.pubCommonId.getValue()||ProperMedia.utils.generateUUID()},this.stickyFreqCapHandler={setStickyClosedCookie:function(){var e=new Date;e.setHours(23,59,59,0),j.cookie="properStickyClosed=true; expires="+e.toGMTString()+"; path=/; SameSite=Lax;"},getStickyClosedCookie:function(){return"true"==ProperMedia.utils.getCookieValue("properStickyClosed")},setStickyUnitImps:function(e){var t=new Date;t.setHours(23,59,59,0),j.cookie="properStickyUnitImps="+parseInt(e)+"; expires="+t.toGMTString()+"; path=/; SameSite=Lax;"},getStickyUnitImps:function(){return NaN!=parseInt(ProperMedia.utils.getCookieValue("properStickyUnitImps"))?parseInt(ProperMedia.utils.getCookieValue("properStickyUnitImps")):0},incrementStickyUnitImps:function(){var e=this.getStickyUnitImps()||0;this.setStickyUnitImps(e+=1)}}},fe=new function(){this.proper_uid="",this.supported_bidders={sovrn:1,sonobi:1,yieldmo:1,adaptmx:1,magnite:1,pubmatic:1,districtm:1,mediagrid:1,engagebdr:1,aol_instream:1,verizon_media:1,magnite_instream:1,magnite_outstream:1,engagebdr_instream:1,engagebdr_outstream:1},this.bidderUserSyncValues={},this.cookie_map={magnite:["magnite","magnite_instream","magnite_outstream"],engagebdr:["engagebdr","engagebdr_instream","engagebdr_outstream"]},this.done_matching=!1,this.sent=0,this.received=0,this.timeout=1e3,this.timeout_handle=null,this.callback=null,this.init=function(){this.proper_uid=be.pubcid||ue.pubCommonId.getValue(),ProperMedia.utils.getCookieValue("proper_tracker_cookie")&&ProperMedia.utils.deleteCookie("proper_tracker_cookie","Lax","."+ye.domain),Object.keys(this.supported_bidders).forEach(function(e){this.getBidderUserSyncValue(e)},this)},this.cookieMatch=function(){var t=[];Object.keys(ProperMedia.utils.deepAccess(he,"bidders.s2s")||{}).forEach(function(e){ProperMedia.utils.deepAccess(he,"bidders.s2s."+e+".enabled")&&t.push(e)});for(var e=0;e<t.length;e++){var i=t[e].replace("_s2s","");1==this.supported_bidders[i]&&(this.bidderUserSyncValues[i]||Z.ready(function(){this.requestCookieMatch(i)}.bind(this)),"pubmatic"==i&&S(function(){try{var e=j.createElement("iframe");e.style.display="none",e.src="https://ads.pubmatic.com/AdServer/js/user_sync.html?p=156374&s=206686&predirect=",j.body.appendChild(e)}catch(e){console.log(e),m(y.computeStackTrace(e))}}))}0==this.sent?this.matchingDone():this.addTimeout()},this.requestCookieMatch=function(e){me.mylog("Start "+e+" Cookie Matching");var t=[];ie.cmpPresent&&(t.push("gdpr="+ie.gdprApplies.toString()),ie.consentString&&t.push("gdpr_consent="+ie.consentString)),J.cmpPresent&&J.usPrivacy&&t.push("us_privacy="+J.usPrivacy);var i=t.join("&"),s=he.usync_endpoint+"?bidder="+e+"&proper_uid="+this.proper_uid+"&uid=",r="",a="",t=!1;"adaptmx"==e?a="https://prebid.a-mo.net/cchain/0?cb="+encodeURIComponent(s)+"&"+i:"sovrn"==e?(r="$UID",a="https://ap.lijit.com/pixel?redir="+encodeURIComponent(s+r)+"&"+i):"pubmatic"==e?(r="#PM_USER_ID",a="https://image6.pubmatic.com/AdServer/UCookieSetPug?oid=1&rd="+encodeURIComponent(s+r)+"&"+i):"districtm"==e?(r="$UID",a="https://ib.adnxs.com/getuid?"+encodeURIComponent(s+r)+"&"+i):"sonobi"==e?(r="[UID]",a="https://sync.go.sonobi.com/us?loc="+encodeURIComponent(s+r)+"&"+i):"yieldmo"==e?(r="$UID",a="https://ads.yieldmo.com/pbsync?&redirectUri="+encodeURIComponent(s+r)+"&"+i):"mediagrid"==e?(r="${BSW_UUID}",a="https://x.bidswitch.net/check_uuid/"+encodeURIComponent(s+r)+"?"+i):"verizon_media"==e?(a="https://ups.analytics.yahoo.com/ups/58355/sync?redir=true",t=function(){this.received++}.bind(this)):"aol_instream"==e?a="https://pixel.advertising.com/ups/58316/sync?redir=true&"+i:"engagebdr"==e||"engagebdr_instream"==e||"engagebdr_outstream"==e?(r="[UUID]",a="https://match.bnmla.com/usersync?sspid=1000227&redir="+encodeURIComponent(s+r)):"magnite"!=e&&"magnite_instream"!=e&&"magnite_outstream"!=e||(j.getElementById(r="multisync-iframe")||((e=j.createElement("iframe")).id=r,e.width=0,e.height=0,e.marginWidth=0,e.marginHeight=0,e.scrolling="no",e.frameBorder=0,e.style.border="0px",e.style.display="none",e.src="https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.html?p=8777&endpoint=us-west",j.body.appendChild(e))),""!=a&&(this.sent++,S.ajax({url:a,requestType:"jsonp",onload:t}))},this.logMatchingResponse=function(e,i,t){this.updateBidderUserSyncData(e,t),this.received++,"sonobi"==e&&S(function(){try{var e=j.createElement("script");e.src="//sync.go.sonobi.com/uc.js?pubid="+(i||this.proper_uid),e.async=!0,e.type="text/javascript";var t=j.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}catch(e){console.log(e),m(y.computeStackTrace(e))}}),this.received>=this.sent&&this.matchingDone()},this.getBidderUserSyncValue=function(e){ProperMedia.utils.cookiesAreEnabled()&&ProperMedia.utils.getCookieValue(e+"_cookie")&&(this.bidderUserSyncValues[e]=ProperMedia.utils.getCookieValue(e+"_cookie")),ProperMedia.utils.hasLocalStorage()&&(this.bidderUserSyncValues[e]?(ProperMedia.utils.setDataInLocalStorage("ProperS2SUserSync."+e,this.bidderUserSyncValues[e]),ProperMedia.utils.deleteCookie(e+"_cookie","Lax","."+ye.domain)):ProperMedia.utils.getDataFromLocalStorage("ProperS2SUserSync."+e)&&(this.bidderUserSyncValues[e]=ProperMedia.utils.getDataFromLocalStorage("ProperS2SUserSync."+e)))},this.updateBidderUserSyncData=function(e,t){if(e&&t)for(var i,s,r,a,n=(e=e.replace("_s2s","")).replace(/_instream|_outstream/,""),o=this.cookie_map[n]||[e],d=0;d<o.length;d++)this.bidderUserSyncValues[o[d]]=t,ProperMedia.utils.hasLocalStorage()?ProperMedia.utils.setDataInLocalStorage("ProperS2SUserSync."+o[d],t):ProperMedia.utils.cookiesAreEnabled()&&((a=new Date).setTime(a.getTime()+5184e6),i="."+ye.domain,2<(r=ye.domain.split(".")).length&&(r.shift(),i="."+r.join(".")),s=o[d]+"_cookie",r=t,a=a.toGMTString(),ProperMedia.utils.setCookie(s,r,a,"Lax",i))},this.matchingDone=function(){1!=this.done_matching&&(this.done_matching=1,ProperMedia.utils.isFn(this.callback)&&(this.callback(),this.callback=null),me.mylog("S2S Cookie Matching Done"),this.resetTimeout())},this.addTimeout=function(){var e=this;this.timeout_handle=_.setTimeout.call(e,function(){e.resetTimeout(),e.matchingDone()},e.timeout)},this.resetTimeout=function(){clearTimeout(this.timeout_handle),this.timeout_handle=null}},ye=new o,ve=new b,Me=new function(){this.enabled=!1,this.resize_elem=null,this.breadcrumb_elem=null,this.debug_cont_elem=null,this.debug_console_elem=null,this.view_refresh_timer=null,this.slot_refresh_interval=null,this.debug_style_elem=null,this.createDebugConsole=function(e){this.enabled=!0,this.debug_console_elem||(this.debug_console_elem=j.createElement("div"),this.debug_console_elem.id="proper-debug-console",j.body.appendChild(this.debug_console_elem)),this.resize_elem||(this.resize_elem=j.createElement("div"),this.resize_elem.innerHTML="&#8942;",this.resize_elem.id="proper-debug-console-resizer",this.debug_console_elem.appendChild(this.resize_elem)),this.breadcrumb_elem||(this.breadcrumb_elem=j.createElement("div"),this.breadcrumb_elem.id="proper-debug-console-breadcrumb",this.debug_console_elem.appendChild(this.breadcrumb_elem)),this.debug_cont_elem||(this.debug_cont_elem=j.createElement("div"),this.debug_cont_elem.id="proper-debug-console-cont",this.debug_console_elem.appendChild(this.debug_cont_elem)),this.addCssStyle(),this.resize_elem&&this.breadcrumb_elem&&this.setDragAndResizeActions(),this.addSlotOverlays(),this.createOverview()},this.addCssStyle=function(){this.debug_style_elem||(this.debug_style_elem=j.createElement("style"),this.debug_style_elem.id="proper-debug-styling",this.debug_style_elem.innerHTML=this.debug_console_css,j.body.appendChild(this.debug_style_elem))},this.createDebugOverlays=function(){this.addCssStyle(),this.addSlotOverlays(),this.refreshViewInterval()},this.addSlotOverlays=function(){Object.keys(ye.slots).forEach(function(t){Object.keys(ye.slots[t]).forEach(function(e){e=ye.slots[t][e];this.addSlotOverlay(e)},this)},this)},this.addSlotOverlay=function(e){return e instanceof c&&(e.getElement()&&(r="proper_debug_overlay_"+e.name,s=j.getElementById(r),(t=j.getElementById(e.div_id))&&s&&s.parentNode.removeChild(s),(i=j.createElement("div")).id=r,i.classList.add("proper-debug-overlay"),(s=j.createElement("div")).classList.add("proper-debug-overlay-background"),(r=j.createElement("div")).classList.add("proper-debug-overlay-text"),r.innerHTML=[e.name,"Size: "+e.displayed_ad.size,"Bidder: "+e.displayed_ad.bidder,"CPM: "+e.displayed_ad.price].join("<br>"),S(s).on("click",function(){this.toggleMobileSticky(!0),this.createSlotView(e)}.bind(this)),i.append(r),i.append(s),t.appendChild(i)),!0);var t,i,s,r},this.toggleMobileSticky=function(e){e=e?"remove":"toggle";j.body.classList[e]("proper-debug-pinned"),j.getElementById("proper-debug-console").classList[e]("pinned")},this.destroyDebugConsole=function(){this.enabled=!1,this.debug_console_elem&&this.debug_console_elem.parentNode.removeChild(this.debug_console_elem),this.debug_style_elem&&this.debug_style_elem.parentNode.removeChild(this.debug_style_elem),this.view_refresh_timer&&clearTimeout(this.view_refresh_timer),this.view_refresh_timer=null,this.debug_console_elem=null,this.breadcrumb_elem=null,this.debug_cont_elem=null,this.debug_style_elem=null,this.resize_elem=null,Object.keys(ye.slots).forEach(function(t){Object.keys(ye.slots[t]).forEach(function(e){e=ye.slots[t][e];this.removeSlotOverlay(e)},this)},this)},this.removeSlotOverlay=function(e){if(!(e instanceof c))return!1;e=e.getElement();return e&&S(e).parent().find(".proper-debug-overlay").remove(),!0},this.refreshViewInterval=function(){clearTimeout(this.slot_refresh_interval),this.slot_refresh_interval=s.setInterval.call(this,this.loadViewCallback,1500)},this.refreshViewTimer=function(e,t){clearTimeout(this.view_refresh_timer),this.view_refresh_timer=_.setTimeout.call(this,this.loadViewCallback,1500,e,t)},this.loadViewCallback=function(e,t){this.addSlotOverlays(),"overview"==e?this.createOverview():"page"==e?this.createPageView(t):"slot"==e?this.createSlotView(t):"ad_pool"==e?this.createAdPoolView(t):"auction"==e&&this.createAuctionView(t)},this.createBreadcrumb=function(s){this.breadcrumb_elem.innerHTML="";var e=j.createElement("span");S(e).addClass("proper-debug-mobile-pin-btn"),e.innerHTML="&#8595;",S(e).on("click",function(){this.toggleMobileSticky()}.bind(this)),this.breadcrumb_elem.appendChild(e),Object.keys(s).forEach(function(e){var t=s[e],i=j.createElement("div");S(i).addClass("proper-debug-breadcrumb"),i.innerHTML=t.text,S(i).on("click",function(){this.loadViewCallback(t.text.replaceAll(" ","_"),t.obj)}.bind(this)),this.breadcrumb_elem.appendChild(i),e<s.length-1?(i=j.createElement("div"),S(i).addClass("proper-debug-breadcrumb-spacer"),this.breadcrumb_elem.appendChild(i)):e==s.length-1&&this.refreshViewTimer(t.text,t.obj)},this);e=j.createElement("span");S(e).addClass("proper-debug-close-console-btn"),e.innerHTML="&times;",S(e).on("click",function(){this.destroyDebugConsole()}.bind(this)),this.breadcrumb_elem.appendChild(e)},this.createTitleElement=function(e){var t=j.createElement("div");S(t).addClass("proper-debug-cont-title"),t.style.cssText="padding: 4px; margin: 4px; font-size: 1em; font-weight: 700; display: inline-block;",S(t).html(e),this.debug_cont_elem.appendChild(t)},this.createStateElements=function(i){var s=j.createElement("div");S(s).addClass("proper-debug-state-cont"),this.debug_cont_elem.appendChild(s),Object.keys(i).forEach(function(e){var t=j.createElement("div");S(t).addClass("proper-debug-state-cell"),i[e]||S(t).addClass("proper-debug-state-cell red"),S(t).html(e),s.appendChild(t)},this)},this.createOverview=function(){this.createBreadcrumb([{text:"overview",obj:{}}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Sections");var e=j.createElement("div");S(e).addClass("proper-debug-sections-cont"),this.debug_cont_elem.appendChild(e);var t=j.createElement("button");S(t).addClass("proper-debug-page-cell"),ye instanceof o==0&&S(t).addClass("proper-debug-page-cell red"),S(t).html("Page &amp; Slots"),S(t).on("click",function(){this.createPageView(ye)}.bind(this)),e.appendChild(t);t=j.createElement("button");S(t).addClass("proper-debug-ad-pool-cell"),0==ve.ads.length&&S(t).addClass("proper-debug-ad-pool-cell red"),S(t).html("Ad Pool &amp; Auctions"),S(t).on("click",function(){this.createAdPoolView(ve)}.bind(this)),e.appendChild(t),this.createTitleElement("Device");t=[{property:"OS",value:_e.os},{property:"OS Group",value:_e.os_group},{property:"Browser",value:_e.browser},{property:"Browser Group",value:_e.browser_group},{property:"Device Type",value:_e.device_type},{property:"User Agent",value:navigator.userAgent}];this.createTable("#proper-debug-console-cont",t,!1),this.createTitleElement("Session Data");t=[{property:"UUID",value:ge.sessionData.uuid},{property:"Depth",value:ge.sessionData.depth},{property:"Referrer",value:ge.sessionData.referrer},{property:"UTM campaign",value:ge.sessionData.utm_campaign},{property:"UTM source",value:ge.sessionData.utm_source},{property:"UTM medium",value:ge.sessionData.utm_medium},{property:"UTM term",value:ge.sessionData.utm_term},{property:"UTM content",value:ge.sessionData.utm_content}];this.createTable("#proper-debug-console-cont",t,!1),this.createTitleElement("Special Ops");t=j.createElement("pre");t.innerHTML=JSON.stringify(properSpecialOps,void 0,2),this.debug_cont_elem.appendChild(t),this.debug_cont_elem.appendChild(j.createElement("hr"))},this.createPageView=function(t){this.createBreadcrumb([{text:"overview",obj:{}},{text:"page",obj:t}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Slots");var s=j.createElement("div");S(s).addClass("proper-debug-page-slots-cont"),this.debug_cont_elem.appendChild(s),Object.keys(ye.slots).forEach(function(i){Object.keys(ye.slots[i]).forEach(function(e){var t=ye.slots[i][e],e=(t.getElement(),j.createElement("button"));S(e).addClass("proper-debug-page-slot-cell"),S(e).html(t.name),S(e).on("click",function(){this.createSlotView(t)}.bind(this)),s.appendChild(e)},this)},this),this.createTitleElement("States");var e={};1!==t.isolated&&0==he.dfp_per_slot&&(e["DFP Init"]=ye.dfp_init,void 0!==ye.dfp_enabled_services&&1==ye.dfp_enabled_services&&"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&(e["DFP Single Request Enabled"]=1)),0<Object.keys(e).length&&this.createStateElements(e),this.createTitleElement("Page Data");e=[{property:"UUID",value:t.uuid},{property:"DFP ID",value:he.dfp_id},{property:"MCM Type",value:he.mcm_type},{property:"Url",value:t.url},{property:"Referrer",value:t.referrer},{property:"Protocol",value:t.protocol},{property:"Canonical url",value:t.canonical_url},{property:"Isolated",value:t.isolated},{property:"Width",value:t.width},{property:"Height",value:t.height},{property:"Post id",value:t.post_id},{property:"SPA enabled",value:t.spa_settings.enabled}];1==t.spa_settings.enabled&&(e=e.concat([{property:"SPA gallery id",value:t.spa_settings.gallery_id},{property:"SPA gallery url",value:t.spa_settings.gallery_base_url},{property:"SPA page number",value:t.spa_settings.page_number},{property:"SPA prefetch enabled",value:t.spa_settings.prefetch}])),this.createTable("#proper-debug-console-cont",e,!1),this.createTitleElement("Page Meta");var i=[];Object.keys(t.page_meta).forEach(function(e){i.push({property:e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "),value:"object"==typeof t.page_meta[e]?JSON.stringify(t.page_meta[e]):t.page_meta[e]})}),this.createTable("#proper-debug-console-cont",i,!1)},this.createSlotView=function(e){this.createBreadcrumb([{text:"overview",obj:{}},{text:"page",obj:ye},{text:"slot",obj:e}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Slots");var r=j.createElement("div");S(r).addClass("proper-debug-page-slots-cont"),this.debug_cont_elem.appendChild(r);var a=e.name.toString();Object.keys(ye.slots).forEach(function(s){Object.keys(ye.slots[s]).forEach(function(e){var t=ye.slots[s][e],i=(t.getElement(),j.createElement("button"));S(i).addClass("proper-debug-page-slot-cell"),a==e&&S(i).addClass("proper-debug-page-slot-cell active"),S(i).html(t.name),S(i).on("click",function(){this.createSlotView(t)}.bind(this)),r.appendChild(i)},this)},this),this.createTitleElement("States");var t={"In DOM":e.getElement()?1:0};0==ye.isolated&&(1==he.dfp_per_slot?(t["Slot DFP Init"]=e.dfp_init,1==e.dfp_enabled_services&&"function"==typeof e.googletag().pubads().isSRA&&e.googletag().pubads().isSRA()&&(t["DFP Single Request"]=1)):(t["DFP Init"]=ye.dfp_init,1==ye.dfp_enabled_services&&"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&(t["DFP Single Request Enabled"]=0)),t["Mapped DFP Sizes"]=e.mapped_dfp_sizes,t["DFP Ready"]=e.dfp_ready,t["DFP Sent"]=e.dfp_sent,e.refresh.enabled&&0<e.refresh.count&&(t["DFP Refreshed"]=e.dfp_refreshed)),t.Displayed=e.displayed,this.createStateElements(t),this.createTitleElement(e.name);var i=j.createElement("div");S(i).addClass("proper-debug-scroll-slot-inview"),i.style.cssText="display: inline-block; cursor: pointer;",S(i).html("&#128065;"),S(i).on("click",function(){e.getElement().scrollIntoView()}.bind(this)),this.debug_cont_elem.appendChild(i);var s,t=e.sizes||[],i=0==e.viewability.viewable?e.viewability.total_time_inview:e.viewability.total_time_inview+e.getTimeInview(),i=[{property:"Type",value:e.type},{property:"Size",value:e.size},{property:"Sizes",value:t.join(", ")},{property:"Default size",value:e.default_size.join("x")},{property:"MCM Type",value:e.mcm_type},{property:"DFP ID",value:e.dfp_id},{property:"DFP AD Unit Path",value:e.dfpAdUnitPath},{property:"Div ID",value:e.div_id},{property:"Number",value:e.number},{property:"Refresh",value:e.refresh.enabled},{property:"Refresh cnt",value:e.refresh.count},{property:"Refresh max",value:e.refresh.max},{property:"Refresh interval",value:e.refresh.current_interval},{property:"Refresh inview interval",value:e.refresh.inview_interval},{property:"Viewable",value:e.viewability.viewable},{property:"Time inview",value:i},{property:"Sticky",value:e.sticky}];i=(i=1==e.sticky?i.concat([{property:"Position",value:e.sticky_settings.position},{property:"Brand",value:e.sticky_settings.brand},{property:"Close btn",value:e.sticky_settings.close_btn},{property:"Disable on close",value:e.sticky_settings.disable_on_close},{property:"Freq cap enabled",value:e.sticky_settings.freq_cap_enabled},{property:"Freq cap",value:e.sticky_settings.freq_cap}]):i).concat([{property:"Lazyload enabled",value:e.lazyload.enabled}]),i=(i=e.lazyload.enabled?i.concat([{property:"In fetch zone",value:e.lazyload.inFetchZone},{property:"In render zone",value:e.lazyload.inRenderZone},{property:"Fetch zone %",value:e.lazyload.fetchMarginPercent+"%"},{property:"Render zone %",value:e.lazyload.renderMarginPercent+"%"}]):i).concat([{property:"Auto delete enabled",value:e.autoDelete.enabled}]),i=(i=e.autoDelete.enabled?i.concat([{property:"In delete zone",value:e.autoDelete.inDeleteZone},{property:"Delete zone %",value:e.autoDelete.autoDeleteMarginPercent+"%"}]):i).concat([{property:"Dynamic enabled",value:e.dynamic.enabled}]),e.dynamic.enabled&&(i=i.concat([{property:"CSS Placement",value:e.dynamic.cssplacement},{property:"CSS Selector",value:e.dynamic.cssselector},{property:"Instance number",value:e.dynamic.instance_number}])),1==ye.spa_settings.enabled&&1==ye.spa_settings.prefetch&&(i=i.concat([{property:"Prefetch enabled",value:1}])),this.createTable("#proper-debug-console-cont",i,!1),"video"==e.type&&e.video_player instanceof l&&(this.createTitleElement("Video Player"),s=[{property:"ID",value:(s=ProperMedia.utils.deepAccess(e,"video_player.player_settings")||{}).id},{property:"Div ID",value:s.div_id},{property:"DFP Ad Unit",value:s.dfp_ad_unit},{property:"Video ID",value:s.video_id},{property:"Video Type",value:s.video_type},{property:"Number of Ads",value:s.number_of_ads},{property:"Autoplay",value:s.autoplay},{property:"Backfill",value:s.backfill},{property:"Backfill ID",value:s.backfill_id},{property:"Small Player",value:s.small_player},{property:"Small Player Bottom",value:s.small_player_bottom},{property:"Ad Failure Limit",value:s.ad_failure_limit},{property:"Vast Timeout",value:s.vast_timeout},{property:"No Ads No Player",value:s.no_ads_no_player}],i=i.concat([{property:"Lazyload enabled",value:e.lazyload.enabled}]),this.createTable("#proper-debug-console-cont",s,!1)),1==e.displayed&&0<Object.keys(e.displayed_ad).length&&(this.createTitleElement("Displayed Ad"),s=Math.max(0,ProperMedia.utils.getTimePassed(e.tracking_times.dfp_sent_ts,e.tracking_times.dfp_returned_ts)),n=[{property:"Bidder",value:e.displayed_ad.bidder},{property:"Media Type",value:e.displayed_ad.type},{property:"Size",value:e.displayed_ad.size},{property:"Price",value:e.displayed_ad.price},{property:"Gross",value:e.displayed_ad.gross},{property:"DFP price",value:e.displayed_ad.dfp_price},{property:"Tag ID",value:e.displayed_ad.tag_id||""},{property:"Campaign ID",value:e.displayed_ad.cid},{property:"Creative ID",value:e.displayed_ad.crid},{property:"Deal ID",value:e.displayed_ad.dealid},{property:"Ad ID",value:e.displayed_ad.adid},{property:"Ad Domain",value:JSON.stringify(e.displayed_ad.adomain)},{property:"Categories",value:JSON.stringify(e.displayed_ad.cat)},{property:"Attributes",value:JSON.stringify(e.displayed_ad.attr)},{property:"Extensions",value:JSON.stringify(e.displayed_ad.ext)}],n=(n=ProperMedia.utils.deepAccess(he,"bidders.header."+e.displayed_ad.bidder)||ProperMedia.utils.deepAccess(he,"bidders.s2s."+e.displayed_ad.bidder)?n.concat([{property:"Header Response Time",value:e.displayed_ad.response_ms+" ms"}]):n).concat([{property:"DFP Response Time",value:s+" ms"}]),this.createTable("#proper-debug-console-cont",n,!1)),this.createTitleElement("Floors");var n=j.createElement("pre");n.innerHTML=JSON.stringify({floors:e.floors},void 0,2),this.debug_cont_elem.appendChild(n)},this.createAdPoolView=function(i){this.createBreadcrumb([{text:"overview",obj:{}},{text:"ad pool",obj:i}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Auctions");var s=j.createElement("div");S(s).addClass("proper-debug-auction-cont"),this.debug_cont_elem.appendChild(s),Object.keys(i.finished_auctions).forEach(function(e){var t=i.finished_auctions[e],e=(t.bids_sent,j.createElement("button"));S(e).addClass("proper-debug-auction-cell"),S(e).html("Auction "+t.auction_num),S(e).on("click",function(){this.createAuctionView(t,i)}.bind(this)),s.appendChild(e)},this),Object.keys(i.auctions).forEach(function(e){var t=i.auctions[e],e=(t.bids_sent,j.createElement("button"));S(e).addClass("proper-debug-auction-cell"),S(e).html("Auction "+t.auction_num),S(e).on("click",function(){this.createAuctionView(t,i)}.bind(this)),s.appendChild(e)},this),this.debug_cont_elem.appendChild(j.createElement("hr")),this.createTitleElement("Bidders");var r=j.createElement("div");S(r).addClass("proper-debug-bidders-cont"),this.debug_cont_elem.appendChild(r),Object.keys(he.bidders).forEach(function(s){Object.keys(he.bidders[s]).forEach(function(e){var t=he.bidders[s][e],i=j.createElement("div");S(i).addClass("proper-debug-bidder-cell"),t.enabled||S(i).addClass("red"),S(i).html(e),r.appendChild(i)},this)},this);var e=j.createElement("pre");e.innerHTML=JSON.stringify({"dynamic floors":ge.sessionData.bid_avg},void 0,2),this.debug_cont_elem.appendChild(e),this.debug_cont_elem.appendChild(j.createElement("hr")),this.createTitleElement("Bids ("+i.ads.length+")");for(var t=[],a=0;a<i.ads.length;a++){var n=i.ads[a];t.push({bidder:n.bidder,type:n.type,size:n.size,gross:n.gross,price:n.price,dfp_price:n.dfp_price,tag_id:n.tag_id,response_ms:n.response_ms,ttl:n.ttl,dealid:n.dealid})}this.createTable("#proper-debug-console-cont",t,!0),this.createTitleElement("Displayed Bids");for(t=[],a=0;a<i.displayed_ads.length;a++){n=i.displayed_ads[a];t.push({bidder:n.bidder,type:n.type,size:n.size,gross:n.gross,price:n.price,dfp_price:n.dfp_price,tag_id:n.tag_id,response_ms:n.response_ms,ttl:n.ttl,dealid:n.dealid})}this.createTable("#proper-debug-console-cont",t,!0)},this.createAuctionView=function(r){this.createBreadcrumb([{text:"overview",obj:{}},{text:"ad pool",obj:ve},{text:"auction",obj:r}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Auction Data");var e=[{property:"Network Requests",value:r.requests_sent},{property:"Bids returned / sent",value:r.bids_returned+" / "+r.bids_sent},{property:"Bids sent",value:r.bids_started_ts?1:0},{property:"Bids ready",value:r.bids_done_ts?1:0},{property:"Auction ms",value:r.calcAuctionMs()},{property:"Max timeout",value:r.max_timeout}];this.createTable("#proper-debug-console-cont",e,!1),this.createTitleElement("Bids");var a=[];0<Object.keys(r.bids).length&&Object.keys(r.bids).forEach(function(e){var t=r.bids[e];if(0<t.responses.length)for(var i=0;i<t.responses.length;i++){var s=t.responses[i];a.push({bidder:s.bidder,displayed:s.displayed,type:s.type,size:s.size,gross:s.gross,price:s.price,dfp_price:s.dfp_price,tag_id:s.tag_id,"response ms":s.response_ms,ttl:s.ttl})}}),this.createTable("#proper-debug-console-cont",a,!0),this.createTitleElement("No Bid Responses");a=[];0<Object.keys(r.bids).length&&Object.keys(r.bids).forEach(function(e){var t=r.bids[e];if(0<t.responses_no_bid.length)for(var i=0;i<t.responses_no_bid.length;i++){var s=t.responses_no_bid[i];a.push({bidder:s.bidder,type:s.type,tag_id:s.tag_id,"response ms":s.response_ms})}}),this.createTable("#proper-debug-console-cont",a,!0),this.createTitleElement("Errored Bid Requests");a=[];0<Object.keys(r.bids).length&&Object.keys(r.bids).forEach(function(e){var t=r.bids[e];if(0<t.response_errors.length)for(var i=0;i<t.response_errors.length;i++){var s=t.response_errors[i];a.push({bidder:s.bidder,status:s.status,statusText:s.statusText,responseMs:s.response_ms,timeoutMs:s.timeout})}}),this.createTable("#proper-debug-console-cont",a,!0)},this.createTable=function(n,o,d){var p;!function(){p=j.createElement("table"),S(p).addClass("proper-debug-table"),p.style.cssText="margin: 5px;",S(n).append(p);for(var e=function(){for(var e=[],t=j.createElement("tr"),i=0;i<o.length;i++){var s,r;for(s in o[i])0==e.includes(s)&&(e.push(s),(r=j.createElement("th")).innerHTML=s,S(t).append(r))}1==d&&S(p).append(t);return e}(),t=0;t<o.length;t++){for(var i=j.createElement("tr"),s=0;s<e.length;s++){var r=o[t][e[s]];null==r&&(r="");var a=j.createElement("td");a.style.cssText="padding: 5px;",a.innerHTML=r,S(i).append(a)}S(p).append(i)}}()},this.setDragAndResizeActions=function(){var i=20,s=0,r=0,t=0,a=0,n=0,o=0,d=this.debug_console_elem,e=this.resize_elem,p=this.breadcrumb_elem;function l(e){var t=s+(e.pageY-a),e=r+(e.pageX-o);i<t&&(d.style.height=t+"px"),i<e&&(d.style.width=e+"px")}function c(e){d.style.top=t+(e.pageY-a)+"px",d.style.left=n+(e.pageX-o)+"px"}function u(){window.removeEventListener("mousemove",l)}function m(){window.removeEventListener("mousemove",c)}e.addEventListener("mousedown",function(e){e.preventDefault(),s=parseFloat(getComputedStyle(d,null).getPropertyValue("height").replace("px","")),r=parseFloat(getComputedStyle(d,null).getPropertyValue("width").replace("px","")),t=d.getBoundingClientRect().top,a=e.pageY,n=d.getBoundingClientRect().left,o=e.pageX,window.addEventListener("mousemove",l),window.addEventListener("mouseup",u)}),p.addEventListener("mousedown",function(e){e.preventDefault(),t=d.getBoundingClientRect().top,a=e.pageY,n=d.getBoundingClientRect().left,o=e.pageX,window.addEventListener("mousemove",c),window.addEventListener("mouseup",m)})},this.css_values={fontMedium:"12px",fontLarge:"16px",maxZ:2147483647,purple:"#2C3050",purpleLight:"#555F9E",purpleDark:"#1A1D3E",green:"#44B558",greenLight:"#57EB73",greenDark:"#008C2B",grayLight:"#f6f8fa",grayDark:"#3b565d"},this.debug_console_css="\t\t@keyframes console-tween-in {\t\t\tfrom {left: -500px}\t\t\tto {left: 15px}\t\t}\t\t#proper-debug-console {\t\t\tbackground: "+this.css_values.grayLight+";\t\t\tz-index: "+this.css_values.maxZ+";\t\t\tposition: fixed;\t\t\ttop: 15px;\t\t\tleft: 15px;\t\t\twidth: calc(100% - 30px);\t\t\toverflow: auto;\t\t\theight: 500px;\t\t\twidth: 600px;\t\t\tborder-radius: 5px;\t\t\tcolor:"+this.css_values.grayDark+';\t\t\tfont-size:12px !important;\t\t\tmax-width: calc(100vw - 30px);\t\t\tbox-shadow: 0 0 0 7px rgba(255,255,255,0.7), 0 10px 10px 0 rgba(0,0,0,0.65), inset 0 -4px 0 0 white;\t\t\tanimation: console-tween-in 500ms ease-out;\t\t}#proper-debug-console, #proper-debug-console * {\t\t\t font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif !important;\t\t}\t\t#proper-debug-console.short {\t\t\theight:250px;\t\t}#proper-debug-console-cont {\t\t\tpadding: 8px 8px;\t\t}\t\t#proper-debug-console-resizer {\t\t\twidth: 12px;\t\t\theight: 20px;\t\t\tposition: sticky;\t\t\tz-index: 9999999;\t\t\tbackground: white;\t\t\tcolor: gray;\t\t\tfont-size:16px;\t\t\tdisplay:flex;\t\t\talign-items:center;\t\t\tjustify-content:center;\t\t\tcursor: nwse-resize;\t\t\ttop:calc(100% - 20px);\t\t\tleft:calc(100% - 12px);\t\t\tmargin-bottom: -20px;\t\t}\t\t#proper-debug-console-breadcrumb {\t\t\tfont-weight: bold;\t\t\tborder-radius: 6px 6px 0 0;\t\t\tpadding-left: 11px;\t\t\tbackground: '+this.css_values.purple+";\t\t\tposition: sticky;\t\t\ttop:0;\t\t\tz-index: 999;\t\t\tcursor: move;\t\t\tbox-shadow:inset 0 0 0 4px "+this.css_values.grayLight+";\t\t\tdisplay:flex;\t\t\theight:50px;\t\t}.proper-debug-breadcrumb {\t\t\tmargin: 0px 3px;\t\t\tcursor: pointer;\t\t\tdisplay:block;\t\t\tcolor:white;\t\t}.proper-debug-breadcrumb:not(:last-of-type){\t\t\topacity:0.7;\t\t}\t\t#proper-debug-console-breadcrumb > * {\t\t\tdisplay:flex;\t\t\talign-items:center;\t\t\ttext-transform: capitalize;\t\t}.proper-debug-breadcrumb-spacer {\t\t\tmargin-right:3px;\t\t}.proper-debug-breadcrumb-spacer:after {\t\t\tcontent:'';\t\t\twidth: 4px;\t\t\theight:4px;\t\t\tborder-top: solid 1px white;\t\t\tborder-right: solid 1px white;\t\t\ttransform: rotate(45deg);\t\t\topacity:0.7;\t\t}\t\t.proper-debug-close-console-btn {\t\t\tpadding: 4px;\t\t\tmargin: 0 12px 0 auto;\t\t\tcursor: pointer;\t\t\tdisplay: inline-block;\t\t\tfloat: right;\t\t\tfont-size:21px;\t\t\tfont-family:'Futura', sans-serif !important;\t\t\tfont-weight:normal;\t\t\tcolor: white;\t\t}\t\t#proper-debug-console-cont {\t\t\tdisplay:flex;\t\t\tflex-direction:column;\t\t}#proper-debug-console-cont > * {\t\t\tflex: 1 1 100%;\t\t\tmargin:6px 0 0 0 !important;\t\t\tpadding:0;\t\t}\t\t.proper-debug-overlay-text {\t\t\ttext-align: left;\t\t\tz-index: "+(this.css_values.maxZ-1)+";\t\t\tpadding: 4px 8px 8px 8px;\t\t\tposition: absolute;\t\t\ttop: 0px;\t\t\tleft: 0px;\t\t\topacity: .90;\t\t\tbackground: "+this.css_values.greenLight+";\t\t\tfont-size: "+this.css_values.fontMedium+";\t\t\tline-height: 1.3em;\t\t\tcolor: black;\t\t}\t\t."+he.slot_wrapper_class+".ad-sticky.sticky-btm .proper-debug-overlay-text{\t\t\ttop:auto;\t\t\tbottom:0;\t\t}\t\t.proper-debug-overlay-background {\t\t\tcursor: pointer;\t\t\tbox-shadow: 0 0 0 4px "+this.css_values.greenLight+";\t\t\tz-index: "+(this.css_values.maxZ-2)+";\t\t\tposition: absolute;\t\t\ttop: 0px;\t\t\tbottom: 0px;\t\t\tleft: 0px;\t\t\tright: 0px;\t\t\tmax-width: calc(100vw - 8px);\t\t\tmargin:0 auto;\t\t}\t\t.proper-debug-page-slot-cell {\t\t\tborder: 2px solid black;\t\t\tpadding: 4px;\t\t\tmargin: 4px;\t\t\twidth: fit-content;\t\t\tdisplay: inline-block;\t\t\tcursor: pointer;\t\t}.proper-debug-page-slot-cell.active {\t\t\tbackground:"+this.css_values.greenLight+" !important\t\t}\t\t.proper-debug-state-cell,\t\t.proper-debug-bidder-cell {\t\t\tpadding: 4px 6px 4px 18px;\t\t\tmargin: 4px;\t\t\twidth: fit-content;\t\t\tdisplay: inline-block;\t\t\tposition:relative;\t\t\tbackground: white;\t\t\tborder-radius:30px;\t\t\tbox-shadow: 0 1px 5px 0 rgba(0,0,0,0.1);\t\t}.proper-debug-state-cell:before,\t\t.proper-debug-bidder-cell:before{\t\t\tcontent:'';\t\t\twidth:8px;\t\t\theight:8px;\t\t\tposition: absolute;\t\t\tleft: 5px;\t\t\ttop: 6px;\t\t\tz-index:3;\t\t\tmargin-right:5px;\t\t\tbackground-image: linear-gradient("+this.css_values.greenLight+","+this.css_values.greenDark+");\t\t\tborder-radius: 5px;\t\t\tbox-shadow: inset 0 0 2px 0 "+this.css_values.greenLight+";\t\t}.proper-debug-state-cell.red,\t\t.proper-debug-bidder-cell.red {\t\t\tcolor:red;\t\t}.proper-debug-state-cell.red:before,\t\t.proper-debug-bidder-cell.red:before {\t\t\tbackground:red;\t\t\tbox-shadow:none;\t\t}\t\t.proper-debug-state-cell{\t\t\tborder-radius:0;\t\t}.proper-debug-state-cell:first-of-type {\t\t\tborder-radius: 30px 0 0 30px;\t\t}\t\t.proper-debug-state-cell:last-of-type {\t\t\tborder-radius: 0 30px 30px 0;\t\t}.proper-debug-state-cell:first-of-type:last-of-type{\t\t\tborder-radius: 30px;\t\t}\t\t.proper-debug-state-cell:not(:last-of-type) {\t\t\tmargin-right:-2px;\t\t}\t\t."+he.slot_wrapper_class+",\t\t.proper-ad-insert {\t\t\tbackground: "+this.css_values.greenDark+"AA;\t\t}."+he.slot_wrapper_class+":hover,\t\t.proper-ad-insert:hover {\t\t\tbackground: "+this.css_values.greenLight+";\t\t}\t\t#proper-debug-console table {\t\t\tborder-top: solid 2px "+this.css_values.purple+";\t\t\tbackground:white;\t\t\tborder-bottom: solid 1px #ccc;\t\t\tline-height:1.4em;\t\t}#proper-debug-console table td:not(:first-of-type){\t\t\tborder-left: solid 1px #ccc;\t\t}#proper-debug-console table td:first-of-type{\t\t\tmin-width:100px;\t\t\tbackground:white;\t\t\twidth:1px;\t\t\tfont-weight:bold;\t\t}#proper-debug-console table th {\t\t\tfont-weight:bold;\t\t\tborder-bottom:solid 1px #cccccc80;\t\t}\t\t#proper-debug-console hr {\t\t\tborder:none;\t\t\tborder-bottom: solid 1px "+this.css_values.grayDark+";\t\t\topacity:0.3;\t\t}\t\t#proper-debug-console button {\t\t\t-webkit-appearance:none;\t\t\tcursor:pointer;\t\t\tborder:none;\t\t\tborder-radius: 4px;\t\t\tpadding: 5px 9px;\t\t\tfont-weight:bold;\t\t\tcolor:white;\t\t\tbackground:"+this.css_values.green+";\t\t\tdisplay:inline-block;\t\t}#proper-debug-console button:not(:hover) {\t\t\topacity:0.9;\t\t}\t\t#proper-debug-console button.red {\t\t\tbackground:red;\t\t}\t\t.proper-debug-mobile-pin-btn {\t\t\tdisplay:none !important;\t\t\tbackground:white;\t\t\twidth:24px;\t\t\theight:24px;\t\t\tfont-weight:bold;\t\t\tborder-radius: 4px;\t\t\tmargin-top:13px;\t\t\tmargin-right:6px;\t\t\tcursor:pointer;\t\t\tjustify-content:center;\t\t\talign-items:center;\t\t}\t\t@media screen and (max-width: 727px){\t\t\t#proper-debug-console {\t\t\t\tmax-width:100vw !important;\t\t\t\twidth:100vw !important;\t\t\t\tposition:fixed !important;\t\t\t\tleft:0 !important;\t\t\t\ttop: auto !important;\t\t\t\tbottom:0 !important;\t\t\t\tbox-shadow: none !important;\t\t\t\tanimation:none !important;\t\t\t\tmax-height:500px !important;\t\t\t\ttransition: max-height 250ms !important;\t\t\t}\t\t\t#proper-debug-console.pinned {\t\t\t\tmax-height:50px !important;\t\t\t}\t\t\t#proper-debug-console.pinned .proper-debug-mobile-pin-btn{\t\t\t\ttransform: scaleY(-1);\t\t\t}\t\t\t#proper-debug-console-breadcrumb {\t\t\t\tcursor: default !important;\t\t\t}\t\t\t#proper-debug-console-resizer {\t\t\t\tdisplay:none;\t\t\t}\t\t\t.proper-debug-mobile-pin-btn {\t\t\t\tdisplay:flex !important;\t\t\t}\t\t\tbody.proper-debug-pinned ."+he.slot_wrapper_class+".sticky-btm{\t\t\t\ttransform: translateY(-50px);\t\t\t}\t\t}\t\t"},b=(de="https://ups.analytics.yahoo.com/ups/"+(oe="__PIXEL_ID__")+"/fed",we.prototype.initialize=function(e){ProperMedia.utils.deepAccess(e,"emailHashes.sha256")&&(this.emailHash=e.emailHashes.sha256)},we.prototype.getValue=function(){return this.idObj||void 0},we.prototype.decode=function(e){return"object"==typeof e&&(e.connectid||e.vmuid)?e.connectid||e.vmuid:void 0},we.prototype.getId=function(e){if(this.emailHash&&this.config.pixelId){var t={"1p":"0",he:this.emailHash,pixelId:this.config.pixelId,gdpr:Ie(ie)?"1":"0",gdpr_consent:Ie(ie)?ie.consentString:"",us_privacy:J&&J.usPrivacy?J.usPrivacy:""};t.pixelId=this.config.pixelId;var s=de.replace(oe,this.config.pixelId)+"?"+ProperMedia.utils.formatQueryString(t);return{callback:function(i){S.ajax({url:s,method:"GET",success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e)}catch(e){me.mylog(e)}i(t)}.bind(this),error:function(e){me.mylog("VerizonMediaId - ID fetch encountered an error: "+JSON.stringify(e)),i()}})}}}me.mylog("The verizonMediaId submodule requires userIdData.emailHash.sha256 and pixelId parameters to be defined.")},we);function we(){this.name="verizonMediaId",this.eid_name="connectid",this.source="verizonmedia.com",this.emailHash="",this.atype=3,this.config={enabled:!1,pixelId:58491},this.storage={type:"localstorage",name:"connectid",expiresInDays:15},this.idObj=null,this.callback=null}function Ie(e){return e&&e.gdprApplies}ue.verizonMediaId=new b;xe.prototype.initialize=function(e){e.email?this.email=e.email:this.config.urlParameter&&ProperMedia.utils.deepAccess(ye,"get_vars."+this.config.urlParameter)?this.email=ye.get_vars[this.config.urlParameter]:ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_email")?this.email=ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_email"):ProperMedia.utils.getCookieValue("proper_lre")&&(this.email=ProperMedia.utils.getCookieValue("proper_lre")),this.email&&(this.config.atsEnabled=!0,ProperMedia.utils.isBase64(this.email)&&(this.email=ProperMedia.utils.b64DecodeUnicode(this.email))),this.config.cssSelectors=this.config.cssSelectors?this.config.cssSelectors.split(","):[],(this.config.detectionType||this.config.urlParameter||this.config.detectionSubject||this.config.detectDynamicNodes||this.config.detectionEventType||this.config.rootDomain||this.config.detectionInterval||this.config.urlRegex||this.config.logging||this.config.cssSelectors&&this.config.cssSelectors.length)&&(this.config.atsEnabled=!0),ProperMedia.utils.deepAccess(e,"emailHashes")?(this.config.atsEnabled=!0,this.emailHashes=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(e,"emailHashes"))||[]):ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_emailHashes")&&(this.config.atsEnabled=!0,this.emailHashes=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_emailHashes"))||[]),this.config.atsEnabled&&this.loadAtsScript()},xe.prototype.runATS=function(e){this.config.atsEnabled=!0,e&&(this.email=e),this.atsLoaded?this.atsOnLoad():this.loadAtsScript()},xe.prototype.atsOnLoad=function(){this.atsLoaded=!0;var t={placementID:this.config.placementID};this.email?t.email=this.email.toLowerCase().trim():this.emailHashes&&this.emailHashes.length?t.emailHashes=this.emailHashes:["detectionType","urlParameter","detectionSubject","detectDynamicNodes","detectionEventType","detectionInterval","urlRegex","logging"].forEach(function(e){this.config[e]&&(t[e]=this.config[e])},this),this.config.cssSelectors&&this.config.cssSelectors.length&&(t.cssSelectors=this.config.cssSelectors),this.config.rootDomain&&(t.rootDomain=this.config.rootDomain),me.mylog("identityLink: ATS params: "+JSON.stringify(t)),window.top.ats.start(t),this.getIdCalled&&!this.atsCalled&&this.callAts()},xe.prototype.loadAtsScript=function(){var e=window.top.document.createElement("script");e.onload=this.atsOnLoad.bind(this),e.src="https://ats.rlcdn.com/ats.js",window.top.document.body.appendChild(e)},xe.prototype.decode=function(e){return e||void 0},xe.prototype.getValue=function(){return this.idObj||void 0},xe.prototype.getId=function(){this.getIdCalled=!0;return{callback:function(e){this.atsCallback=e,this.config.atsEnabled?this.callAts():this.getEnvelope()}}},xe.prototype.callAts=function(){window.top.ats&&this.getIdCalled&&!this.atsCalled&&(this.atsCalled=!0,me.mylog("identityLink: ATS exists!"),window.top.ats.retrieveEnvelope(function(e){e?(me.mylog("identityLink: An envelope can be retrieved from ATS!"),je(!0),this.atsCallback(ProperMedia.utils.safeJsonParse(e).envelope||"")):this.getEnvelope()}.bind(this)))},xe.prototype.getEnvelope=function(){var e,t,i;ProperMedia.utils.getCookieValue("_lr_retry_request")?this.atsCallback():(i=(e=ie&&"boolean"==typeof ie.gdprApplies&&ie.gdprApplies?1:0)?ie.consentString:"",t=2===ProperMedia.utils.deepAccess(ie,"vendorData.tcfPolicyVersion"),!e||i&&""!==i?(t="https://api.rlcdn.com/api/identity/envelope?pid="+this.config.placementID+(e?(t?"&ct=4&cv=":"&ct=1&cv=")+i:""),(i=new Date).setTime(i.getTime()+36e5),ProperMedia.utils.setCookie("_lr_retry_request","true",i.toUTCString()),me.mylog("identityLink: A 3P retrieval is attempted!"),je(!1),S.ajax({url:t,method:"GET",requestType:"cors",success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e)}catch(e){me.mylog(e)}this.atsCallback(t&&t.envelope?t.envelope:"")}.bind(this),error:function(e){me.mylog("identityLink: identityLink: ID fetch encountered an error "+JSON.stringify(e)),this.atsCallback()}.bind(this)})):me.mylog("identityLink: Consent string is required to call envelope API."))},b=xe;function xe(){this.name="identityLink",this.eid_name="idl_env",this.envelope="",this.email="",this.emailHashes=[],this.source="liveramp.com",this.atype=3,this.config={enabled:!1,placementID:72,atsEnabled:!1,detectionType:"",urlParameter:"",detectionSubject:"",detectDynamicNodes:"",detectionEventType:"",cssSelectors:"",rootDomain:"",detectionInterval:0,urlRegex:"",logging:""},this.storage={type:"cookie",name:"idl_env",expiresInDays:30},this.idObj=null,this.callback=null,this.atsLoaded=null,this.atsCallback=null,this.getIdCalled=!1,this.atsCalled=!1,this.excludeEid=!0}function je(e){var t=new Date;t.setTime(t.getTime()+2592e6),ProperMedia.utils.setCookie("_lr_env_src_ats",e,t.toUTCString())}ue.identityLink=new b;var Pe,ke,Se,Ce,Oe,Te,b=(Pe="_pubcid",ke="_pubcid_optout",Se="PublisherCommonId",Ce="_exp",Oe="cookie",Te="localstorage",Ae.prototype.decode=function(e){return e||void 0},Ae.prototype.getValue=function(){return ProperMedia.utils.isStr(this.idObj)?this.idObj:ProperMedia.utils.deepAccess(this,"idObj.pubcid")},Ae.prototype.init=function(){ProperMedia.utils.localStorageIsEnabled()?this.storage.type=Te:ProperMedia.utils.cookiesAreEnabled()?this.storage.type=Oe:this.storage.type=null,this.getId()},Ae.prototype.removeStorageItem=function(e){try{ProperMedia.utils.removeDataFromLocalStorage(e+Ce),ProperMedia.utils.removeDataFromLocalStorage(e)}catch(e){me.mylog(JSON.stringify(e))}},Ae.prototype.readValue=function(e,t){var i;return(t=t||this.storage.type)===Oe?i=ProperMedia.utils.getCookieValue(e):t===Te&&(i=function(e){var t=null;try{var i=ProperMedia.utils.getDataFromLocalStorage(e+Ce);!i||0<new Date(i).getTime()-Date.now()?t=ProperMedia.utils.getDataFromLocalStorage(e):removeStorageItem(e)}catch(e){me.mylog(JSON.stringify(e))}return t}(e)),"undefined"===i||"null"===i?null:i},Ae.prototype.writeValue=function(e,t,i){var s,r,a,n,o;e&&t&&(this.storage.type===Oe?(s=e,r=t,a=i,n="Lax",(o=new Date).setTime(o.getTime()+864e5*a),P.setCookie(s,r,o.toGMTString(),n)):this.storage.type===Te&&function(e,t,i){try{var s;void 0!==i&&null!=i&&(s=new Date(Date.now()+864e5*i).toUTCString(),ProperMedia.utils.setDataInLocalStorage(e+Ce,s)),ProperMedia.utils.setDataInLocalStorage(e,t)}catch(e){me.mylog(JSON.stringify(e))}}(e,t,i))},Ae.prototype.getId=function(){var e=null,t=ProperMedia.utils.cookiesAreEnabled()&&this.readValue(ke,Oe)||ProperMedia.utils.hasLocalStorage()&&this.readValue(ke,Te);return!(!this.config.enabled||!this.storage.type||t)&&("object"==typeof window[Se]?(e=window[Se].getId(),me.mylog(Se+": pubcid = "+e)):((e=this.readValue(Pe))||(this.storage.type==Oe?e=this.readValue(Pe,Te):this.storage.type==Te&&(e=this.readValue(Pe,Oe))),e?this.config.extend&&this.writeValue(Pe,e,this.storage.expiresInDays):this.config.create&&(e=(e=this.storage.type===Te?this.readValue(Pe,Oe):e)||ProperMedia.utils.generateUUID(),this.writeValue(Pe,e,this.storage.expiresInDays),e=this.readValue(Pe)),me.mylog("pubCommonId: pubcid = "+e)),this.idObj={pubcid:e},!0)},Ae);function Ae(){this.name="pubcid",this.eid_name="pubcid",this.source="pubcid.org",this.atype=1,this.config={enabled:!1,create:!0,extend:!0},this.storage={type:Te,name:Pe,expiresInDays:365},this.idObj=null,this.callback=null}ue.pubCommonId=new b;Ne.prototype.initialize=function(e){e&&e.emailHashes&&(ProperMedia.utils.deepAccess(e,"emailHashes.sha256")?this.config.e=ProperMedia.utils.deepAccess(e,"emailHashes.sha256"):ProperMedia.utils.deepAccess(e,"emailHashes.sha1")?this.config.e=ProperMedia.utils.deepAccess(e,"emailHashes.sha1"):ProperMedia.utils.deepAccess(e,"emailHashes.md5")&&(this.config.e=ProperMedia.utils.deepAccess(e,"emailHashes.md5"))),e.ipv4&&(this.config.i4=e.ipv4),e.ipv6&&(this.config.i6=e.ipv6)},Ne.prototype.decode=function(e){return e.fabrickId||void 0},Ne.prototype.getValue=function(){return this.idObj||void 0},Ne.prototype.getId=function(e){try{if(!this.config.enabled)return;if("string"!=typeof this.config.apiKey)return void me.mylog("fabrick submodule requires an apiKey.");try{var t,s="https://fid.agkn.com/f?",i=Object.keys(this.config);for(t in i){var r=i[t];if("url"!==r&&"refererInfo"!==r&&"enabled"!==r){var a=this.config[r];if(Array.isArray(a))for(var n in a)s+=r+"="+a[n]+"&";else s+=r+"="+a+"&"}}var s=s.slice(0,-1),o=[];s=Ee(o,s,"r",ye.referer),s=Ee(o,s,"r",ye.canonical_url),s=Ee(o,s,"r",ye.url);return{callback:function(i){S.ajax({url:s,method:"GET",requestType:"cors",success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e)}catch(e){me.mylog(e),t={}}i(t)}.bind(this),error:function(e){me.mylog("fabrickId fetch encountered an error",e),i()}})}}}catch(e){me.mylog("fabrickIdSystem encountered an error",e)}}catch(e){me.mylog("fabrickIdSystem encountered an error",e)}},b=Ne;function Ne(){this.name="fabrickId",this.eid_name="fabrickId",this.source="neustar.biz",this.atype=1,this.config={enabled:!1,apiKey:null},this.storage={type:"cookie",name:"fabrickId",expiresInDays:7},this.idObj=null,this.callback=null}function Ee(e,t,i,s){return s&&t.length<2e3&&(200<s.length&&(s=s.substring(0,200)),-1==e.indexOf(s))?(e.push(s),t+"&"+i+"="+s):t}ue.fabrickId=new b;var ze,De,Le,Re,Be,Ue,b=(ze=86400,De="https://id.sharedid.org/id",Re=(Le="0123456789ABCDEFGHJKMNPQRSTVWXYZ").length,Be=Math.pow(2,48)-1,Ue=function(t){t=t||function(e){e=e||("undefined"!=typeof window?window:null);var t=e&&(e.crypto||e.msCrypto);if(t)return function(){var e=new Uint8Array(1);return t.getRandomValues(e),e[0]/255};return function(){return Math.random()}}();return function(e){return function(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(!1===Number.isInteger(e))throw qe("time must be an integer");if(Be<e)throw qe("cannot encode time greater than "+Be);if(e<0)throw qe("time must be positive");if(!1===Number.isInteger(t))throw qe("length must be an integer");if(t<0)throw qe("length must be positive");for(var i,s="";0<t;t--)i=e%Re,s=Le.charAt(i)+s,e=(e-i)/Re;return s}(e=isNaN(e)?Date.now():e,10)+function(e,t){for(var i="";0<e;e--)i=function(e){e=Math.floor(e()*Re);e===Re&&(e=Re-1);return Le.charAt(e)}(t)+i;return i}(16,t)}}(),Ve.prototype.decode=function(e){return e?function(e){var t={},i=e&&"string"==typeof e.id?e.id:void 0;if("00000000000000000000000000"==i)return;if(i){var s={id:i};return null==(e&&"boolean"==typeof e.ns?e.ns:void 0)&&(s.third=i),t=s,me.mylog("SharedId: Decoded value "+JSON.stringify(t)),t}return i}(e):void 0},Ve.prototype.getValue=function(){return ProperMedia.utils.deepAccess(this,"idObj.id")},Ve.prototype.getUidExt=function(){return ProperMedia.utils.deepAccess(this,"idObj.third")?{third:ProperMedia.utils.deepAccess(this,"idObj.third")}:void 0},Ve.prototype.sharedIdUrl=function(){return ie&&"boolean"==typeof ie.gdprApplies&&ie.gdprApplies?De+"?gdpr=1&gdpr_consent="+ie.consentString:De},Ve.prototype.isIdSynced=function(e){if(e.ns)return!0;"number"!=typeof this.storage.refreshInSeconds&&me.mylog("SharedId: Sync time is not configured or is not a number");var t="number"!=typeof this.storage.refreshInSeconds?ze:this.storage.refreshInSeconds;ze<t&&(t=ze);e=e.ts;return!!e&&t<=function(e,t){t=(e-t)/1e3;return Math.abs(Math.round(t))}((new Date).getTime(),e)},Ve.prototype.getId=function(){return{callback:function(s){me.mylog("SharedId: Sharedid doesnt exists, new cookie creation"),S.ajax({url:this.sharedIdUrl(),method:"GET",requestType:"cors",success:function(e){var t={};if(e)try{var i=ProperMedia.utils.safeJsonParse(e);me.mylog("SharedId: Generated SharedId: "+i.sharedId),t=Fe(i.sharedId,!1)}catch(e){me.mylog(e)}s(t)},error:function(e,t){var i=Fe(Ue(),!0);me.mylog("SharedId: Ulid Generated SharedId: "+i.id),s(i)}})}}},Ve.prototype.extendId=function(s){me.mylog("SharedId: Existing shared id "+s.id);return{callback:function(i){var e;this.isIdSynced(s)&&(me.mylog("SharedId: Existing shared id "+s+" is not synced"),(e={}).sharedId=s.id,e=JSON.stringify(e),S.ajax({url:this.sharedIdUrl(),method:"POST",requestType:"cors",data:e,success:function(e){if(me.mylog("SharedId: id to be synced: "+s.id),e)try{var t=ProperMedia.utils.safeJsonParse(e);s=Fe(t.sharedId,!1),me.mylog("SharedId: Older SharedId: "+s.id)}catch(e){me.mylog(e)}i(s)},error:function(){me.mylog("SharedId: Sync error for id : "+s.id),i(s)}}))}}},Ve);function Ve(){this.name="sharedId",this.eid_name="sharedid",this.source="sharedid.org",this.config={enabled:!1},this.storage={type:"cookie",name:"sharedid",expiresInDays:30,refreshInSeconds:ze},this.idObj=null,this.callback=null}function Fe(e,t){var i={};return i.id=e,i.ts=(new Date).getTime(),t&&(i.ns=!0),me.mylog("SharedId: cookie Value: "+JSON.stringify(i)),i}function qe(e){me.mylog(e);e=new Error(e);return e.source="sharedId",e}ue.sharedId=new b;Ze.prototype.initialize=function(e){this.enabled=ProperMedia.utils.deepAccess(he,"bidders.header.conversant.enabled")||!1,this.enabled&&(this.config.siteId=ProperMedia.utils.deepAccess(he,"bidders.header.conversant.site_id")||0,e.email&&(this.email=e.email),this.email&&ProperMedia.utils.isBase64(this.email)&&(this.email=ProperMedia.utils.b64DecodeUnicode(this.email)),ProperMedia.utils.deepAccess(e,"emailHashes")&&(this.emailHashes=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(e,"emailHashes"))||[]),this.loadScript())},Ze.prototype.loadScript=function(){var e=window.top.document.createElement("script");e.onload=function(){this.callAPI()}.bind(this),window.top.cnvr_launcher_options={lid:616},e.src="https://secure.cdn.fastclick.net/js/cnvr-launcher/latest/launcher-stub.min.js",window.top.document.body.appendChild(e)},Ze.prototype.decode=function(e){return e||void 0},Ze.prototype.getValue=function(){return this.idObj||void 0},Ze.prototype.getId=function(){this.getIdCalled=!0;return{callback:function(e){this.apiCallback=e,this.callAPI()}}},Ze.prototype.callAPI=function(){var e;this.enabled||this.apiCallback(),ProperMedia.utils.deepAccess(window,"top.conversant.launch")&&this.getIdCalled&&!this.apiCalled&&(e={siteId:this.config.siteId},this.email?e.email=this.email.toLowerCase().trim():this.emailHashes&&this.emailHashes.length&&(e.emailHashes=this.emailHashes),this.apiCalled=!0,this.config.siteId&&(this.email||this.emailHashes.length)?(window.top.conversant.launch("publink","start",e),this.apiCallback(ProperMedia.utils.makeid(25))):this.apiCallback())},b=Ze;function Ze(){this.name="pubLink",this.eid_name="publink",this.email="",this.emailHashes=[],this.source="publink.com",this.atype=1,this.config={enabled:!1,siteId:null},this.storage={type:"cookie",name:"publink",expiresInDays:30},this.idObj=null,this.callback=null,this.apiCallback=null,this.getIdCalled=!1,this.apiCalled=!1}ue.pubLink=new b;var Je,We,Xe,He,Ye,Ge,Qe,$e,Ke,et,tt,it,st,rt,at,nt,ot,dt,pt,lt,ct,ut,mt,ht,gt,_t,bt,ft,yt,vt,Mt,wt,It,xt,jt,Pt,kt,St,Ct,Ot,Tt,At,Nt,Et,zt,Dt,Lt,Rt,Bt,Ut,Vt,Ft,qt,Zt,Jt,Wt,Xt,Ht,Yt,Gt,Qt,$t,Kt,ei,ti,ii,si,ri,ai,ni,oi,di,pi,li,ci,ui,mi,hi,gi,_i,bi,fi,yi,vi,Mi,wi,Ii,xi,ji,Pi,ki,Si,Ci,Oi,Ti,Ai,Ni,b=(Je=30,Xe=(We="id5id")+"_privacy",Ei.prototype.initialize=function(e){ProperMedia.utils.deepAccess(e,"emailHashes.sha256")&&(this.email=e.emailHashes.sha256)},Ei.prototype.generatePD=function(){return this.email?ProperMedia.utils.b64EncodeUnicode(this.email+(be.pubcid?"&5="+be.pubcid:"")):""},Ei.prototype.getValue=function(){return ProperMedia.utils.deepAccess(this,"idObj.uid")},Ei.prototype.getUidExt=function(){if(ProperMedia.utils.deepAccess(this,"idObj.ext"))return ProperMedia.utils.deepAccess(this,"idObj.ext")},Ei.prototype.decode=function(e){var t,i=0,i=e&&"string"==typeof e.universal_uid?(t=e.universal_uid,e.link_type||i):void 0;return{uid:t,ext:{linkType:i}}},Ei.prototype.getId=function(e){var t="https://id5-sync.com/g/v2/"+this.config.partnerId+".json",i=ie&&"boolean"==typeof ie.gdprApplies&&ie.gdprApplies?1:0,s=J.cmpPresent&&J.usPrivacy?J.usPrivacy:"",e=e&&e.signature?e.signature:"",r={gdpr:i,gdpr_consent:i?ie.consentString:"",partner:this.config.partnerId,nbPage:Ri(this.config.partnerId),o:"pbjs",pd:this.generatePD(),provider:"",rf:ye.referrer,s:e,top:1,u:ye.url,us_privacy:s,v:he.prebid_version};return{callback:function(i){S.ajax({url:t,method:"POST",requestType:"cors",data:JSON.stringify(r),success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e),Di(this.config.partnerId,0),t.privacy&&Bi(Xe,JSON.stringify(t.privacy),Je)}catch(e){me.mylog(e)}i(t)}.bind(this),error:function(e){me.mylog("UserID - ID5 submodule getId fetch encountered an error: "+JSON.stringify(e)),i()}})}}},Ei.prototype.extendId=function(e){return Ri(this.config.partnerId||0),e},Ei);function Ei(){this.name="id5Id",this.eid_name="id5id",this.source="id5-sync.com",this.email="",this.atype=1,this.config={enabled:!1,partnerId:445},this.storage={type:"localstorage",name:We,expiresInDays:90,refreshInSeconds:28800},this.idObj=null,this.callback=null}function zi(e){return We+"_"+e+"_nb"}function Di(e,t){Bi(zi(e),t,Je)}function Li(e){e=function(e){var t=ProperMedia.utils.getDataFromLocalStorage(e+"_exp");{if(""===t)return ProperMedia.utils.getDataFromLocalStorage(e);if(t&&0<new Date(t).getTime()-Date.now())return ProperMedia.utils.getDataFromLocalStorage(e)}return ProperMedia.utils.removeDataFromLocalStorage(e),null}(zi(e));return e?parseInt(e):0}function Ri(e){var t=Li(e)+1;return Di(e,t),t}function Bi(e,t,i){ProperMedia.utils.setDataInLocalStorage(e+"_exp",(i=i,new Date(Date.now()+864e5*i).toUTCString())),ProperMedia.utils.setDataInLocalStorage(e,t)}function Ui(s,r){var a={slots:{},tag_sizes:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===a.slots[i]&&(a.slots[i]={slotID:i},a.tag_sizes[i]=[],"video"==r.demand_type?a.slots[i].mediaType="video":a.slots[i].sizes=[]),"display"==r.demand_type&&a.slots[i].sizes.push(e.split("x").map(function(e){return parseInt(e)})),a.tag_sizes[i].push(e),a.request_cnt++}}),a}function Vi(){var e={},t=ProperMedia.utils.deepAccess(properSpecialOps,"userIdData");return ProperMedia.utils.deepAccess(t,"emailHashes.sha256")&&(e={hashedRecords:[{type:"email",record:ProperMedia.utils.deepAccess(t,"emailHashes.sha256")}]}),ie.cmpPresent&&ie.gdprApplies&&(e.gdpr={enabled:!!ie.gdprApplies,consent:ie.consentString}),void 0!==ProperMedia.utils.getCookieValue(Ge)&&(e.optOut=!!ProperMedia.utils.getCookieValue(Ge)),e}function Fi(n,o,d){var p={bids:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,s,r=n[e][t];void 0===p.bids[r]&&(i=ProperMedia.utils.makeid(10),s=e.split("x"),a=r.split("-")[0],p.bids[r]={TransactionID:i,PlacementID:a,Width:parseInt(s[0]),Height:parseInt(s[1]),AvailableSizes:"",Pricing:0},"video"==d.demand_type&&(p.bids[r].Video={context:d.video_type,playerSize:[]}));var a=Es(o,e);(!p.bids[r].Pricing||a<p.bids[r].Pricing)&&(p.bids[r].Pricing=a),"video"==d.demand_type&&p.bids[r].Video.playerSize.push([parseInt(s[0]),parseInt(s[1])]),p.bids[r].AvailableSizes+=(p.bids[r].AvailableSizes.length?",":"")+e,p.request_cnt++}}),p}function qi(e){e=e.split("x");return{width:parseInt(e[0]),height:parseInt(e[1])}}function Zi(o,d,p){var l={astTags:{},request_cnt:0};return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(i=0;i<o[e].length;i++){var t,s,r,a=o[e][i];void 0===l.astTags[a]&&(t=qi(e),s=function(){var i=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)});return e=e.split("-")[4]}(),r=ProperMedia.utils.deepAccess(he,"bidders.header."+d+".site_id")||a,l.astTags[a]={sizes:[],primary_size:t,uuid:s,id:parseInt(r),prebid:!0,ad_types:[],reserve:0,hb_source:1,disable_psa:!0,allow_smaller_sizes:!1,use_pmt_rule:!1}),"display"==p.demand_type?l.astTags[a].ad_types.push("banner"):"native"==p.demand_type?(-1==l.astTags[a].ad_types.indexOf("native")&&l.astTags[a].ad_types.push("native"),(n=ProperMedia.utils.deepAccess(l,"astTags."+a+".native.layouts.0")||ot).main_image.sizes.push(qi(e)),l.astTags[a].native={layouts:[n]}):"video"==p.demand_type&&(l.astTags[a].ad_types.push("video"),"instream"==p.video_type?l.astTags[a].require_asset_url=!0:"outstream"==p.video_type&&(l.astTags[a].require_asset_url=!1),l.astTags[a].allow_smaller_sizes=!0,l.astTags[a].video_frameworks=[2],l.astTags[a].video={minduration:1,playback_method:2,mimes:["video/mp4","application/javascript"],custom_renderer_present:!0});var n=Es(d,e);(!l.astTags[a].reserve||n<l.astTags[a].reserve)&&(l.astTags[a].reserve=n),l.astTags[a].sizes.push(qi(e)),l.request_cnt++}}),l}function Ji(s){var r={bids:{},request_cnt:0},a=ProperMedia.utils.deepAccess(he,"bidders.header."+lt+".site_id")||0;return a?0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t,i=0;i<s[e].length;i++)"native_horizontal"==e&&(t=s[e][i],void 0===r.bids[t]&&(r.bids[t]={name:t,bidId:t,transactionId:ProperMedia.utils.generateUUID(),sizes:ct,partnerId:a,slotType:""},r.request_cnt+=4))}):me.mylog("Error: Concert Site ID is Required."),r}function Wi(){return"true"===ProperMedia.utils.getDataFromLocalStorage("c_nap")}function Xi(n){var o={imps:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i=n[e][t],s=i.split("|"),r=s[0]||"",a=s[1]||"",s=(s[2]||"").split(",");void 0===o.imps[i]&&(o.imps[i]={networkId:mt,siteId:ht,divName:i,unitName:r,unitId:a,zoneIds:[],adTypes:[]}),s instanceof Array?o.imps[i].zoneIds.concat(s.map(function(e){return parseInt(e)})):o.imps[i].zoneIds.push(parseInt(s));s=(s=e.split("x"),0<=(s=ft.indexOf(s[0]+"x"+s[1]))&&s);s&&(o.imps[i].adTypes.push(s),o.request_cnt++)}}),o}function Hi(r){var a={imps:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===a.imps[i]&&(a.imps[i]={id:i.toString(),bidfloor:0,secure:ye.use_ssl?1:0,displaymanager:"propermedia",displaymanagerver:"2.2.4",banner:{format:[],pos:0}});var s=Es(Mt,e);(!a.imps[i].bidfloor||s<a.imps[i].bidfloor)&&(a.imps[i].bidfloor=s),a.imps[i].banner.format.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),a.request_cnt++}}),a}function Yi(a,n,o){var d={imps:{},request_cnt:0};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i,s=a[e][t];void 0===d.imps[s]&&(i=ProperMedia.utils.deepAccess(he,"bidders.header."+n+".site_id")||s,r=e.split("x"),d.imps[s]={id:s.toString(),tid:ProperMedia.utils.generateUUID(),tagid:i.toString(),secure:ye.use_ssl?1:0,bidfloor:0,bidfloorcur:"USD",banner:{w:r[0],h:r[1],format:[]}},"display"==o.demand_type?d.imps[s].banner={w:parseInt(r[0])||0,h:parseInt(r[1])||0,format:[]}:"video"==o.demand_type&&(d.imps[s].video={topframe:1,skippable:1,linearity:"outstream"==o.video_type?2:1,minduration:10,maxduration:30,playback_methods:["auto_play_sound_off"],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(r[0])||0,h:parseInt(r[1])||0}));var r=Es(n,e);(!d.imps[s].bidfloor||r<d.imps[s].bidfloor)&&(d.imps[s].bidfloor=r),"display"==o.demand_type&&d.imps[s].banner.format.push((s=(s=e).split("x"),{w:parseInt(s[0]),h:parseInt(s[1])})),d.request_cnt++}}),d}function Gi(n){var o={data:[],index_bids:{}},d=ProperMedia.utils.deepAccess(he,"bidders.header."+It+".site_id")||0;return d?0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,s,r,a=n[e][t];void 0===o[a]&&(i=a+"-"+ProperMedia.utils.makeid(5),s=e.split("x"),r=Es(It,e),o.data.push({id:i,width:parseInt(s[0]),height:parseInt(s[1]),siteID:parseInt(d),bidfloorcur:"USD",bidfloor:r}),o.index_bids[i]={width:parseInt(s[0]),height:parseInt(s[1]),tag_id:a,floor:r})}}):me.mylog("Error: Index Excnahge Site ID is Required."),o}function Qi(n,o,d){var p={imps:[],index_bids:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,s,r,a=n[e][t];void 0===p.imps[a]&&(i=a+"-"+ProperMedia.utils.makeid(5),s=e.split("x"),r={id:String(i),bidfloor:Es(o,e),bidfloorcur:"USD",ext:{sid:i,siteID:String(Pt)}},"display"==d.demand_type?r.banner={topframe:1,w:parseInt(s[0])||0,h:parseInt(s[1])||0}:"video"==d.demand_type&&(r.video={placement:1,topframe:1,skip:1,linearity:1,minduration:10,maxduration:30,playbackmethod:[2],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(s[0])||0,h:parseInt(s[1])||0}),"outstream"==d.video_type&&(r.video.placement=4),p.imps.push(r),p.index_bids[i]={width:parseInt(s[0]),height:parseInt(s[1]),tag_id:a}),p.request_cnt++}}),p}function $i(r){var a={imps:{},JPbids:{},request_cnt:0},n=_e.isMobile()?"mobile":"desktop";return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===a.imps[i]&&(a.imps[i]={tag_id:parseInt(i),sizes:[],slot_types:[[],{}]}),a.JPbids[i]=e;var s=(ProperMedia.utils.deepAccess(kt,"native_sizes."+n+"."+e)||e).split("x").map(function(e){return parseInt(e)});if("728"==s[0]&&"90"==s[1])a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["cf","pu","as"]),a.imps[i].sizes.push([s[0],s[1]]),a.request_cnt++;else if("160"==s[0]&&"600"==s[1])a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["sa"]),a.imps[i].sizes.push([s[0],s[1]]),a.request_cnt++;else{if("320"!=s[0]||"50"!=s[1])return a;a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["ms"]),a.imps[i].sizes.push([s[0],s[1]]),a.request_cnt++}}}),a}function Ki(i){var s={bidIDs:{},bidSizes:{},prebidRawBidRequests:[],request_cnt:0,tag_sizes:{},floor:0};return Object.keys(i).forEach(function(e){var t=Es(Ot,e);(!s.floor||t<s.floor)&&(s.floor=t);t=e,t=(t=ProperMedia.utils.deepAccess(Ct,"native_sizes."+t)||t).split("x"),t=[parseInt(t[0]),parseInt(t[1])];s.bidIDs[i[e]]=i[e][0],s.bidSizes[i[e]]=[t],s.prebidRawBidRequests.push({bidId:i[e],userId:{}}),s.request_cnt++,ProperMedia.utils.deepAccess(Ct,"native_sizes."+e)&&(s.tag_sizes[i[e]]=e)}),s}function es(){var e=function(){try{return JSON.parse(atob(ts("krg_crb")))}catch(e){return{}}}();return Object.keys(e).length?e:function(){try{var e=JSON.parse(decodeURIComponent(ProperMedia.utils.getCookieValue("krg_crb")));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}}()}function ts(e){try{return ProperMedia.utils.getDataFromLocalStorage(e)}catch(e){return null}}function is(s){var r={bidRequests:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===r.bidRequests[i]&&(r[i],r.bidRequests[i]={requestId:i,adUnitCode:i,adUnitId:i,sizes:[]}),r.bidRequests[i].sizes.push(e),r.request_cnt++}}),r}function ss(s){var r={bids:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===r.bids[i]&&(r.bids[i]={bidId:i,sizes:[]}),r.bids[i].sizes.push((i=(i=e).split("x"),{width:parseInt(i[0]),height:parseInt(i[1])})),r.request_cnt++}}),r}function rs(e,t,i){var s={referrer:j.referrer,tz:(new Date).getTimezoneOffset(),buster:(new Date).getTime(),secure:"https:"===j.location.protocol,version:9};if(as()&&!os()||(s.mobile=!os()&&function(e){var t=!e&&("ontouchstart"in window||navigator.msMaxTouchPoints);if(as())return!t;e=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth;return!t&&(!e||e>=(window.mantis_breakpoint||768))}(!0)?"false":"true"),window.mantis_uuid?s.uuid=window.mantis_uuid:!window.localStorage||(r=window.localStorage.getItem("mantis:uuid"))&&(s.uuid=r),as())s.iframe=!0;else try{s.title=window.top.document.title,s.referrer=window.top.document.referrer,s.url=window.top.document.location.href}catch(e){}os()&&(s.amp=!0,!s.url&&window.context.canonicalUrl&&(s.url=window.context.canonicalUrl),!s.url&&window.context.location&&(s.url=window.context.location.href),!s.referrer&&window.context.referrer&&(s.referrer=window.context.referrer)),Object.keys(t||{}).forEach(function(e){s[e]=t[e]});var r=function e(t,i,s){if(!t)return null;var r=s||[];for(var a in t){var n=a;i&&(n=i+"["+a+"]");var o=t[a];if(ds(o))for(var d=0;d<o.length;d++){var p=n+"["+d+"]",l=o[d];ps(l)?e(l,p,r):ns(l)&&r.push(p+"="+encodeURIComponent(l))}else ps(o)?e(o,n,r):ns(o)&&r.push(n+"="+encodeURIComponent(o))}return r.join("&")}(s);return(void 0===window.mantis_domain?i||Vt:window.mantis_domain)+e+"?"+r}function as(){try{return window.self!==window.top&&!window.mantis_link}catch(e){return 1}}function ns(e){return null!=e&&("string"==typeof e?e&&!/^\s*$/.test(e):"number"!=typeof e||!isNaN(e))}function os(){return"object"==typeof window.context&&("AMP-AD"===window.context.tagName||"AMP-EMBED"===window.context.tagName)}function ds(e){return"[object Array]"===Object.prototype.toString.call(e)}function ps(e){return"[object Object]"===Object.prototype.toString.call(e)}function ls(i,a,n,o){function d(){u&&m&&m(),u=!1}function s(e,t,i){var s=void 0!==j.hidden&&j.hidden;if(0==i.width||0==i.height||s)return d(),0;var r=i.height*o,s=i.width*o;return(i.top<0&&i.bottom>=r||0<i.top&&t-i.top>=r)&&(i.left<0&&i.right>=s||0<i.left&&e-i.left>=s)?!c&&n?(c=Date.now(),d()):n&&Date.now()-c<n?d():void(u||a(function(e){e?u=!0:(p&&clearInterval(p),l&&l())},function(e){m=e})):d()}var p,l,c=null,u=!1,m=null;os()&&(l=window.context.observeIntersection(function(e){e.forEach(function(e){s(e.rootBounds.width,e.rootBounds.height,e.boundingClientRect)})})),p=setInterval(function(){var e=window.innerHeight||j.documentElement.clientHeight,t=window.innerWidth||j.documentElement.clientWidth;s(t,e,i.getBoundingClientRect())},100)}function cs(e,t){var i=j.createElement("img");i.src=e,i.style.cssText="display:none !important;",(t||j.body).appendChild(i)}function us(r){var a={imps:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===a.imps[i]&&(a.imps[i]={id:i.toString(),tagid:_e.isMobile()?"506882127":"515514711",bidfloor:0,banner:[],ext:{visibility:0}});var s=Es(qt,e);(!a.imps[i].bidfloor||s<a.imps[i].bidfloor)&&(a.imps[i].bidfloor=s),a.imps[i].banner.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),a.request_cnt++}}),a}function ms(e,t){e=function(e,t){try{var i=window.top.document.querySelector(e);if(null!==i&&i[t])return i[t]}catch(e){}}(e,t);return e&&(t=e,(e=window.top.document.createElement("a")).href=t,e.href)}function hs(r){var a={data:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===a.data[i]&&(s="openx-"+ProperMedia.utils.generateUUID(),a.data[i]={price_floor:0,slot_div:s,tag_id:i,sizes:[]});var s=Es(Wt,e);(!a.data[i].price_floor||s<a.data[i].price_floor)&&(a.data[i].price_floor=s),a.data[i].sizes.push(e),a.request_cnt++}}),a}function gs(n){var o={imps:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,s,r=n[e][t];1==r&&(r=ProperMedia.utils.makeid(10)),void 0===o.imps[r]?(i=r.split("-")[0],s=e.split("x"),o.imps[r]={id:r.toString(),tagid:i.toString(),bidfloor:0,bidfloorcur:"USD",secure:1,banner:{w:parseInt(s[0]),h:parseInt(s[1]),pos:0,format:[],topframe:1},ext:{}}):o.imps[r].banner.format.push((a=(a=e).split("x"),{w:parseInt(a[0]),h:parseInt(a[1])}));var a=Es(Gt,e);(!o.imps[r].bidfloor||a<o.imps[r].bidfloor)&&(o.imps[r].bidfloor=a),o.request_cnt++}}),o}function _s(r,a,n){var o={imps:[]};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=e.split("x"),s={id:ProperMedia.utils.makeid(10),bidfloor:Es(a,e),secure:ye.use_ssl?1:0,ext:{bidder:{placementId:ei,zone:"1r",path:"mvo"}}};"display"==n.demand_type?s.banner={format:[{w:i[0],h:i[1]}]}:"video"==n.demand_type&&(s.video={mimes:si,protocols:ii,w:parseInt(i[0]),h:parseInt(i[1]),startdelay:0,skip:0,playbackmethod:ri,delivery:ai,api:ni}),o.imps.push(s)}}),o}function bs(r,a){var n={imps:{},request_cnt:0},o={},d=ProperMedia.utils.deepAccess(he,"bidders.header."+a+".site_id")||0;return d?0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i,s=r[e][t];void 0===n.imps[s]&&(i=s.split("-")[0],o[s]=[],n.imps[s]={account_id:parseInt(oi),site_id:parseInt(d),zone_id:parseInt(i),size_id:void 0,alt_size_ids:"",rp_floor:Es(a,e),rp_secure:1==ye.use_ssl?"1":"0",tk_flint:"pbjs_lite_v3.2.0","x_source.tid":ProperMedia.utils.generateUUID(),p_screen_res:ye.width+"x"+ye.height,kw:"",tk_user_key:"","p_geo.latitude":void 0,"p_geo.longitude":void 0,"tg_fl.eid":s,rf:ye.bidder_page_url},he.schain&&he.schain.nodes&&he.schain.nodes[0]&&he.schain.nodes[0].sid&&(n.imps[s]["x_source.pchain"]="proper.io:"+he.schain.nodes[0].sid)),void 0!==di[e]&&(i=Es(a,e),(!n.imps[s].rp_floor||i<n.imps[s].rp_floor)&&(n.imps[s].rp_floor=i),o[s].push(di[e]),o[s]=function(e){var r=[15,2,9];return e.sort(function(e,t){var i=r.indexOf(e),s=r.indexOf(t);return-1<i||-1<s?-1===i?1:-1===s?-1:i-s:e-t})}(o[s]),n.imps[s].size_id=o[s][0],n.imps[s].alt_size_ids=o[s].slice(1).join(","),n.request_cnt++)}}):me.mylog("Error: Rubicon Site ID is Required."),n}function fs(s){var r={};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===r[i]&&(r[i]={tag_id:i,pkey:i,size:e})}}),r}function ys(r,a,n){var o={};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===o[i]&&(!((s=i.split("-")).length<2)&&s[0]&&s[1]||me.mylog("Error: Smart Ad Server missing id for tag_id. Tag ID needs to be in format: {pageid}-{formatid}"),o[i]={pageid:s[0],formatid:s[1],sizes:[],bidfloor:0,tagId:ProperMedia.utils.generateUUID(),transactionId:ProperMedia.utils.generateUUID(),bidId:ProperMedia.utils.generateUUID()});var s=Es(a,e);(!o[i].bidfloor||s<o[i].bidfloor)&&(o[i].bidfloor=s),"video"==n.demand_type?(s=e.split("x"),o[i].isVideo="outstream"!=n.video_type,o[i].videoData={videoProtocol:6,playerWidth:s[0],playerHeight:s[1],adBreak:1}):o[i].sizes.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])}))}}),o}function vs(r,a){var n={imps:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===n.imps[i]&&(s=ProperMedia.utils.deepAccess(he,"bidders.header."+a+".site_id")||i,n.imps[i]={bidId:s,floor:0,sizes:[]});var s=Es(a,e);(!n.imps[i].floor||s<n.imps[i].floor)&&(n.imps[i].floor=s),n.imps[i].sizes.push(e),n.request_cnt++}}),n}function Ms(r){var a={imps:[]};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=e.split("x"),i=0;i<r[e].length;i++){var s=r[e][i];a.imps.push({id:s+"|"+e,banner:{format:[{w:parseInt(t[0]),h:parseInt(t[1])}],w:1,h:1},tagid:s,bidfloor:Es(mi,e)})}}),a}function ws(a){var n={data:{},sizes:{},request_cnt:0},o=ProperMedia.utils.deepAccess(he,"bidders.header."+bi+".site_id")||0;return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i=a[e][t],s=i.split("-"),s=o?s[0]:(o=s[0],s[1]);if(!o)return me.mylog("Error: Teads Page ID is Required."),n;if(!s)return me.mylog("Error: Teads Placement ID is Required."),n;void 0===n.data[i]&&(r="teads-"+ProperMedia.utils.generateUUID(),n.data[i]={bidId:i,placementId:parseInt(s),pageId:parseInt(o),adUnitCode:r,bidderRequestId:ProperMedia.utils.generateUUID(),transactionId:ProperMedia.utils.generateUUID(),auctionId:ProperMedia.utils.generateUUID(),sizes:[]},n.sizes[i]=[]);var r=gi.native_sizes[e]||e;n.data[i].sizes.push(r),n.sizes[i].push(e),n.request_cnt++}}),n}function Is(e,t,i){var s=fi.GDPR_APPLIES_PUBLISHER;return e?(i=i,((t=t)&&1===i?t.hasGlobalScope||t.hasGlobalConsent:t&&2===i&&!t.isServiceSpecific)&&(s=fi.GDPR_APPLIES_GLOBAL)):s=fi.GDPR_DOESNT_APPLY,s}function xs(n,o,d){var p={imps:{},tag_sizes:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i=n[e][t],s=i.split("-"),r=(r=(r=ProperMedia.utils.deepAccess(d,"native_sizes."+e)||e).split("x"),{w:parseInt(r[0]),h:parseInt(r[1])});placementId=s[0],void 0===p.imps[i]&&(a={id:i,tagid:placementId,floor:Es(o,e)},"display"==d.demand_type?a.banner={format:[r]}:"video"==d.demand_type&&(a.video={mimes:["video/mp4","application/javascript"],w:r.w,h:r.h,context:d.video_type},"instream"==d.video_type&&(a.video.placement=1)),p.imps[i]=a,p.tag_sizes[i]=[]);var a=Es(o,e);(!p.imps[i].floor||a<p.imps[i].floor)&&(p.imps[i].floor=a),p.tag_sizes[i].push(e),p.request_cnt++}}),p}function js(a,n){var o={imps:{},tag_sizes:{},tag_ids:{},request_cnt:0},d=_e.isMobile()?"mobile":"desktop";return Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i,s,r=a[e][t];void 0===o.imps[r]&&(s={bidRequestId:i=ProperMedia.utils.generateUUID(),hbadaptor:"prebid",url:ye.bidder_page_url,domain:ye.domain,placementId:void 0!==r?r.toString():null,publisherId:parseInt(Mi),sizes:ProperMedia.utils.deepAccess(n,"native_sizes."+d+"."+e)||[e.split("x").map(function(e){return parseInt(e)})],params:{placementId:r.toString(),publisherId:parseInt(Mi)}},"video"==n.demand_type&&(s.video={streamType:n.video_type,playbackmethod:[2],maxDuration:30,skippable:!0},s.mediaType="video"),0<s.sizes.length&&(o.request_cnt++,o.imps[r]=s,ProperMedia.utils.deepAccess(n,"native_sizes."+d+"."+e)&&(o.tag_sizes[i]=e)),o.tag_ids[i]=r)}}),o}function Ps(e){return e?"gdpr="+(ie.gdprApplies?"1":"0")+"&gdprstr="+(ie.consentString||""):null}function ks(e){return e.split("x").map(function(e){return parseInt(e)})}function Ss(s,r,a){var n={imps:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===n.imps[i]&&(n.imps[i]={bidder:r,params:{siteId:Ii,targetingUUID:be.pubcid},mediaTypes:{},adUnitCode:ProperMedia.utils.generateUUID(),transactionId:ProperMedia.utils.generateUUID(),sizes:[],bidId:i,bidderRequestId:ProperMedia.utils.generateUUID(),auctionId:ProperMedia.utils.generateUUID(),src:"client",bidRequestsCount:1,bidderRequestsCount:1,bidderWinsCount:0,invalidBidsCount:0,userIdAsEids:P.getEidsArray(),userId:P.getUIdsObj()}),"display"==a.demand_type?(ProperMedia.utils.deepAccess(n,"imps."+i+".mediaTypes.banner")||(n.imps[i].banner={sizes:[]}),n.imps[i].banner.sizes.parseSize(e),n.imps[i].sizes.push(ks(e))):"video"==a.demand_type&&(ProperMedia.utils.deepAccess(n,"imps."+i+".mediaTypes.video")||(n.imps[i].mediaTypes.video={context:a.video_type,playerSize:[]}),n.imps[i].mediaTypes.video.playerSize.push(ks(e))),n.request_cnt++}}),n}function Cs(r,a,n){var o={imps:[]},d=1;return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];1==he.testing_mode.ids&&(i=_e.isMobile()?"2124083":"2124082");var s=e.split("x");o.imps.push({id:d.toString(),tagid:i,secure:ye.use_ssl?1:0,ext:{},bidfloor:Es(a,e),bidfloorcur:"USD",video:{mimes:["video/mp4","application/javascript"],minduration:1,maxduration:15,startdelay:0,playbackmethod:[2],api:[2],protocols:[2,3,5,6],w:parseInt(s[0]),h:parseInt(s[1]),linearity:1,placement:"outstream"==n.video_type?3:1,ext:{video_skippable:1}}}),d++}}),o}function Os(e,t){try{var i=[];"click"===e?i=ProperMedia.utils.deepAccess(t,"native.clickTrackers"):(i=ProperMedia.utils.deepAccess(t,"native.imptrackers"),ProperMedia.utils.deepAccess(t,"native.jstracker")&&(ProperMedia.utils.isArray(t.native.jstracker)?(t.native.jstracker||[]).forEach(Propermedia.utils.insertHtmlIntoIframe):ProperMedia.utils.isStr(t.native.jstracker)&&Propermedia.utils.insertHtmlIntoIframe(t.native.jstracker)),ProperMedia.utils.deepAccess(t,"native.eventtrackers")&&(t.native.eventtrackers||[]).forEach(function(e){var t;1==e.event?i.push(e.url):2==e.event&&((t=j.createElement("script")).src=e.url,t.async=!0,t.type="text/javascript",(e=j.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e))})),(i||[]).forEach(Propermedia.utils.triggerPixel)}catch(e){me.mylog("Error firing NativeTrackers: "+JSON.stringify(e))}}function Ts(){void 0!==ye.get_vars.proper_debug_console||window.location.hash.includes("proper_debug_console")?Me.createDebugConsole():void 0===ye.get_vars.proper_debug_console&&!window.location.hash.includes("proper_overlay")||Me.createDebugOverlays()}function As(){return(void 0!==properSpecialOps.kill_all_ads&&"yes"==properSpecialOps.kill_all_ads||ye.dont_send_bids)&&(me.mylog("Kill All Ads enabled! Good bye!"),1)}function Ns(e){var t=e;return t=he.bidder_info[e]&&he.bidder_info[e].adapter_name?he.bidder_info[e].adapter_name:t}function Es(e,t,i){try{if(he.testing_mode.enabled)return.01;var s=i?"s2s":"header",r=_e.isMobile()?"mobile":"desktop",a=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(he,"bidders."+s+"."+e+".floors."+r)||{}),n=ProperMedia.utils.deepCopy(he.floors[r]||{}),o=a.backup||n.backup||0,d=[];if(ProperMedia.utils.isStr(t)?d=t.split(","):ProperMedia.utils.isArray(t)&&(d=t),0<d.length){for(var p=new Array,l=0;l<d.length;l++){var c,u=properSpecialOps.dynamicFloors&&ProperMedia.utils.deepAccess(ge,"sessionData.bid_avg."+d[l])||0;a.sizes&&a.sizes[d[l]]?(c=Math.max(a.sizes[d[l]],u),p.push(c)):n.sizes&&n.sizes[d[l]]?(c=Math.max(n.sizes[d[l]],u),p.push(c)):u&&p.push(u)}0<p.length&&(o=Math.min.apply(null,p))}ProperMedia.utils.deepAccess(he,"bidder_info."+e+".rev_share")&&(o=parseFloat((o/ProperMedia.utils.deepAccess(he,"bidder_info."+e+".rev_share")).toFixed(2)))}catch(e){console.error(e),o=a.backup||n.backup||0,m(y.computeStackTrace(e))}return parseFloat(o)}function zs(e){e=parseFloat(e);var t=_e.isMobile()?"mobile":"desktop",t=ProperMedia.utils.deepCopy(he.floors[t]||{});return e=e&&""!=e?e<=.1?.1:e<=.25?.25:e<=.4?.4:e<=2?(Math.ceil(4*e)/4).toFixed(2):e<=5?(Math.ceil(2*e)/2).toFixed(2):5:t.backup,ProperMedia.utils.round(e,2)}function Ds(e){if(e.getElement()){var t=1;if(e.hasWinningBid())t=0;else if(1==he.testing_mode.enabled){if(void 0===e.default_size||"0x0"==e.default_size)return;var t=0,i=new z({bidder:"unfilled",size:e.default_size.join("x"),adcode:'<div style="text-align:center;width:'+e.default_size[0]+"px;height:"+e.default_size[1]+'px;background:#ccc;color:#000;padding-top:10px;">-- no ad found --</div>'});e.winning_ad=i}return 0==t?Ls(e.getElement(),e.number,1):Us(e),1}}function Ls(e,t,i,s){var r=ye.getSlotByNumber(t,["display"]);if(!r)return me.mylog("Couldn't find slot with number: "+t),!1;i=i||0;var a,n,o,d,p=[0,0];r.hasWinningBid()||he.testing_mode.enabled&&r.winning_ad instanceof z?(r.getWinningBid(["display","native"]),r.winning_ad.displayed=1,p=r.winning_ad.size.split("x"),"1x1"!=r.winning_ad.size&&!he.native_sizes[r.winning_ad.size]||(p=["100%","auto"]),t=Ns(r.winning_ad.bidder),ProperMedia.utils.deepAccess(ce,t+".bidderInfo.div_insertion")&&(r.winning_ad.adcode=r.winning_ad.adcode.replace(/{PROPER_SLOT_DIV_ID}/g,r.div_id)),"native"==r.winning_ad.type&&(ProperMedia.utils.deepAccess(ce,t+".buildNativeAdCode")?ce[t].buildNativeAdCode(r):function(t){var e=ProperMedia.utils.deepAccess(t,"winning_ad.native.link.url")||"",i=ProperMedia.utils.deepAccess(t,"winning_ad.native.assets")||[];image={},title="",i.length&&i.foreach(function(e){e.title?title=e.title:e.img&&(image={url:ProperMedia.utils.deepAccess(e,"img.url")||"",width:t.winning_ad.width,height:t.winning_ad.height})});var s="",i="";image.url&&image.width&&image.height?i='<img style="display:block;" border="0" src="'+image.url+'" alt="'+title+'" width="'+image.width+'" height="'+image.height+'">':title&&(s=title),s='<a href="'+e+'" target="_blank" onclick="fireTrackers(\'click\')>'+i+s+"</a>",s+='<script>function fireTrackers(action) {var message = { message: "Proper Native", slotName:  + "'+t.name+'" };if (action === "click") { message.action = "click"; }window.parent.postMessage(JSON.stringify(message), "*");}<\/script>',t.winning_ad.adcode=s}(r)),r.removeCreative(),1==i?function(e,t,i){e.innerHTML="";var s=j.createElement("iframe");s.frameBorder=0,s.scrolling="no",s.marginWidth="0",s.marginHeight="0",s.width=i[0],s.height=i[1],s.style.overflow="hidden",s.style.border="0px",s.style.verticalAlign="bottom",s.onload=function(){console.log("Proper isolated slotOnload: "+t.name),1==he.testing_mode.enabled&&"unfilled"==he.testing_mode.bidder&&"unfilled"==t.winning_ad.bidder?t.dispatchCustomEvent("proper-unfilled"):(t.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(t,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(t,"displayed_ad.size"),ad_type:t.ad_type}),t.hasWinningBid()&&1==t.winning_ad.displayed?t.winning_ad.onBidWon(t):t.displayed_ad instanceof c&&1==t.displayed_ad.displayed&&t.displayed_ad.onBidWon(t)),"auto"==s.height&&(this.style.height=this.contentWindow.document.body.scrollHeight+"px")},he.sandbox_iframe&&(s.sandbox=he.sandbox_options.join(" ")||""),s.src="javascript:\"<html><body style='background:transparent'></body></html>\"",e.appendChild(s),e="<html><body>"+t.winning_ad.adcode+"</body></html>",ProperMedia.utils.deepAccess(he,"adlightning.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")?le.wrapTag(t,s.contentWindow,ProperMedia.utils.mergeObject({},t.winning_ad,{adcode:e})):1==he.confiant?pe.wrapTag(t,s.contentWindow.document,ProperMedia.utils.mergeObject({},t.winning_ad,{adcode:e})):(s.contentWindow.document.open(),s.contentWindow.document.write(e),s.contentWindow.document.close()),"auto"==i[1]&&ProperMedia.utils.onElementHeightChange(s,function(e){s.style.height=e+"px"})}(e,r,p):0==i&&(i=e,a=r,n=p,(d=window.top.document.getElementById(a.div_id+"-iframe"))&&(d.style.width=Vs(n[0]),d.style.height=Vs(n[1])),i.defaultView&&i.defaultView.frameElement&&(e=n[0],p=n[1],i.defaultView.frameElement.width=e,i.defaultView.frameElement.height=p),1==he.confiant?pe.wrapTag(a,i,a.winning_ad):i.write(a.winning_ad.adcode),"auto"==n[1]&&(d?(o=d.contentWindow.document.getElementById(a.dfpIframeId))?ProperMedia.utils.onElementHeightChange(o,function(e){o.style.height=e+"px",d.style.height=e+"px"}):ProperMedia.utils.onElementHeightChange(d,function(e){d.style.height=e+"px"}):(d=window.top.document.getElementById(a.dfpIframeId))&&ProperMedia.utils.onElementHeightChange(d,function(e){d.style.height=e+"px"}))),me.mylog("displayed! ("+r.name+", bidder="+r.winning_ad.bidder+", size="+r.winning_ad.size+", price="+r.winning_ad.price+")"),n=ProperMedia.utils.getTimePassed(r.auction_started_ts),a=ProperMedia.utils.validateValue(r.winning_ad.price,{type:"number",max:999,max_len:15}),ge.setSessionRevenue(a),me.saved_data[r.name]={bidder:r.winning_ad.bidder,cpm:a,size:r.winning_ad.size,slot:r.dfp_name,request_url:r.winning_ad.request_url,request_response:r.winning_ad.response,adcode:r.winning_ad.adcode,ad_details:r.winning_ad.ad_details},me.bid_data.ad_slots[r.name]={slot_name:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"dfp_name"),{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.bidder"),{type:"string",max_len:30}),gross:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.gross"),{type:"number",max:999,max_len:15}),price:a,size:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.size"),{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"refresh.count"),{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.response_ms"),{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(n,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.tag_id"),{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.advertiserId"),{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.adomain.0"),{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.campaignId"),{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.creativeId"),{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.dealid"),{type:"string",max_len:50})},r.displayed_ad=ProperMedia.utils.deepCopy(r.winning_ad),ve.displayed_ads.push(ProperMedia.utils.deepCopy(r.displayed_ad)),Bs(0,r.name,r.winning_ad.size,0,0),clearTimeout(me.tracker_timeout),me.tracker_timeout=null,me.tracker_timeout=_.setTimeout.call(ye,function(){me.proper_tracker()},me.tracker_wait)):Us(r)}function Rs(e,t){var i,s,r,a,n,o=ye.getSlotFromPageObject(e,["display","interstitial"]);o&&(o.interstitial||(o.removeCreative(),(r=window.top.document.getElementById(o.div_id+"-iframe"))&&(r.style.width=Vs(t.size[0]),r.style.height=Vs(t.size[1]))),i=t.size[0]+"x"+t.size[1],s=t.advertiserId,e="dfp",t.advertiserId==he.amazon_advertiser?e="a9":t.advertiserId==he.adsense_advertiser?e="adsense":t.advertiserId!=he.google_advertiser&&1!=t.advertiserId&&null!=t.advertiserId&&null==t.yieldGroupIds||(e="adx"),o.advertiserId=t.advertiserId,r=0,"adx"!=e&&"adsense"!=e||(a=o.interstitial?"interstitial":i,n=o.getFloor(a),r=void 0!==o.winning_ad&&void 0!==o.winning_ad.dfp_price&&o.winning_ad.dfp_price>n?parseFloat(o.winning_ad.dfp_price)+.01:parseFloat(n)+.01),me.mylog("displayed! DFP ("+o.name+", bidder="+e+", size="+i+", price: "+r+")"),a=ProperMedia.utils.getTimePassed(o.auction_started_ts),ge.setSessionRevenue(r),n={slot_name:ProperMedia.utils.validateValue(o.dfp_name,{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(e,{type:"string",max_len:30}),price:ProperMedia.utils.validateValue(r,{type:"number",max:1e3}),gross:ProperMedia.utils.validateValue(r,{type:"number",max:1e3}),size:ProperMedia.utils.validateValue(i,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(o.refresh.count,{type:"number",max:999}),line_item_id:ProperMedia.utils.validateValue(t.lineItemId,{type:"string",max_len:15}),response_ms:ProperMedia.utils.validateValue(a,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(a,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(s,{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(t.advertiserId,{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue("",{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(t.campaignId,{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(t.creativeId,{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue("",{type:"string",max_len:50})},o.interstitial?me.interstitial_bid_data[o.name]=n:me.bid_data.ad_slots[o.name]=n,o.displayed_ad={type:"display",price:r,gross:r,dfp_price:r,bidder:e,size:i,adCode:"",tag_id:s,response_ms:a,displayed:1,adid:t.advertiserId,cid:t.campaignId,crid:t.creativeId},ve.displayed_ads.push(ProperMedia.utils.deepCopy(o.displayed_ad)),me.saved_data[o.name]={bidder:e,cpm:r,size:i,slot:o.dfp_name,request_url:"",request_response:"",adcode:"",ad_details:{}},clearTimeout(me.tracker_timeout),me.tracker_timeout=null,me.tracker_timeout=_.setTimeout.call(ye,function(){me.proper_tracker()},me.tracker_wait))}function Bs(e,t,i,s,r){setTimeout(A.start,3e3);var a=".ad-sticky[class*='"+t+"']",t=ye.getSlotFromPageObject(t,["display"]);t&&(e||(t.size=i,me.ad_info[t.name]={creative_id:s,line_item_id:r,size:i}),i=he.native_sizes[i]||i,t.sticky?e?0==t.refresh.count&&S(a).hide():(t.displayed=1,he.enable_sticky_freq_cap&&0==t.refresh.count&&be.stickyFreqCapHandler.incrementStickyUnitImps(),void 0===t.winning_ad.bidder||0==t.winning_ad.displayed||1==t.winning_ad.displayed&&void 0===he.native_sizes[t.winning_ad.size]?(S(a).removeClass("sticky-right"),S(a).removeClass("sticky-left"),S(a).removeClass("sticky-btm"),s=i.split("x"),r=parseInt(s[0]),s=parseInt(s[1]),300==r&&250==s||336==r&&280==s?S(a).addClass("sticky-corner-"+t.sticky_settings.position):r<s?S(a).addClass("sticky-"+t.sticky_settings.position):S(a).addClass("sticky-btm"),"1x1"!==i?(S(a+" .sticky-inner .inner-left").show(),S(a+" .sticky-inner .inner-right").show(),S(a).attr("style","height: "+s+"px")):S(a).hide(),S(a+" .sticky-inner").attr("style",""),(!window.innerWidth||window.innerWidth<=720||window.innerWidth<=r-96)&&S(a).addClass("for-mobile")):"gumgum"==t.winning_ad.bidder||"gumgum_s2s"==t.winning_ad.bidder?(S(a+" .sticky-inner .inner-left,.inner-right").hide(),S(a).addClass("sticky-btm"),S(a).obj.style.background="none"):S(a).hide()):e||(1<t.min_width&&1<t.min_height&&(S("#"+CSS.escape(t.div_id)).obj.style.width="",S("#"+CSS.escape(t.div_id)).obj.style.height="",S("#"+CSS.escape(t.div_id)).obj.style.minWidth=t.min_width+"px",S("#"+CSS.escape(t.div_id)).obj.style.minHeight=t.min_height+"px"),t.displayed=1),1!=t.displayed||e||(t.last_displayed_ts=ProperMedia.utils.getTimestampMs(),t.tracking_times.creative_on_page=ProperMedia.utils.getTimestampMs(),1==ProperMedia.utils.deepAccess(t,"winning_ad.displayed")&&1==ProperMedia.utils.deepAccess(he,"bidder_info."+t.winning_ad.bidder+".dont_refresh")&&t.refresh.enabled,t.refresh.count),1==t.refresh.enabled&&t.refresh.count<t.refresh.max&&t.setRefreshInterval(),1==Me.enabled&&Me.addSlotOverlay(t),t.recycleBid())}function Us(e){var t;Bs(1,e.name,"0x0",0,0),"display"==e.type&&0<e.refresh.count||(t=ProperMedia.utils.getTimePassed(e.auction_started_ts),me.bid_data.ad_slots[e.name]={slot_name:ProperMedia.utils.validateValue(e.dfp_name,{type:"string",max_len:50}),bidder:"unfilled",price:0,gross:0,size:ProperMedia.utils.validateValue(e.default_size,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(e.refresh.count,{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(t,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(t,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:"",adid:"",adomain:"",cid:"",crid:"",dealid:""},e.displayed_ad={price:0,gross:0,dfp_price:0,bidder:"unfilled",size:e.default_size.join("x"),adCode:"",tag_id:"",response_ms:t},ve.displayed_ads.push(ProperMedia.utils.deepCopy(e.displayed_ad)),e.dispatchCustomEvent("proper-unfilled"),clearTimeout(me.tracker_timeout),me.tracker_timeout=null,me.tracker_timeout=_.setTimeout.call(ye,function(){me.proper_tracker()},me.tracker_wait))}function Vs(e){return"string"!=typeof e||-1===e.indexOf("%")&&"auto"!=e?e+"px":e}function Fs(e){e=ye.getSlotFromPageObject(e,["display"]);return!!e&&(e.refresh.enabled=0,e.removeRefreshTimeout(),!0)}return ue.id5Id=new b,ce.a9=(Ye=He=0,Ge="pub_audiences_opt_out",Qe={display:{fiuark:"a9","1lmmolc":"pubmatic_tam",fgcef4:"openx_tam",x7meww:"rubicon_tam","7onrpc":"oath_tam","1777sow":"adgeneration_tam",pfxs74:"districtmdmx_tam",l04a2o:"rhythmone_tam",n8114w:"verizonmedia_tam",b0iwao:"sovrn_tam",obzeo0:"pulsepoint_tam",rnuj9c:"index_tam","6kpe68":"districtm_tam",jw5wjk:"smaato_tam",tvrabk:"conversant_tam","11nfx1c":"triplelift_tam"},video:{instream:{fiuark:"amazon_tam_instream",x7meww:"magnite_tam_instream","5gr0n4":"adobe_tam_instream","19f4jr4":"conversant_uam_instream",b0iwao:"sovrn_tam_instream",obzeo0:"pulsepoint_tam_instream","1r6ek8w":"amobee_tam_instream",jw5wjk:"smaato_tam_instream",rnuj9c:"index_tam_instream","1lmmolc":"pubmatic_tam_instream",fgcef4:"openx_tam_instream","6kpe68":"districtm_tam_instream","7onrpc":"verizon_media_tam_instream","1777sow":"adgeneration_tam_instream",pfxs74:"dmx_tam_instream","1tebbb4":"yahoo_tam_instream",l04a2o:"unruly_tam_instream",n8114w:"verizon_media_tam_instream","1mql24g":"gumgum_uam_instream"},outstream:{fiuark:"amazon_tam_outsteam",x7meww:"magnite_tam_outsteam","5gr0n4":"adobe_tam_outsteam","19f4jr4":"conversant_uam_outsteam",b0iwao:"sovrn_tam_outsteam",obzeo0:"pulsepoint_tam_outsteam","1r6ek8w":"amobee_tam_outsteam",jw5wjk:"smaato_tam_outsteam",rnuj9c:"index_tam_outsteam","1lmmolc":"pubmatic_tam_outsteam",fgcef4:"openx_tam_outsteam","6kpe68":"districtm_tam_outsteam","7onrpc":"verizon_media_tam_outsteam","1777sow":"adgeneration_tam_outsteam",pfxs74:"dmx_tam_outsteam","1tebbb4":"yahoo_tam_outsteam",l04a2o:"unruly_tam_outsteam",n8114w:"verizon_media_tam_outsteam","1mql24g":"gumgum_uam_outsteam"}}},$e={sovrn_tam:9e4},{formatRequest:Ui,send:function(_){if(ye.isolated)return me.mylog("Turn off Amazon bidder for isolated pages"),!0;var b=_.bidder,f=he.bidder_info[b]||f,e=Ui(_.requests,f);function o(m){"function"==typeof window.apstag.debug&&(1==he.testing_mode.ids?window.apstag.debug("enable"):window.apstag.debug("disable"));var h,e,g=m.request_cnt||0,t=ProperMedia.utils.objectValues(m.slots)||[];0==t.length&&0<g||(me.mylog("Amazon bids sent",b),_.incrementRequestsSent(g),h=ProperMedia.utils.getTimestampMs(),e=function(e){try{me.mylog("Amazon bids returned: "+e.length);for(var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t),s=0;s<e.length;s++){var r,a=e[s];r=1==he.testing_mode.ids?100:a.amznbid;var n=a.amznp||"fiuark",o=("video"==f.demand_type?ProperMedia.utils.deepAccess(Qe,f.demand_type+"."+f.video_type+"."+n):ProperMedia.utils.deepAccess(Qe,f.demand_type+"."+n))||b,d=a.encodedQsParams||"",p=a.qsParams||"",l=a.ttl||$e[o]||f.default_bid_ttl,c={encodedQsParams:d,qsParams:p,amznp:a.amznp,amznbid:a.amznbid,amzniid:a.amzniid},u=new z({bidder:o,price:r,gross:r,size:a.size,tag_id:a.slotID,request_url:"https://c.amazon-adsystem.com/e/dtb/bid",response:a,response_ms:i,received_ts:t,ad_details:c,ttl:l});"video"===f.demand_type?(u.type="video",u.vast_type="url",u.vast_tag="https://aax.amazon-adsystem.com/e/dtb/vast?b="+a.amzniid+"&pp="+a.amznbid+"&rnd="+Math.round((new Date).getTime())+"&cust_params="+d,u.vpaid=!1,u.video_type=f.video_type,u.size=(ProperMedia.utils.deepAccess(m,"tag_sizes."+u.tag_id)||(_e.isMobile()?["400x300"]:["640x480"]))[0]):(u.type="display",u.adcode='<script>var amzn_win=window,amzn_c=5,amzn_x=0;while(amzn_x<amzn_c){amzn_win=amzn_win.parent;if(amzn_win.apstag)try{amzn_win.apstag.renderImp(document,"'+a.amzniid+'");amzn_x=amzn_c}catch(e){}amzn_x++};<\/script>'),_.logBidResponse(u)}_.incrementBidResponseCount(g)}catch(e){throw e.bidder=b,e}},void 0!==y&&y.wrap(e),window.apstag.fetchBids({slots:t,timeout:2e3},e))}1==He?o(e):(ye.amazon_queue=e,0==Ye&&(Ye=1,function(i,s,e,t,r){var a;function n(e,t){s[i]._Q.push([e,t])}s[i]||(s[i]={init:function(){n("i",arguments)},fetchBids:function(){n("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},deleteId:function(){n("di",arguments)},renewId:function(){n("ri",arguments)},updateId:function(){n("ui",arguments)},_Q:[]},link1=e.createElement("link"),link1.rel="dns-prefetch",link1.href="https://c.amazon-adsystem.com",link2=e.createElement("link"),link2.rel="preconnect",link2.href="https://c.amazon-adsystem.com",a=j.createAttribute("crossorigin"),link2.setAttributeNode(a),(t=e.createElement("script")).async=1,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",t.addEventListener("load",y.wrap(function(){try{var e={pubID:"cb3b5777-430d-4622-b7fc-358cfa27d518",params:{},bidTimeout:2e3};he.schain&&(e.schain=he.schain),ie.cmpPresent&&ie.gdprApplies&&(e.gdpr={cmpTimeout:25}),"video"===f.demand_type&&(e.videoAdServer="DFP"),window.apstag.init(e);var t=Vi();t.hashedRecords&&t.hashedRecords.length&&window.apstag.renewId(t,function(){me.mylog("Amazon: Publisher Audience ID Renewed. params: "+JSON.stringify(t))}),He=1,o(ye.amazon_queue)}catch(e){throw e.bidder=b,e}})),(r=e.getElementsByTagName("script")[0]).parentNode.insertBefore(link1,r),r.parentNode.insertBefore(link2,r),r.parentNode.insertBefore(t,r))}("apstag",window,j)))},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4},updateOptOut:function(e){var t;e?ProperMedia.utils.setCookie(Ge,!0,1209600,"Lax"):ProperMedia.utils.deleteCookie(Ge,"Lax"),window.apstag&&((t=Vi()).optOut=e,window.apstag.updateId(t,function(){me.mylog("Amazon: Publisher Audience ID Updated. params: "+JSON.stringify(t))}))}}),ce.adyoulike=(Ke="https://hb-api.omnitagjs.com/hb-api/prebid/v1",{formatRequest:Fi,send:function(g){var _=g.bidder,b=he.bidder_info[_]||b,e=(t=Fi(g.requests,_,b)).bids||{},f=t.request_cnt,y=Ke+function(e){var t=[];e.referrer&&t.push("RefererUrl="+encodeURIComponent(e.referrer));e=ProperMedia.utils.getCanonicalUrl();e&&t.push("CanonicalUrl="+encodeURIComponent(e));return t.length?"?"+t.join("&"):""}(ye),t={Version:"1.0",PageRefreshed:ProperMedia.utils.getPageRefreshed(),Bids:e};ie.cmpPresent&&(t.gdprConsent={consentString:ie.consentString,consentRequired:"boolean"!=typeof ie.gdprApplies||ie.gdprApplies}),g.incrementRequestsSent(f),me.mylog(y,_);var v=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+_+".edge")||!1;S.ajax({url:y,method:"POST",requestType:"cors",bidder:_,edge:e,withCredentials:!0,data:JSON.stringify(t),success:function(e){try{if(response=ProperMedia.utils.safeJsonParse(e),response&&0!=response.length){var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(v,t);me.mylog(response,_);for(var s=0;s<response.length;s++){var r,a,n=response[s],o=n.BidID||"",d=n.Price||0,p=n.Width||1,l=n.Height||1,c=n.Ad||"",u=n.CreativeID||"",m=b.default_bid_ttl,h=new z({bidder:_,size:p+"x"+l,price:parseFloat(d),gross:parseFloat(d),tag_id:o,crid:u,request_url:y,response:n,response_ms:i,received_ts:t,ttl:m});"video"==b.demand_type?(r=function(e){try{var t={};if("string"==typeof e)return t=ProperMedia.utils.safeJsonParse(e.match(/\/\*PREBID\*\/(.*)\/\*PREBID\*\//)[1]),ProperMedia.utils.deepAccess(t,"Content.MainVideo.Vast")}catch(e){}}(c),h.type="video",h.vast_tag=r,a=ProperMedia.utils.parseVastVpaid(h.vast_tag),h.vast_type=a.vast_type,h.vpaid=a.vpaid,h.video_type=b.video_type):h.adcode=c,g.logBidResponse(h)}}else{me.mylog("no "+_+" bids returned");var h=new z({bidder:_,price:0,gross:0,tag_id:"",request_url:Ke,response:e,response_ms:i,received_ts:t,ttl:0});g.logNoBidResponse(h)}g.incrementBidResponseCount(f)}catch(e){throw e.bidder=_,e}},error:function(e){try{g.incrementBidResponseCount(f);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(v,t),s={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(s)}catch(e){throw e.bidder=_,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:36e5}}),ce.aol=(tt="aol",it=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,st=/\w*(?=\s)/,rt=/src=("|')(.*?)\1/,{send:function(u){var i=u.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,p){var t={"728x90":225,"160x600":154,"300x600":529,"300x250":170,"320x50":3055};if(void 0===t[e])return;var i=Es(tt,e),s=t[e],t=p,e=(new Date).getTime(),l="https://adserver-us.adtech.advertising.com/pubapi/3.0/9857.1/"+p+"/0/"+s+"/ADTECH;v=2;cmd=bid;cors=yes;alias="+t+";misc="+e+";bidfloor="+i;ie.cmpPresent&&("boolean"==typeof ie.gdprApplies&&(l+=";gdpr="+Number(ie.gdprApplies)),ie.consentString&&(l+=";euconsent="+ie.consentString));J.cmpPresent&&J.usPrivacy&&(l+=";us_privacy="+J.usPrivacy);me.mylog(l,tt),u.incrementRequestsSent(1);var c=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(he,"bidders.header."+tt+".edge")||!1;S.ajax({url:l,special:"aol",requestType:"cors",bidder:tt,edge:i,success:function(e){try{var t,i,s,r,a,n,o,d;me.mylog(e,tt),(e=ProperMedia.utils.safeJsonParse(e)||{})&&e.seatbid&&0<e.seatbid.length?(t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(c,t),s=e.seatbid[0].bid[0]||{},0<Object.keys(s).length?(void 0!==s.crid&&s.crid,r=s.w||1,a=s.h||1,n=s.price||0,o=s.adm||"",d=new z({bidder:tt,size:r+"x"+a,price:parseFloat(n),gross:parseFloat(n),adcode:o,tag_id:p,request_url:l,response:s,response_ms:i,received_ts:t,ttl:et.default_bid_ttl}),u.logBidResponse(d)):(d=new z({bidder:tt,price:0,gross:0,tag_id:s.tag_id||"",request_url:l,response:s,response_ms:i,received_ts:t,ttl:0}),u.logNoBidResponse(d))):(d=new z({bidder:tt,price:0,gross:0,tag_id:"",request_url:l,response:e,response_ms:i,received_ts:t,ttl:0}),u.logNoBidResponse(d)),u.incrementBidResponseCount(1),function(e){{var i;e&&e.ext&&e.ext.pixels&&((e=e.ext.pixels.match(it))&&(i=[],e.forEach(function(e){var t=e.match(st)[0],e=e.match(rt)[2];t&&e&&i.push({type:"img"===t?"image":"iframe",url:e,bidder:tt})}),A.add(i)))}}(e)}catch(e){throw e.bidder=tt,e}},error:function(e){try{u.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(c,t),s={bidder:tt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(s)}catch(e){throw e.bidder=tt,e}}})}(e,i[e][t])})},bidderInfo:et={rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4}}),ce.appnexus=(at="https://ib.adnxs.com/ut/v3/prebid",nt=[ue.identityLink],ot={main_image:{required:!0,sizes:[]},icon:{required:!0,sizes:[{width:50,height:50}]},clickUrl:{required:!0},title:{required:!0,len:80},sponsored_by:{required:!0},ctatext:{required:!1}},A.add({type:"iframe",url:"https://acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html",bidder:"appnexus"}),{formatRequest:Zi,send:function(I){var x=I.bidder,j=he.bidder_info[x]||j,e=Zi(I.requests,x,j),t=ProperMedia.utils.objectValues(e.astTags)||[],P=e.request_cnt;if(0==t.length)return!1;var e={tags:t,sdk:{source:"pbjs",version:he.prebid_version},referrer_detection:{rd_ref:encodeURIComponent(ye.url),rd_top:!0,rd_ifs:0,rd_stk:encodeURIComponent(ye.url)},user:{}},r=[];nt.forEach(function(e){var t,i,s;ProperMedia.utils.deepAccess(e,"config.enabled")&&(t=r,i=e.getValue(),s=e.source,e=null,i&&(e?t.push({source:s,id:i,rti_partner:e}):t.push({source:s,id:i})))}),r.length&&(e.eids=r),he.schain&&(e.schain=he.schain),ie.cmpPresent&&(e.gdpr_consent={consent_string:ie.consentString,consent_required:ie.gdprApplies}),J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy),me.mylog(at,x),I.incrementRequestsSent(P);var k=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+x+".edge")||!1;S.ajax({url:at,requestType:"cors",method:"POST",bidder:x,edge:t,data:JSON.stringify(e),success:function(e){try{me.mylog(e,x);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(k,t),s=ProperMedia.utils.safeJsonParse(e);if(s&&s.error){me.mylog("Error: "+x+" adapter - "+s.error);var r={bidder:x,status:418,statusText:s.error+"(x"+P+")",response_ms:i};I.logBidResponseError(r)}else if(s&&s.tags&&s.tags.length)for(var a=0;a<s.tags.length;a++){var n=s.tags[a];if(n.ads&&n.ads[0]){var o=n.tag_id,d=n.ads[0],p=d.cpm||0,l=d.creative_id||"",c=d.adId||d.advertiser_id||"",u=j.rev_share||1,m=new z({bidder:x,price:parseFloat(p*u),gross:parseFloat(p),tag_id:o,adid:c,crid:l,request_url:at,response:n,response_ms:i,received_ts:t,ttl:j.default_bid_ttl});if("video"==j.demand_type){var h=ProperMedia.utils.deepAccess(d,"rtb.notify_url")||"",g=ProperMedia.utils.deepAccess(d,"rtb.video.asset_url")||"",_=(ProperMedia.utils.deepAccess(d,"rtb.video.notify_url"),ProperMedia.utils.deepAccess(d,"rtb.video.player_width")||""),b=ProperMedia.utils.deepAccess(d,"rtb.video.player_height")||"",f="";"instream"==j.video_type?f=h+"&redir="+encodeURIComponent(g):"outstream"==j.video_type&&(f=ProperMedia.utils.deepAccess(d,"rtb.video.content")||""),m.size=_+"x"+b,m.type="video",m.vast_tag=f;var y=ProperMedia.utils.parseVastVpaid(m.vast_tag);m.vast_type=y.vast_type,m.vpaid=y.vpaid,m.video_type=j.video_type}else if("native"==j.demand_type){m.type="native";var v=ProperMedia.utils.deepAccess(d,"rtb.native");m.native={title:v.title,body:v.desc,body2:v.desc2,cta:v.ctatext,rating:v.rating,sponsoredBy:v.sponsored,privacyLink:v.privacy_link,address:v.address,downloads:v.downloads,likes:v.likes,phone:v.phone,price:v.price,salePrice:v.saleprice,clickUrl:ProperMedia.utils.deepAccess(v,"link.url")||"",displayUrl:v.displayurl,clickTrackers:ProperMedia.utils.deepAccess(v,"link.click_trackers")||[],imptrackers:ProperMedia.utils.deepAccess(v,"impression_trackers")||[],jstracker:ProperMedia.utils.deepAccess(v,"javascript_trackers")||[],javascriptViewability:ProperMedia.utils.deepAccess(v,"viewability.config")||""},v.main_img&&(m.native.image={url:ProperMedia.utils.deepAccess(v,"main_img.url")||"",height:ProperMedia.utils.deepAccess(v,"main_img.height"),width:ProperMedia.utils.deepAccess(v,"main_img.width")},m.size=m.native.image.width+"x"+m.native.image.height),v.icon&&(m.native.icon={url:ProperMedia.utils.deepAccess(v,"icon.url")||"",height:ProperMedia.utils.deepAccess(v,"icon.height"),width:ProperMedia.utils.deepAccess(v,"icon.width")})}else{var M=ProperMedia.utils.deepAccess(d,"rtb.banner.content")||"",_=ProperMedia.utils.deepAccess(d,"rtb.banner.width")||"",b=ProperMedia.utils.deepAccess(d,"rtb.banner.height")||"",w="";try{w=ProperMedia.utils.deepAccess(d,"rtb.trackers.0.impression_urls.0")}catch(e){}M+='<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(w)+'"></div>',m.size=_+"x"+b,m.adcode=M}I.logBidResponse(m)}else n.nobid&&(m=new z({bidder:x,price:0,gross:0,tag_id:n.tag_id||"",request_url:at,response:n,response_ms:i,received_ts:t,ttl:0}),I.logNoBidResponse(m))}else{m=new z({bidder:x,price:0,gross:0,tag_id:"",request_url:at,response:s,response_ms:i,received_ts:t,ttl:0});I.logNoBidResponse(m)}I.incrementBidResponseCount(P)}catch(e){throw e.bidder=x,e}},error:function(e){try{I.incrementBidResponseCount(P);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(k,t),s={bidder:x,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};I.logBidResponseError(s)}catch(e){throw e.bidder=x,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5},buildNativeAdCode:function(e){var t=ProperMedia.utils.deepAccess(e,"winning_ad.native.clickUrl")||"",i=ProperMedia.utils.deepAccess(e,"winning_ad.native.image")||{},s=ProperMedia.utils.deepAccess(e,"winning_ad.native.title")||"",r="",a="";i.url&&i.width&&i.height?a='<img style="display:block;" border="0" src="'+i.url+'" alt="'+s+'" width="'+i.width+'" height="'+i.height+'">':s&&(r=s),r='<a href="'+t+'" target="_blank" onclick="fireTrackers(\'click\')">'+a+r+"</a>",r+='<script>function fireTrackers(action) {var message = { message: "Proper Native", slotName:  + "'+e.name+'" };if (action === "click") { message.action = "click"; }window.parent.postMessage(JSON.stringify(message), "*");}<\/script>',e.winning_ad.adcode=r}}),ce.concert=(dt={rev_share:1,bid_grouping:"page",default_bid_ttl:6e4,native_sizes:{"1030x590":"native_horizontal"}},pt="https://bids.concert.io/bids/prebid",lt="concert",ct=[[1030,590],[620,366],[325,204],[325,508]],Z.ready(function(){Wi()||A.add({type:"iframe",url:"https://cdn.concert.io/lib/bids/sync.html",bidder:lt})}),{formatRequest:Ji,send:function(l){var r,e=Ji(l.requests),t=ProperMedia.utils.objectValues(e.bids)||[],a=e.request_cnt;0!=a&&(e={meta:{prebidVersion:he.prebid_version,pageUrl:ye.bidder_page_url,screen:[window.screen.width,window.screen.height].join("x"),debug:1==he.testing_mode.ids,uid:function(){if(Wi())return!1;var e=ProperMedia.utils.getDataFromLocalStorage("c_uid");e||(e=ProperMedia.utils.generateUUID(),ProperMedia.utils.setDataInLocalStorage("c_uid",e));return e}(),optedOut:Wi(),adapterVersion:"1.0.2"},slots:t},me.mylog(pt,lt),l.incrementRequestsSent(a),r=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+lt+".edge")||!1,S.ajax({url:pt,method:"POST",requestType:"cors",bidder:lt,edge:t,data:JSON.stringify(e),success:function(o){try{o=ProperMedia.utils.safeJsonParse(o);var e,d=ProperMedia.utils.getTimestampMs(),p=ProperMedia.utils.calcResponseMs(r,d);o&&o.bids&&0!=Object.keys(o.bids).length?(me.mylog(o,lt),Object.keys(o.bids).forEach(function(e){var t=o.bids[e],i=t.bidId||"",s=t.cpm||0,r=(t.netRevenue,t.currency,t.width||1),a=t.height||1,n=t.ad||"",e=1e3*t.ttl||dt.default_bid_ttl,a=r+"x"+a;dt.native_sizes[a]&&(a=dt.native_sizes[a]);e=new z({bidder:lt,size:a,price:parseFloat(s*dt.rev_share),gross:parseFloat(s),adcode:n,tag_id:i,request_url:pt,response:t,response_ms:p,received_ts:d,ttl:e});e.price&&e.adcode?l.logBidResponse(e):l.logNoBidResponse(e)})):(me.mylog("no "+lt+" bids returned"),e=new z({bidder:lt,price:0,gross:0,tag_id:"",request_url:pt,response:o,response_ms:p,received_ts:d,ttl:0}),l.logNoBidResponse(e)),l.incrementBidResponseCount(a)}catch(e){throw e.bidder=lt,e}},error:function(e){try{l.incrementBidResponseCount(a);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(r,t),s={bidder:lt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};l.logBidResponseError(s)}catch(e){throw e.bidder=lt,e}}}))},bidderInfo:dt}),ce.consumable=(ut={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e4},mt="9969",ht="1030626",gt="consumable",_t=1,bt="https://e.serverbid.com/api/v2",(ft=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"])[77]="970x90",ft[123]="970x250",ft[43]="300x600",ft[286]="970x66",ft[3230]="970x280",ft[429]="486x60",ft[374]="700x500",ft[934]="300x1050",ft[1578]="320x100",ft[331]="320x250",ft[3301]="320x267",ft[2730]="728x250",{formatRequest:Xi,send:function(u){ht=ProperMedia.utils.deepAccess(he,"bidders.header."+gt+".site_id")||ht;var e=Xi(u.requests),t=e.imps||{},m=e.request_cnt;if(0==m)return!1;e={networkId:mt,siteId:ht,placements:ProperMedia.utils.objectValues(t)||[],time:Date.now(),url:ye.bidder_page_url,referrer:ye.referrer,source:[{name:"prebidjs",version:he.prebid_version}]},ie.cmpPresent&&(e.gdpr={consent:ie.consentString,applies:"boolean"!=typeof ie.gdprApplies||ie.gdprApplies}),J.cmpPresent&&J.usPrivacy&&(e.ccpa=J.usPrivacy),A.add({type:"iframe",url:"https://sync.serverbid.com/ss/"+ht+".html",bidder:gt}),me.mylog(bt,gt),u.incrementRequestsSent(m);var h=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+gt+".edge")||!1;S.ajax({url:bt,method:"POST",requestType:"cors",bidder:gt,edge:t,data:JSON.stringify(e),success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t);if(e){var s=(e=ProperMedia.utils.safeJsonParse(e))||{};if(s&&s.decisions&&0<Object.keys(s.decisions).length)for(_t in s.decisions){var r=s.decisions[_t],a=ProperMedia.utils.deepAccess(r,"pricing.clearPrice")||0,n=r.width||0,o=r.height||0,d=r.adId||"",p=(c=r).contents&&c.contents[0]&&c.contents[0].body+function(e){if(!e)return"";var t=encodeURI(e),e='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return e+='<img src="'+t+'"></div>'}(c.impressionUrl)||"",l=new z({bidder:gt,size:n+"x"+o,price:parseFloat(a),gross:parseFloat(a),adcode:p,tag_id:_t,adid:d,request_url:bt,response:e,response_ms:i,received_ts:t,ttl:ut.default_bid_ttl});u.logBidResponse(l),u.incrementBidResponseCount(m)}else{l=new z({bidder:gt,price:0,gross:0,tag_id:"",request_url:bt,response:s,response_ms:i,received_ts:t,ttl:0});u.logNoBidResponse(l)}}else{l=new z({bidder:gt,price:0,gross:0,tag_id:"",request_url:bt,response:e,response_ms:i,received_ts:t,ttl:0});u.logNoBidResponse(l)}u.incrementBidResponseCount(m)}catch(e){throw e.bidder=gt,e}var c},error:function(e){try{u.incrementBidResponseCount(m);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t),s={bidder:gt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(s)}catch(e){throw e.bidder=gt,e}}})},bidderInfo:ut}),ce.conversant=(vt="https://web.hb.ad.cpe.dotomi.com/s2s/header/24",Mt="conversant",{formatRequest:Hi,send:function(c){if(!(i=ProperMedia.utils.deepAccess(he,"bidders.header."+Mt+".site_id")||0))return me.mylog("Error: Conversant Site ID is Required."),!1;var e=Hi(c.requests),t=ProperMedia.utils.objectValues(e.imps)||[],r=e.request_cnt,i={id:Date.now().toString(),at:1,imp:t,site:{id:i.toString(),mobile:_e.isMobile()?1:0,page:ye.bidder_page_url},device:(t=navigator.language?"language":"userLanguage",{h:screen.height,w:screen.width,dnt:ProperMedia.utils.getDNT()?1:0,language:navigator[t].split("-")[0],make:navigator.vendor||"",ua:navigator.userAgent}),user:{ext:{fpc:be.pubcid}}};0<(t=function(){var t=P.getEidsArray();if(ProperMedia.utils.isArray(t)&&0<t.length){const i={"adserver.org":1,"liveramp.com":1,"criteo.com":1,"id5-sync.com":1,"parrable.com":1,"digitru.st":1,"liveintent.com":1};t.forEach(function(e){i.hasOwnProperty(e.source)&&t.push(e)})}return t}()).length&&ProperMedia.utils.deepSetValue(i,"user.ext.eids",t),he.schain&&(i.source={ext:{schain:he.schain}}),ie.cmpPresent&&(i.user.ext.consent=ie.consentString,"boolean"==typeof ie.gdprApplies&&(i.regs={ext:{gdpr:Number(ie.gdprApplies)}})),J.cmpPresent&&J.usPrivacy&&(i.regs=i.regs||{},i.regs.ext=i.regs.ext||{},i.regs.ext.us_privacy=J.usPrivacy),me.mylog(vt,Mt),c.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+Mt+".edge")||!1;S.ajax({url:vt,method:"POST",requestType:"cors",bidder:Mt,edge:t,data:JSON.stringify(i),success:function(d){try{var e,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);(d=ProperMedia.utils.safeJsonParse(d))&&d.seatbid&&0!=d.seatbid.length&&d.seatbid[0].bid&&d.seatbid[0].bid.length?(me.mylog(d,Mt),Object.keys(d.seatbid).forEach(function(o){Object.keys(d.seatbid[o].bid).forEach(function(e){var t=d.seatbid[o].bid[e],i=(t.id,t.impid||""),s=t.price||0,r=t.w||1,a=t.h||1,n=t.adm||"",e=t.nurl||"",n=e?n+'<img src="'+e+'" />':n,t=new z({bidder:Mt,size:r+"x"+a,price:parseFloat(s),gross:parseFloat(s),adcode:n,tag_id:i,request_url:vt,response:t,response_ms:l,received_ts:p,ttl:yt.default_bid_ttl});c.logBidResponse(t)})})):(me.mylog("no conversant bids returned"),e=new z({bidder:Mt,price:0,gross:0,tag_id:"",request_url:vt,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(r)}catch(e){throw e.bidder=Mt,e}},error:function(e){try{c.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:Mt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(s)}catch(e){throw e.bidder=Mt,e}}})},bidderInfo:yt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),ce.criteo=function(){var h={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:6e4},g="criteo",i=1;function s(s){var r={slots:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===r.slots[i]&&(r.slots[i]={impid:i,sizes:[]}),r.slots[i].sizes.push(e),r.request_cnt++}}),r}return{formatRequest:s,send:function(u){var e=s(u.requests),t=ProperMedia.utils.objectValues(e.slots)||[],r=e.request_cnt;if(0==(t={publisher:{url:ye.bidder_page_url,networkid:parseInt(8388)},slots:t}).slots.length)return!1;ie.cmpPresent&&(t.gdprConsent={},void 0!==ie.gdprApplies&&(t.gdprConsent.gdprApplies=!!ie.gdprApplies),void 0!==ie.consentString&&(t.gdprConsent.consentData=ie.consentString),ie.vendorData&&ie.vendorData.vendorConsents&&void 0!==ie.vendorData.vendorConsents[91]&&(t.gdprConsent.consentGiven=!!ie.vendorData.vendorConsents[91])),J.cmpPresent&&J.usPrivacy&&(t.user={uspIab:J.usPrivacy});var m="https://bidder.criteo.com/cdb";m+="?profileId=207",m+="&av="+String(29),m+="&wv="+encodeURIComponent(he.prebid_version),m+="&cb="+String(Math.floor(99999999999*Math.random())),m+="&im="+i,1==he.testing_mode.ids&&(m+="&debug=1"),me.mylog(m,g),u.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs();S.ajax({url:m,requestType:"cors",method:"POST",data:JSON.stringify(t),success:function(e){try{me.mylog(e,g);var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p),c=ProperMedia.utils.safeJsonParse(e);c&&c.slots&&0<Object.keys(c.slots).length?Object.keys(c.slots).forEach(function(e){var t=c.slots[e],i=(t.impid,t.zoneid||""),s=t.cpm||0,r=t.width||0,a=t.height||0,n=t.creative||"",o=t.deal||"",d=t.creativecode||"",e=1e3*t.ttl||h.default_bid_ttl,e=new z({bidder:g,size:r+"x"+a,price:parseFloat(s),gross:parseFloat(s),adcode:n,tag_id:i,dealid:o,crid:d,request_url:m,response:t,response_ms:l,received_ts:p,ttl:e});u.logBidResponse(e)}):(t=new z({bidder:g,price:0,gross:0,tag_id:"",request_url:m,response:c,response_ms:l,received_ts:p,ttl:0}),u.logNoBidResponse(t)),u.incrementBidResponseCount(r)}catch(e){throw e.bidder=g,e}},error:function(e){try{u.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:g,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(s)}catch(e){throw e.bidder=g,e}}})},bidderInfo:h}}(),ce.emx=(Z.ready(function(){var e=[],t="https://biddr.brealtime.com/check.html";ie&&ie.cmpPresent&&"string"==typeof ie.consentString&&("boolean"==typeof ie.gdprApplies?e.push(["gdpr",Number(ie.gdprApplies)],["gdpr_consent",ie.consentString]):e.push(["gdpr_consent",ie.consentString])),0<e.length&&(t+="?"+e.map(function(e){e.join("=")}).join("&")),A.add({type:"iframe",url:t,bidder:"emx"})}),{formatRequest:Yi,send:function(c){var u=c.bidder,m=he.bidder_info[u]||m,e=Yi(c.requests,u,m),h=ProperMedia.utils.objectValues(e.imps)||[],r=e.request_cnt,g="https://hb.emxdgt.com?t=1000&ts="+Date.now(),t={id:Date.now().toString(),imp:h,site:{domain:ProperMedia.utils.getPageDomain(),page:ye.bidder_page_url,ref:ye.referrer},device:{ua:navigator.userAgent,js:1,dnt:ProperMedia.utils.getDNT()?1:0,h:ye.height,w:ye.width,devicetype:_e.isMobile()?1:2,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},cur:"USD",version:"1.5.1"};he.schain&&(t.source={ext:{schain:he.schain}}),ie.cmpPresent&&(t.user={ext:{consent:ie.consentString}},"boolean"==typeof ie.gdprApplies&&(t.regs={ext:{gdpr:Number(ie.gdprApplies)}})),J.cmpPresent&&J.usPrivacy&&(t.us_privacy=J.usPrivacy),me.mylog(g,u),c.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+u+".edge")||!1;S.ajax({url:g,method:"POST",requestType:"cors",bidder:u,edge:e,data:JSON.stringify(t),success:function(d){try{d=ProperMedia.utils.safeJsonParse(d);var e,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);d&&d.seatbid&&0<d.seatbid.length&&d.seatbid[0].bid&&0<d.seatbid[0].bid.length?(me.mylog(d,u),Object.keys(d.seatbid).forEach(function(e){var t=d.seatbid[e].bid[0],i=t.id||"",s=(t.crid||t.id,t.price||0),r=t.w||1,a=t.h||1,n=t.adm||"",o=t.crid||"",e=1e3*t.ttl||m.default_bid_ttl;1==r&&1==a&&(r=h[0].banner.w,a=h[0].banner.h);o=new z({bidder:u,size:r+"x"+a,price:parseFloat(s),gross:parseFloat(s),tag_id:i,crid:o,request_url:g,response:t,response_ms:l,received_ts:p,ttl:e});if("video"==m.demand_type){e=n;o.type="video",o.vast_tag=e;e=ProperMedia.utils.parseVastVpaid(o.vast_tag);o.vast_type=e.vast_type,o.vpaid=e.vpaid,o.video_type=m.video_type}else{try{n=decodeURIComponent(n)||""}catch(e){n=t.adm||""}o.adcode=n}c.logBidResponse(o)})):(e=new z({bidder:u,price:0,gross:0,tag_id:"",request_url:g,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(r)}catch(e){throw e.bidder=u,e}},error:function(e){try{c.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:u,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(s)}catch(e){throw e.bidder=u,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page"}}),ce.index=(wt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5},It="index",xt={identityLink:{adapter:ue.identityLink,ixlPartnerName:"LiveRampIp",rtiPartner:"idl"}},jt=Math.floor(256*Math.random()),{formatRequest:Gi,send:function(d){var p=Gi(d.requests),l=p.data.length,c=function(e,t){var i=encodeURIComponent(JSON.stringify(function(e){var t=location.href,i=1;top!==self&&(t=j.referrer,i=0);var s={id:String((new Date).getTime()%2592e3*256+(jt=(jt+1)%256)+256),site:{page:t},imp:[]};"string"==typeof j.referrer&&(s.site.ref=j.referrer);for(var r=0;r<e.length;r++){var a,n,o=e[r];"number"!=typeof o.width||o.width<=1||"number"!=typeof o.height||o.height<=1||(a={id:o.id,banner:{w:o.width,h:o.height,topframe:i},ext:{}},"number"==typeof o.bidfloor&&(a.bidfloor=o.bidfloor,"string"==typeof o.bidfloorcur&&(a.bidfloorcur=o.bidfloorcur)),"string"!=typeof o.id&&"number"!=typeof o.id||(n=String(o.id)).length<=50&&!n.match(/^\s*$/)&&(a.ext.sid=n),void 0!==o.siteID&&(a.ext.siteID=o.siteID),s.imp.push(a))}he.schain&&(s.source={ext:{schain:he.schain}});var d=[];Object.keys(xt).forEach(function(e){e=xt[e];ProperMedia.utils.deepAccess(e,"adapter.config.enabled")&&function(e,t,i,s){if(t)return e.push({source:i,uids:[{id:t,ext:{rtiPartner:s}}]});me.mylog("Tried to add a user ID from Prebid, the ID received was null")}(d,e.adapter.getValue(),e.adapter.source,(e.ixlPartnerName,e.rtiPartner))}),0<d.length&&ProperMedia.utils.deepSetValue(s,"user.eids",d);ie.cmpPresent&&("boolean"==typeof ie.gdprApplies&&(s.regs={ext:{gdpr:Number(ie.gdprApplies)}}),void 0!==ie.consentString&&(s.user={ext:{consent:ie.consentString||""}}));J.cmpPresent&&J.usPrivacy&&(s.regs=s.regs||{},s.regs.ext=s.regs.ext||{},s.regs.ext.us_privacy=J.usPrivacy);return s}(t))),t="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";t+=259845==e?"/cygnus?v=7&s="+e+"&r="+i:"/headertag?v=9&s="+e+"&r="+i;return t+="&t=300"}(161112,p.data);if(0==l)return!1;me.mylog(c,It),d.incrementRequestsSent(l);var u=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+It+".edge")||!1;S.ajax({url:c,special:It,requestType:"jsonp",bidder:It,edge:e,success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(u,t);if(e&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length){me.mylog(e,It);for(var s=0;s<e.seatbid.length;s++)for(var r=0;r<e.seatbid[s].bid.length;r++){e.seatbid[s].seat;obj=e.seatbid[s].bid[r],impid=obj.impid||"",adcode=obj.adm||"",cid=obj.cid||"",adid=obj.adid||"",crid=obj.crid||"",adomain=obj.adomain||"";var a=ProperMedia.utils.deepAccess(obj,"ext.pricelevel")||0,a=parseFloat(a.replace("_","")/100),n=p.index_bids[impid],o=new z({bidder:It,size:n.width+"x"+n.height,price:a,gross:a,adcode:adcode,tag_id:n.tag_id,request_url:c,response:obj,response_ms:i,received_ts:t,ttl:wt.default_bid_ttl});d.logBidResponse(o)}}else{me.mylog("No "+It+" bids found");var o=new z({bidder:It,price:0,gross:0,tag_id:"",request_url:c,response:e,response_ms:i,received_ts:t,ttl:0});d.logNoBidResponse(o)}d.incrementBidResponseCount(l)}catch(e){throw e.bidder=It,e}},error:function(e){try{d.incrementBidResponseCount(l);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(u,t),s={bidder:It,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};d.logBidResponseError(s)}catch(e){throw e.bidder=It,e}}})},bidderInfo:wt}),ce.ix=(Pt=null,A.add({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html",bidder:"ix"}),{formatRequest:Qi,send:function(_){var b=_.bidder,f=he.bidder_info[b]||f,e=(ProperMedia.utils.deepAccess(he,"bidders.header."+b+".site_id")||"").toString().split("-")||["",""];if(!(Pt=_e.isMobile()&&2==e.length?e[1]:e[0]))return me.mylog("Error: "+b+" Site ID is Required."),!1;var y=Qi(_.requests,b,f),e=y.imps||[],v=y.request_cnt,e={id:ProperMedia.utils.generateUUID(),site:{ref:ye.referrer,page:ye.bidder_page_url},ext:{source:"prebid",ixdiag:{msd:0,msi:0,sn:0}},imp:e},t=function(e){var t={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus"},i=[],s={};if(Array.isArray(e))for(var r=0;r<e.length;r++)t[e[r].source]&&ProperMedia.utils.deepAccess(e[r],"uids.0")&&(s[e[r].source]=1,e[r].uids[0].ext={rtiPartner:t[e[r].source]},delete e[r].uids[0].atype,i.push(e[r]));return{toSend:i,seenSources:s}}(P.getEidsArray()),i=t.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var s=window.headertag.getIdentityInfo();if(s&&"object"==typeof s)for(var r in s)!s.hasOwnProperty(r)||!(r=s[r]).responsePending&&r.data&&"object"==typeof r.data&&Object.keys(r.data).length&&!t.seenSources[r.data.source]&&i.push(r.data)}0<i.length&&ProperMedia.utils.deepSetValue(e,"user.eids",i),he.schain&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",he.schain),ie.cmpPresent&&(ie.consentString&&ProperMedia.utils.deepSetValue(e,"user.ext.consent",ie.consentString),"boolean"==typeof ie.gdprApplies&&ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",Number(ie.gdprApplies))),J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",J.usPrivacy),e={s:Pt,v:"display"==f.demand_type?7.2:8.1,ac:"j",sd:1,sn:0,r:JSON.stringify(e)},"video"==f.demand_type&&(e.nf=1);var M="https://htlb.casalemedia.com/cygnus?"+ProperMedia.utils.formatQueryString(e,!0);me.mylog(M,b),_.incrementRequestsSent(v);var w=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+b+".edge")||!1;S.ajax({url:M,method:"GET",bidder:b,edge:e,success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(w,t);if(e)if((e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length){me.mylog(e,b);for(var s=0;s<e.seatbid.length;s++)for(var r=0;r<e.seatbid[s].bid.length;r++){var a,n=e.seatbid[s].bid[r],o=n.impid||"",d=n.cid||"",p=n.crid||"",l=n.adid||"",c=n.adomain||[],u=n.adm||"",m=parseFloat(n.price/100)||0,h=y.index_bids[o],g=new z({bidder:b,price:m,gross:m,tag_id:h.tag_id,cid:d,crid:p,adid:l,adomain:c,request_url:M,response:n,response_ms:i,received_ts:t,ttl:f.default_bid_ttl});"video"==f.demand_type?(g.type="video",g.size=h.width+"x"+h.height,g.vast_tag=ProperMedia.utils.deepAccess(n,"ext.vasturl"),a=ProperMedia.utils.parseVastVpaid(g.vast_tag),g.vast_type=a.vast_type,g.vpaid=a.vpaid,g.video_type=f.video_type):(g.size=n.w+"x"+n.h,g.adcode=u),_.logBidResponse(g)}}else{me.mylog("No "+b+" bids returned");var g=new z({bidder:b,price:0,gross:0,tag_id:"",request_url:M,response:e,response_ms:i,received_ts:t,ttl:0});_.logNoBidResponse(g)}else{g=new z({bidder:b,price:0,gross:0,tag_id:"",request_url:M,response:e,response_ms:i,received_ts:t,ttl:0});_.logNoBidResponse(g)}_.incrementBidResponseCount(v)}catch(e){throw e.bidder=b,e}},error:function(e){try{_.incrementBidResponseCount(v);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(w,t),s={bidder:b,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};_.logBidResponseError(s)}catch(e){throw e.bidder=b,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),ce.justpremium=(kt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:6e4,dont_refresh:1,native_sizes:{desktop:{sticky_horizontal:"728x90",native_horizontal:"728x90"},mobile:{sticky_horizontal:"320x50",native_horizontal:"320x50"}}},St="justpremium",Z.ready(function(){var e="?_c=a"+Math.random().toString(36).substring(7)+Date.now();ie.cmpPresent&&"boolean"==typeof ie.gdprApplies&&(e+="&consentString="+encodeURIComponent(ie.consentString)),J.cmpPresent&&J.usPrivacy&&(e+="&usPrivacy="+encodeURIComponent(J.usPrivacy)),A.add({type:"iframe",url:"https://pre.ads.justpremium.com/v/1.0/t/sync"+e,bidder:St})}),{formatRequest:$i,send:function(m){var t,i,s,r,h=$i(m.requests),g=h.request_cnt;if(0==g)return!1;(a={zone:Object.keys(h.imps).map(function(e){return parseInt(e)}),hostname:window.top.location.hostname,protocol:window.top.location.protocol.replace(":",""),sw:window.top.screen.width,sh:window.top.screen.height,ww:window.top.innerWidth,wh:window.top.innerHeight,c:(s=h.imps,r={},Object.keys(s).forEach(function(e){r[s[e].tag_id]=s[e].slot_types}),r),id:parseInt(Object.keys(h.imps).shift()),sizes:(t=h.imps,i={},Object.keys(t).forEach(function(e){i[t[e].tag_id]=t[e].sizes}),i),version:{prebid:he.prebid_version,jp_adapter:"1.7"}}).pubcid=be.pubcid,a.uids=P.getUIdsObj(),ie.cmpPresent&&(a.gdpr_consent={consent_string:ie.consentString,consent_required:"boolean"!=typeof ie.gdprApplies||ie.gdprApplies}),J.cmpPresent&&J.usPrivacy&&(a.us_privacy=J.usPrivacy);var e=JSON.stringify(a),_="https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date;me.mylog(_,St),m.incrementRequestsSent(g);var b=ProperMedia.utils.getTimestampMs(),a=ProperMedia.utils.deepAccess(he,"bidders.header."+St+".edge")||!1;S.ajax({method:"POST",url:_,requestType:"cors",bidder:St,edge:a,data:e,success:function(e){try{var t,i,s,r,a,n,o,d,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(b,p);if(e=ProperMedia.utils.safeJsonParse(e),me.mylog(e,St),e&&e.bid)for(var c in e.bid)e.bid[c]&&0<e.bid[c].length?(t=e.bid[c].pop(),i=c,s=t.price||0,r=t.width||1,a=t.height||1,n=t.adm||"",o=1e3*t.ttl||kt.default_bid_ttl,d=ProperMedia.utils.deepAccess(h,"JPbids."+i)||r+"x"+a,u=new z({bidder:St,size:d,price:parseFloat(s),gross:parseFloat(s),adcode:n,tag_id:i,request_url:_,response:t,ttl:o,response_ms:l,received_ts:p}),m.logBidResponse(u)):(u=new z({bidder:St,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:l,received_ts:p,ttl:0}),m.logNoBidResponse(u));else{var u=new z({bidder:St,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:l,received_ts:p,ttl:0});m.logNoBidResponse(u)}m.incrementBidResponseCount(g)}catch(e){throw e.bidder=St,e}},error:function(e){try{m.incrementBidResponseCount(g);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),s={bidder:St,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(s)}catch(e){throw e.bidder=St,e}}})},bidderInfo:kt}),ce.kargo=(Ot="kargo",Tt="https://krk.kargo.com/api/v2/bid",At="https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}",Nt=5,Et="",{formatRequest:Ki,send:function(d){var p=Ki(d.requests),r=p.request_cnt,e={sessionId:ge.sessionData.uuid,requestCount:window.location?Et!==window.location.pathname?(Et=window.location.pathname,requestCounter=0):++requestCounter:0,timeout:550,currency:"USD",cpmGranularity:1,timestamp:(new Date).getTime(),bidIDs:p.bidIDs,bidSizes:p.bidSizes,cpmRange:{floor:p.floor,ceil:999999},prebidRawBidRequests:p.prebidRawBidRequests,userIDs:{},pageURL:window.location.href},t={userIDs:function(e,t){var i=es(),t={kargoID:i.userId,clientID:i.clientId,crbIDs:i.syncIds||{},optOut:i.optOut,usp:t};e&&(t.tdID=e);return t}(!1,t=J.cmpPresent&&J.usPrivacy?J.usPrivacy:"1---"),pageURL:window.location.href,rawCRB:ProperMedia.utils.getCookieValue("krg_crb"),rawCRBLocalStorage:ts("krg_crb")};ProperMedia.utils.mergeObject(e,t),me.mylog(Tt,Ot),d.incrementRequestsSent(r);var l=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+Ot+".edge")||!1;S.ajax({url:Tt+"?json="+encodeURIComponent(JSON.stringify(e)),method:"GET",bidder:Ot,edge:t,requestType:"cors",success:function(a){try{a=ProperMedia.utils.safeJsonParse(a);var e,n=ProperMedia.utils.getTimestampMs(),o=ProperMedia.utils.calcResponseMs(l,n);a&&0<Object.keys(a).length?(me.mylog(a,Ot),Object.keys(a).forEach(function(e){var t=a[e],i=t.width+"x"+t.height,s=Number(t.cpm)||0,r=t.adm||"";t.metadata&&t.metadata.landingPageDomain&&t.metadata.landingPageDomain,ProperMedia.utils.deepAccess(p,"tag_sizes."+e)&&(i=ProperMedia.utils.deepAccess(p,"tag_sizes."+e));t=new z({bidder:Ot,size:i,price:parseFloat(s),gross:parseFloat(s),adcode:r,tag_id:e,request_url:Tt,response:t,response_ms:o,received_ts:n,ttl:Ct.default_bid_ttl});d.logBidResponse(t)})):(me.mylog("no kargo bids returned"),e=new z({bidder:Ot,price:0,gross:0,tag_id:"",request_url:Tt,response:a,response_ms:o,received_ts:n,ttl:0}),d.logNoBidResponse(e)),function(){var e=ProperMedia.utils.generateUUID(),t=function(){var e=es();if(e)return e.clientId;return null}();if(e&&t)for(var i=0;i<Nt;i++)A.add({type:"image",url:At.replace("{UUID}",t).replace("{SEED}",e).replace("{INDEX}",i),bidder:Ot})}(),d.incrementBidResponseCount(r)}catch(e){throw e.bidder=Ot,e}},error:function(e){try{d.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(l,t),s={bidder:Ot,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};d.logBidResponseError(s)}catch(e){throw e.bidder=Ot,e}}})},bidderInfo:Ct={rev_share:1,bid_grouping:"page",default_bid_ttl:3e5,native_sizes:{native_vertical:"300x250",native_horizontal:"300x250",sticky_horizontal:"300x50"}}}),ce.lockerdome=(zt="lockerdome",Dt="https://lockerdome.com/ladbid/prebid",{formatRequest:is,send:function(c){var e=is(c.requests),t=ProperMedia.utils.objectValues(e.bidRequests)||[],r=e.request_cnt;if(0==(e={bidRequests:t,referrer:ye.referrer,url:ye.bidder_page_url}).bidRequests.length)return!1;ie.cmpPresent&&(e.gdpr={applies:ie.gdprApplies,consent:ie.consentString}),J.cmpPresent&&J.usPrivacy&&(e.us_privacy={consent:J.usPrivacy}),c.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs();me.mylog(Dt,zt),t=ProperMedia.utils.deepAccess(he,"bidders.header."+zt+".edge")||!1,S.ajax({method:"POST",url:Dt,requestType:"cors",bidder:zt,edge:t,data:JSON.stringify(e),success:function(d){try{me.mylog(d,zt);var e,d=ProperMedia.utils.safeJsonParse(d),p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);d&&d.bids&&0<Object.keys(d.bids).length?Object.keys(d.bids).forEach(function(e){var t=d.bids[e],i=t.requestId||"",s=t.cpm||0,r=t.width||1,a=t.height||1,n=(t.creativeId,t.currency,t.netRevenue,t.ad||""),o=t.creativeId||"",e=1e3*t.ttl||12e4,e=new z({bidder:zt,size:r+"x"+a,price:parseFloat(s),gross:parseFloat(s),adcode:n,tag_id:i,crid:o,request_url:Dt,response:t,response_ms:l,received_ts:p,ttl:e});c.logBidResponse(e)}):(e=new z({bidder:zt,price:0,gross:0,tag_id:"",request_url:Dt,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(r)}catch(e){throw e.bidder=zt,e}},error:function(e){try{c.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:zt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(s)}catch(e){throw e.bidder=zt,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page"}}),ce.mantis=(Bt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:18e5},Ut="mantis",Vt="https://mantodea.mantisadnetwork.com",Lt="iframe",Rt=function(t){if(window.$sf){var e=!1;$sf.ext.register(t.width,t.height,function(){$sf.ext.inViewPercentage()<50||e||(e=!0,cs(t.pixel))})}else for(var i=j.getElementsByTagName("iframe"),s=0;s<i.length;s++){var r=i[s];r.name==t.frame&&ls(r,function(e){cs(t.pixel),e()},1e3,.5)}},window.addEventListener("message",y.wrap(function(e){e.data.mantis&&e.data.type==Lt&&Rt(e.data.data)}),!1),A.add({type:"iframe",url:rs("/prebid/iframe"),bidder:Ut}),{formatRequest:ss,send:function(u){var e=ss(u.requests),t=ProperMedia.utils.objectValues(e.bids)||[],m=e.request_cnt,e=ProperMedia.utils.deepAccess(he,"bidders.header.mantis.site_id")||"5b32cf14d866814de2efe8c2";if(1==he.testing_mode.ids&&(e="demo"),0==m.total)return!1;var h=rs("/prebid/display",{measurable:!0,property:e,bids:t})+"&foo";me.mylog(h,Ut),u.incrementRequestsSent(m);var g=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header.mantis.edge")||!1;S.ajax({url:h,requestType:"cors",bidder:Ut,edge:t,success:function(e){try{me.mylog(e,Ut);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(g,t);if((e=ProperMedia.utils.safeJsonParse(e))&&e.ads&&0<e.ads.length){void 0!==e.uuid&&function(e){if(window.mantis_uuid)return;if(window.mantis_uuid=e,window.localStorage)try{window.localStorage.setItem("mantis:uuid",e)}catch(e){}}(e.uuid);for(var s=0;s<e.ads.length;s++){var r=e.ads[s],a=r.bid||"",n=r.view||"",o=r.cpm||0,d=r.width||0,p=r.height||0,l=r.html||"",c=new z({bidder:Ut,size:d+"x"+p,price:parseFloat(o),gross:parseFloat(o),adcode:l,tag_id:a,crid:n,request_url:h,response:r,response_ms:i,received_ts:t,ttl:Bt.default_bid_ttl});u.logBidResponse(c)}}else{c=new z({bidder:Ut,price:0,gross:0,tag_id:"",request_url:h,response:e,response_ms:i,received_ts:t,ttl:0});u.logNoBidResponse(c)}u.incrementBidResponseCount(m)}catch(e){throw e.bidder=Ut,e}},error:function(e){try{u.incrementBidResponseCount(m);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(g,t),s={bidder:Ut,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(s)}catch(e){throw e.bidder=Ut,e}}})},bidderInfo:Bt}),ce.medianet=(qt="medianet",Zt="8CUW4K2MG",{formatRequest:us,send:function(c){var u="https://prebid.media.net/rtb/prebid?cid="+Zt,e=us(c.requests),t=ProperMedia.utils.objectValues(e.imps)||[],r=e.request_cnt,e={canonicalUrl:ms('link[rel="canonical"]',"href"),twitterUrl:ms('meta[property="og:url"]',"content"),ogUrl:ms('meta[name="twitter:url"]',"content")},e=ProperMedia.utils.mergeObject({domain:ye.domain,page:ye.bidder_page_url,ref:ye.referrer,canonical_url:ye.canonical_url,isTop:!0},e),e={id:Date.now().toString(),site:e,imp:t,ext:{customer_id:Zt.toString(),prebid_version:he.prebid_version,screen:{w:window.innerWidth,h:window.innerHeight}},tmax:1e3};he.schain&&(e.ext.schain=he.schain),(t=P.getUIdsObj())&&Object.keys(t).length&&ProperMedia.utils.deepSetValue(e,"ext.user_id",t),ie.cmpPresent&&(e.ext.consentString=ie.consentString,"boolean"==typeof ie.gdprApplies&&(e.ext.gdpr_applies=Number(ie.gdprApplies))),J.cmpPresent&&J.usPrivacy&&(e.ext.usp_applies=J.cmpApplies,e.ext.usp_consent_string=J.usPrivacy),me.mylog(u,qt),c.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+qt+".edge")||!1;S.ajax({url:u,method:"POST",requestType:"cors",bidder:qt,edge:t,data:JSON.stringify(e),success:function(e){try{var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);(e=ProperMedia.utils.safeJsonParse(e))&&e.bidList&&0!=e.bidList.length?(me.mylog(e,qt),e.bidList.map(function(e){var t=e.requestId||"",i=e.cpm||0,s=e.width||1,r=e.height||1,a=e.ad||"",n=e.creativeId||"",o=e.nurl||!1,d=1e3*e.ttl||Ft.default_bid_ttl,a=o?a+'<img src="'+o+'" />':a,d=new z({bidder:qt,size:s+"x"+r,price:parseFloat(i),gross:parseFloat(i),adcode:a,tag_id:t,crid:n,request_url:u,response:e,response_ms:l,received_ts:p,ttl:d});e.no_bid?c.logNoBidResponse(d):c.logBidResponse(d)})):(me.mylog("no medianet bids returned"),t=new z({bidder:qt,price:0,gross:0,tag_id:"",request_url:u,response:e,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(t)),c.incrementBidResponseCount(r)}catch(e){throw e.bidder=qt,e}},error:function(e){try{c.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:qt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(s)}catch(e){throw e.bidder=qt,e}}})},bidderInfo:Ft={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),ce.openx=(Jt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5},Wt="openx",Xt=!0,Ht=[ue.identityLink,ue.id5Id,ue.pubCommonId,ue.sharedId],{formatRequest:hs,send:function(y){var t,v=hs(y.requests),M=v.request_cnt,e={ju:ye.bidder_page_url,jr:ye.referrer,ch:j.charSet||j.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:!0,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,i,s=window,r=j,a=r.documentElement;if(e){try{s=window.top,r=window.top.document}catch(e){return}a=r.documentElement,i=r.body,t=s.innerWidth||a.clientWidth||i.clientWidth,i=s.innerHeight||a.clientHeight||i.clientHeight}else a=r.documentElement,t=s.innerWidth||a.clientWidth,i=s.innerHeight||a.clientHeight;return t+"x"+i}(!0),aus:"",auid:"",aumfs:"",dddid:"",divIds:"",be:1,bc:"hb_pb_3.0.1",nocache:(new Date).getTime()},i=[],s=[],r=[],a=[],n=[];Object.keys(v.data).forEach(function(e){e=v.data[e];i.push(e.sizes.join(",")),s.push(e.tag_id),r.push(1e3*e.price_floor),a.push(ProperMedia.utils.generateUUID()),n.push(encodeURIComponent(e.slot_div))}),e.aus=i.join("|"),e.auid=s.join(","),e.aumfs=r.join(","),e.dddid=a.join(","),e.divIds=n.join(","),ProperMedia.utils.getDNT()&&(e.ns=1),he.schain&&(e.schain=ProperMedia.utils.formatSupplyChainString(he.schain)),ie.cmpPresent&&(void 0!==ie.consentString&&(e.gdpr_consent=ie.consentString),void 0!==ie.gdprApplies&&(e.gdpr=Number(ie.gdprApplies)),e.x_gdpr_f=1),J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy),t=e,Ht.forEach(function(e){ProperMedia.utils.deepAccess(e,"config.enabled")&&ProperMedia.utils.deepAccess(e,"storage.name")&&(t[e.storage.name]=e.getValue())});var e=t,w="https://propermedia-d.openx.net/w/1.0/arj?"+ProperMedia.utils.formatQueryString(e,!0);me.mylog(w,Wt),y.incrementRequestsSent(M);var I=ProperMedia.utils.getTimestampMs(),x=new Date,o=ProperMedia.utils.deepAccess(he,"bidders.header."+Wt+".edge")||!1;S.ajax({url:w,requestType:"cors",bidder:Wt,edge:o,cache:!0,data:e,success:function(e){try{me.mylog(e,Wt);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(I,t),s=ProperMedia.utils.safeJsonParse(e)||{};if(s&&s.ads&&s.ads.ad&&0<Object.keys(s.ads.ad).length)for(var r=s.ads.ad||[],a=0;a<r.length;a++){var n=r[a]||{},o=n.creative[0]||{},d=Number(n.pub_rev)/1e3||0,p=n.html||"",l=o.width||1,c=o.height||1,u=n.adunitid||0,m=n.adid||"";_=n,b=x,f=void 0,Xt&&(Xt=!1,(b={bd:+new Date-b,bp:_.pub_rev,br:"0",bs:ProperMedia.utils.getPageDomain(),bt:3e3,ts:_.ts}).br=b.bt<b.bd?"t":"p",_=(_&&_.creative&&_.creative[0]&&_.creative[0].tracking&&_.creative[0].tracking.impression||"").match(/([^?]+\/)ri\?/),(f=_&&1<_.length?_[1]+"bo?"+ProperMedia.utils.formatQueryString(b,!0):f)&&A.add({type:"image",url:f,bidder:Wt+"_registerBeacon"}));v.data[u].price_floor;var h='<div id="'+v.data[u].slot_div+'"></div>',g=new z({bidder:Wt,size:l+"x"+c,price:d,gross:d,adcode:p=h+p,tag_id:u,adid:m,request_url:w,response:n,response_ms:i,received_ts:t,ttl:Jt.default_bid_ttl});y.logBidResponse(g)}else{g=new z({bidder:Wt,price:0,gross:0,tag_id:"",request_url:w,response:e,response_ms:i,received_ts:t,ttl:0});y.logNoBidResponse(g)}!function(e){var t="//u.openx.net/w/1.0/pd";e&&(e.ads&&e.ads.pixels?t=e.ads.pixels:e.pixels&&(t=e.pixels));e="";ie.cmpPresent&&(e+="?gdpr="+(ie.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(ie.consentString||""));J.cmpPresent&&J.usPrivacy&&(e+=(0<e.length?"&":"?")+"us_privacy="+encodeURIComponent(J.usPrivacy));A.add({type:"iframe",url:t+e,bidder:Wt})}(s),y.incrementBidResponseCount(M)}catch(e){throw e.bidder=Wt,e}var _,b,f},error:function(e){try{y.incrementBidResponseCount(M);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(I,t),s={bidder:Wt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};y.logBidResponseError(s)}catch(e){throw e.bidder=Wt,e}}})},bidderInfo:Jt}),ce.pubmatic=(Yt={rev_share:.81,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5},Gt="pubmatic",Qt="https://hbopenbid.pubmatic.com/translator?source=prebid-client",Z.ready(function(){var e="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p=109126";ie.cmpPresent&&(e+="&gdpr="+(ie.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(ie.consentString||"")),J.cmpPresent&&J.usPrivacy&&(e+="&us_privacy="+encodeURIComponent(J.usPrivacy)),A.add({type:"iframe",url:e,bidder:Gt})}),{formatRequest:gs,send:function(g){var e=gs(g.requests),t=ProperMedia.utils.objectValues(e.imps)||[],_=e.request_cnt;if(0==t.length)return!1;e={id:""+(new Date).getTime(),at:1,cur:["USD"],imp:t,site:{page:ye.bidder_page_url,domain:ye.domain,ref:ye.referrer,publisher:{id:109126..toString()}},device:{ua:navigator.userAgent,js:1,h:parseInt(ye.height),w:parseInt(ye.width),dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,language:navigator.language,geo:{}},user:{geo:{}},ext:{wrapper:{wp:"pbjs",wv:"prebid_prebid_"+he.prebid_version,transactionId:ProperMedia.utils.generateUUID()}}},1==he.testing_mode.ids&&(e.test=1),(t=P.getEidsArray())&&t.length&&ProperMedia.utils.deepSetValue(e,"user.eids",t),he.schain&&(e.source={ext:{schain:he.schain}}),ie.cmpPresent&&(e.user.ext={consent:ie.consentString||""},e.regs={ext:{gdpr:ie.gdprApplies?1:0}}),J.cmpPresent&&J.usPrivacy&&(e.regs=e.regs||{},e.regs.ext=e.regs.ext||{},e.regs.ext.us_privacy=J.usPrivacy),me.mylog(Qt,Gt),g.incrementRequestsSent(_);var b=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+Gt+".edge")||!1;S.ajax({method:"POST",url:Qt,requestType:"cors",bidder:Gt,edge:t,data:JSON.stringify(e),success:function(e){try{e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t);if(e&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length)for(var s=0;s<e.seatbid.length;s++)if(e.seatbid[s].bid)for(var r=0;r<e.seatbid[s].bid.length;r++){var a=e.seatbid[s].bid[r],n=a.impid,o=(parseFloat(a.price)||0).toFixed(2),d=a.w||0,p=a.h||0,l=a.cid||"",c=a.crid||"",u=a.adm||"",m=a.adomain||[],h=new z({bidder:Gt,size:d+"x"+p,price:parseFloat(o*Yt.rev_share),gross:parseFloat(o),adcode:u,tag_id:n,cid:l,crid:c,adomain:m,request_url:Qt,response:a,response_ms:i,received_ts:t,ttl:Yt.default_bid_ttl});g.logBidResponse(h)}else{h=new z({bidder:Gt,price:0,gross:0,tag_id:"",request_url:Qt,response:e.seatbid[s],response_ms:i,received_ts:t,ttl:0});g.logNoBidResponse(h)}else{h=new z({bidder:Gt,price:0,gross:0,tag_id:"",request_url:Qt,response:e,response_ms:i,received_ts:t,ttl:0});g.logNoBidResponse(h)}g.incrementBidResponseCount(_)}catch(e){throw e.bidder=Gt,e}},error:function(e){try{g.incrementBidResponseCount(_);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),s={bidder:Gt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(s)}catch(e){throw e.bidder=Gt,e}}})},bidderInfo:Yt}),ce.rhythmone=($t="2.1",Kt=Date.now(),ei=null,ti="https://hbevents.1rx.io/audit",ii=[2,3,5,6],si=["video/mp4","application/javascript"],ri=[1,2,3,4],ai=[1,2],ni=[1,2],{formatRequest:_s,send:function(h){var g=h.bidder,_=he.bidder_info[g]||_,e=(ProperMedia.utils.deepAccess(he,"bidders.header."+g+".site_id")||"").toString().split("-")||["",""];if(!(ei=_e.isMobile()&&2==e.length?e[1]:e[0]))return me.mylog("Error: RhythmOne Site ID is Required."),!1;var b=_s(h.requests,g,_),f=b.imps||[],y=b.imps.length,t=/(^v|(\.0)+$)/gi,v="https://tag.1rx.io/rmp/{placementId}/0/{path}?z={zone}";v=(v=(v=v.replace(/\{placementId\}/i,ei)).replace(/\{zone\}/i,"1r")).replace(/\{path\}/i,"mvo"),v+="&hbv="+he.prebid_version.replace(t,"")+","+$t.replace(t,""),e={id:ProperMedia.utils.generateUUID(),imp:f,site:{domain:ye.domain,page:ye.bidder_page_url,ref:ye.referrer},device:{ua:navigator.userAgent,ip:"",dnt:ProperMedia.utils.getDNT()?1:0},at:1,tmax:550},he.schain&&(e.source={ext:{schain:he.schain}}),ie.cmpPresent&&(e.user={ext:{consent:ie.consentString}},"boolean"==typeof ie.gdprApplies&&(e.regs={ext:{gdpr:Number(ie.gdprApplies)}})),me.mylog(v,g),h.incrementRequestsSent(y),Kt=Date.now();var M=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+g+".edge")||!1;S.ajax({url:v,method:"POST",requestType:"cors",bidder:g,edge:t,data:JSON.stringify(e),success:function(e){try{me.mylog(e,g),e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(M,t);if(e&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length)for(var s=0;s<e.seatbid.length;s++)for(var r=0;r<e.seatbid[s].bid.length;r++){var a=e.seatbid[s].bid[r],n=(a.impid,a.w||1),o=a.h||1,d=a.price||0,p=a.adm||"",l=a.crid||"",c=a.adomain||[];if(1==n&&1==o)try{n=("display"==_.demand_type?f[0].banner.format[0]:f[0].video).w,o=("display"==_.demand_type?f[0].banner.format[0]:f[0].video).h}catch(e){}else 1280==parseInt(n)&&760==parseInt(o)&&(n=_e.isMobile()?400:640,o=_e.isMobile()?300:480);var u,m=new z({bidder:g,size:n+"x"+o,price:parseFloat(d),gross:parseFloat(d),tag_id:n+"x"+o,crid:l,adomain:c,request_url:v,response:a,response_ms:i,received_ts:t,ttl:_.default_bid_ttl});"video"==_.demand_type?(m.type="video",m.vast_tag=a.nurl||"",u=ProperMedia.utils.parseVastVpaid(m.vast_tag),m.vast_type=u.vast_type,m.vpaid=u.vpaid,m.video_type=_.video_type):m.adcode=p,h.logBidResponse(m)}else{m=new z({bidder:g,price:0,gross:0,tag_id:"",request_url:v,response:e,response_ms:i,received_ts:t,ttl:0});h.logNoBidResponse(m)}!function(e,t){var i=[],s=[],r=ProperMedia.utils.deepAccess(he,"bidders.header."+t+".site_id");Object.keys(e).forEach(function(e){i.push(e),s.push(r)});var a={doc_version:1,doc_type:"Prebid Audit",placement_id:s.join(",").replace(/[,]+/g,",").replace(/^,|,$/g,"")},n="undefined"!=typeof window?window:{document:{location:{href:""}}},o=n.document.location.ancestorOrigins,d=[],e=ti+"?";o&&0<o.length&&(a.ancestor_origins=o[o.length-1]);a.popped=null!==n.opener?1:0,a.framed=n.top===n?0:1;try{a.url=n.top.document.location.href.toString()}catch(e){a.url=n.document.location.href.toString()}try{a.prebid_version=he.prebid_version.toString(),a.prebid_timeout=1200}catch(e){}a.response_ms=Date.now()-Kt,a.placement_codes=i.join(","),a.bidder_version=$t,ie.cmpPresent&&(a.gdpr_consent=ie.consentString,a.gdpr="boolean"==typeof ie.gdprApplies&&ie.gdprApplies);Object.keys(a).forEach(function(e){d.push(encodeURIComponent(e)+"="+encodeURIComponent("object"==typeof a[e]?JSON.stringify(a[e]):a[e]))}),d.sort(),A.add({type:"image",url:e+d.join("&"),bidder:t})}(b,g),h.incrementBidResponseCount(y)}catch(e){throw e.bidder=g,e}},error:function(e){try{h.incrementBidResponseCount(y);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(M,t),s={bidder:g,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(s)}catch(e){throw e.bidder=g,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:35e4}}),ce.rubicon=(oi=8777,di={"468x60":1,"728x90":2,"120x90":5,"120x600":8,"160x600":9,"300x600":10,"200x200":13,"250x250":14,"300x250":15,"336x280":16,"300x100":19,"980x120":31,"250x360":32,"180x500":33,"980x150":145,"468x400":37,"930x180":38,"750x100":39,"750x200":40,"750x300":41,"320x50":43,"300x50":44,"300x300":48,"1024x768":53,"300x1050":54,"970x90":55,"970x250":57,"1000x90":58,"320x80":59,"320x150":60,"1000x1000":61,"580x500":64,"640x480":65,"930x600":66,"320x480":67,"1800x1000":68,"320x320":72,"320x160":73,"980x240":78,"980x300":79,"980x400":80,"480x300":83,"970x310":94,"970x210":96,"480x320":101,"768x1024":102,"480x280":103,"250x800":105,"320x240":108,"1000x300":113,"320x100":117,"800x250":125,"200x600":126,"980x600":144,"320x250":159,"250x600":179,"600x300":195,"640x360":198,"640x200":199,"1030x590":213,"980x360":214,"320x180":229,"580x400":232,"400x600":257},Object.keys(di).forEach(function(e){di[di[e]]=e}),Z.ready(function(){var e="";ie.cmpPresent&&("boolean"==typeof ie.gdprApplies?e+="?gdpr="+Number(ie.gdprApplies)+"&gdpr_consent="+ie.consentString:e+="?gdpr_consent="+ie.consentString),J.cmpPresent&&J.usPrivacy&&(e+=(0<e.length?"&":"?")+"us_privacy="+encodeURIComponent(J.usPrivacy)),A.add({type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+e,bidder:"rubicon"})}),{formatRequest:bs,send:function(y){var v=y.bidder,M=he.bidder_info[v]||M,e=bs(y.requests,v),w=ProperMedia.utils.objectValues(e.imps)||[],I=e.request_cnt;if(0==I)return!1;var i=function(r){if(1===r.length)return r[0];var s=r.reduce(function(t,i,s){return Object.keys(i).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(r.length)),t[e].splice(s,1,i[e])}),t},{}),a=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(s).forEach(function(e){var t=s[e].join(";"),i=t.match(a);s[e]=i?i[1]:t}),s}(w);be.pubcid&&(i.ppuid=be.pubcid),(e=P.getEidsArray())&&e.length&&e.forEach(function(t){try{"adserver.org"===t.source?(i.tpid_tdid=t.uids[0].id,i["eid_adserver.org"]=t.uids[0].id):"liveintent.com"===t.source?(i["tpid_liveintent.com"]=t.uids[0].id,i["eid_liveintent.com"]=t.uids[0].id,t.ext&&Array.isArray(t.ext.segments)&&t.ext.segments.length&&(i["tg_v.LIseg"]=t.ext.segments.join(","))):"liveramp.com"===t.source?i.x_liverampidl=t.uids[0].id:"sharedid.org"===t.source?i["eid_sharedid.org"]=t.uids[0].id+"^"+t.uids[0].atype+"^"+(t.uids[0].ext&&t.uids[0].ext.third||""):"id5-sync.com"===t.source?i["eid_id5-sync.com"]=t.uids[0].id+"^"+t.uids[0].atype+"^"+(t.uids[0].ext&&t.uids[0].ext.linkType||""):i["eid_"+t.source]=t.uids[0].id+"^"+(t.uids[0].atype||"")}catch(e){me.mylog("Rubicon: error reading eid:"+t+". "+JSON.stringify(e))}}),ie.cmpPresent&&("boolean"==typeof ie.gdprApplies&&(i.gdpr=Number(ie.gdprApplies)),i.gdpr_consent=ie.consentString),J.cmpPresent&&J.usPrivacy&&(i.us_privacy=encodeURIComponent(J.usPrivacy)),he.schain&&(i.rp_schain=ProperMedia.utils.formatSupplyChainString(he.schain)),i.slots=w.length,i.rand=Math.random(),e=i,t=/^tg_v/,s=/^tg_i/,(r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return s.test(e)})).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"])).concat(Object.keys(e).filter(function(e){return-1===r.indexOf(e)}));var t,s,r,x="https://fastlane.rubiconproject.com/a/api/fastlane.json?"+ProperMedia.utils.formatQueryString(i,!0);me.mylog(x,v),y.incrementRequestsSent(I);var j=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+v+".edge")||!1;S.ajax({url:x,requestType:"cors",bidder:v,edge:e,success:function(e){try{me.mylog(e,v);var t=ProperMedia.utils.safeJsonParse(e)||{};if(t&&"object"==typeof t){var i=ProperMedia.utils.getTimestampMs(),s=ProperMedia.utils.calcResponseMs(j,i),r=t.ads||[];if(Array.isArray(r)&&0<r.length)for(var a=0;a<r.length;a++){var n,o,d,p,l,c,u,m,h,g,_,b=r[a],f=w&&w[a]&&w[a]["tg_fl.eid"]?w[a]["tg_fl.eid"]:"";"ok"===b.status?(n=b.cpm||0,o=b.status||"",d=b.script||"",p=b.type||"",l=b.size_id||"",c=b.dealid||"",u=b.crid||"",m=b.adomain||[],t.zoneId,h=ProperMedia.utils.deepAccess(b,"ext.bidder.rp.advid")||"",g=di[l]||"unknown","script"==p&&d&&(d="<script>"+d+"<\/script>"),_={},void 0!==b.advertiser&&(_.advertiser=b.advertiser),void 0!==b.seat&&(_.seat=b.seat),void 0!==b.creative_id&&(_.creative_id=b.creative_id),void 0!==b.campaign_id&&(_.campaign_id=b.campaign_id),void 0!==b.ad_id&&(_.ad_id=b.ad_id),b=new z({bidder:v,size:g,price:parseFloat(n*M.rev_share),gross:parseFloat(n),adcode:d,tag_id:f,adid:h,dealid:c,crid:u,adomain:m,request_url:x,response:b,response_ms:s,received_ts:i,ttl:M.default_bid_ttl}),"no-ads"!==o?y.logBidResponse(b):y.logNoBidResponse(b)):void 0!==b.reason&&me.mylog("rubicon resposne status: "+b.reason)}else{b=new z({bidder:v,price:0,gross:0,tag_id:"",request_url:x,response:t,response_ms:s,received_ts:i,ttl:0});y.logNoBidResponse(b)}}else{b=new z({bidder:v,price:0,gross:0,tag_id:"",request_url:x,response:t,response_ms:s,received_ts:i,ttl:0});y.logNoBidResponse(b)}y.incrementBidResponseCount(I)}catch(e){throw e.bidder=v,e}},error:function(e){try{y.incrementBidResponseCount(I);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(j,t),s={bidder:v,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};y.logBidResponseError(s)}catch(e){throw e.bidder=v,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),ce.sharethrough=(li="sharethrough",{formatRequest:fs,send:function(_){var t=fs(_.requests);Object.keys(t).forEach(function(e){!function(e){var u=e.pkey,m=e.size,e={placement_key:u,bidId:u,bidfloor:Es(li,m),consent_required:!1,instant_play_capable:function(){var e=navigator.userAgent;if(!e)return!1;var t=/Android/i.test(e),i=/iPhone|iPad|iPod/i.test(e),s=parseInt((/Chrome\/([0-9]+)/.exec(e)||[0,0])[1]),r=parseInt((/CriOS\/([0-9]+)/.exec(e)||[0,0])[1]),e=parseInt((/Version\/([0-9]+)/.exec(e)||[0,0])[1]);return!!(t&&53<=s||i&&(10<=e||53<=r)||!t&&!i)}(),hbSource:"prebid",hbVersion:"3.0.0",strVersion:"3.2.0"};ProperMedia.utils.mergeObject(e,function(){var e={},t=ue.identityLink.getValue();t&&(e.idluid=t);t=ue.sharedId.getValue();t&&(e.shduid=t);t=ue.id5Id.getValue();t&&(e.id5uid={id:t},(i=ProperMedia.utils.deepAccess(ue.identityLink,"idObj.id5id.ext.linkType"))&&(e.id5uid.linkType=i));var i=be.pubcid;i&&(e.pubcid=i);return e}()),ie.cmpPresent&&(ie.consentString&&(e.consent_string=ie.consentString),e.consent_required=!!ie.gdprApplies);J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy);he.schain&&(e.schain=JSON.stringify(he.schain));var e=ProperMedia.utils.formatQueryString(e,!0),h="https://btlr.sharethrough.com/WYu2BXv1/v1?"+e;me.mylog(h,li),_.incrementRequestsSent(1);var g=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+li+".edge")||!1;S.ajax({url:h,method:"GET",requestType:"cors",bidder:li,edge:e,success:function(e){try{me.mylog(e,li);var t,i,s,r,a,n,o,d=ProperMedia.utils.getTimestampMs(),p=ProperMedia.utils.calcResponseMs(g,d),l=ProperMedia.utils.safeJsonParse(e);l&&0<l.creatives.length?(t=l.creatives[0],i=l.bidId||"",s=t.cpm||0,r="str_response_"+i,a=ProperMedia.utils.b64EncodeUnicode(JSON.stringify(l)),n='<div data-str-native-key="'+u+'" data-stx-response-name="'+r+'"></div>',n+="<script>var "+r+' = "'+a+'"<\/script>',n+='<script src="//native.sharethrough.com/assets/sfp.js"><\/script>',o=new z({bidder:li,size:m,price:parseFloat(s),gross:parseFloat(s),adcode:n,tag_id:i,request_url:h,response:l,response_ms:p,received_ts:d,ttl:pi.default_bid_ttl}),_.logBidResponse(o)):(o=new z({bidder:li,price:0,gross:0,tag_id:"",request_url:h,response:l,response_ms:p,received_ts:d,ttl:0}),_.logNoBidResponse(o)),(c=l)&&c.cookieSyncUrls&&(c=c.cookieSyncUrls.map(function(e){return{type:"image",url:e,bidder:li}}),A.add(c)),_.incrementBidResponseCount(1)}catch(e){throw e.bidder=li,e}var c},error:function(e){try{_.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(g,t),s={bidder:li,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};_.logBidResponseError(s)}catch(e){throw e.bidder=li,e}}})}(t[e])})},bidderInfo:pi={rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:36e4}}),ce.smart_adserver=(ci="https://prg.smartadserver.com/prebid/v1",{formatRequest:ys,send:function(h){var g=h.bidder,_=he.bidder_info[g]||_,e=ProperMedia.utils.deepAccess(he,"bidders.header."+g+".site_id")||"";if(!e)return me.mylog("Error: Smart Ad Server site is required."),!1;var i={siteid:e,currencyCode:"USD",ckid:0,pageDomain:ye.domain,prebidVersion:he.prebid_version,timeout:1e3,schain:ProperMedia.utils.formatSupplyChainString(he.schain)};(e=P.getEidsArray())&&e.length&&(i.eids=e),ie.cmpPresent&&(i.gdpr_consent=ie.consentString,i.gdpr=ie.gdprApplies),J.cmpPresent&&J.usPrivacy&&(i.us_privacy=J.usPrivacy),e=ys(h.requests,g,_),(ProperMedia.utils.objectValues(e)||[]).forEach(function(e){!function(e){var t=ProperMedia.utils.mergeObject({},i,e);me.mylog(ci,g);var u="video"==_.demand_type?1:t.sizes.length;h.incrementRequestsSent(u);var m=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+g+".edge")||!1;S.ajax({url:ci,method:"POST",requestType:"cors",bidder:g,edge:e,data:JSON.stringify(t),success:function(e){try{var t,i,s,r,a,n,o,d,p,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(m,l);(e=ProperMedia.utils.safeJsonParse(e))?(me.mylog(e,g),t=e.tag_id||"",i=e.cpm||0,s=e.width||1,r=e.height||1,a=e.dealId||"",n=e.creativeId||"",o=1e3*e.ttl||_.default_bid_ttl,p=new z({bidder:g,size:s+"x"+r,price:parseFloat(i),gross:parseFloat(i),tag_id:t,dealid:a,crid:n,request_url:ci,response:e,response_ms:c,received_ts:l,ttl:o}),"video"==_.demand_type?(p.type="video",p.vast_tag=e.adUrl,d=ProperMedia.utils.parseVastVpaid(p.vast_tag),p.vast_type=d.vast_type,p.vpaid=d.vpaid,p.video_type=_.video_type):p.adcode=e.ad,e.isNoAd?h.logNoBidResponse(p):h.logBidResponse(p)):(me.mylog("No Smart Ad Server bids returned"),p=new z({bidder:g,price:0,gross:0,tag_id:"",request_url:ci,response:e,response_ms:c,received_ts:l,ttl:0}),h.logNoBidResponse(p)),h.incrementBidResponseCount(u)}catch(e){throw e.bidder=g,e}},error:function(e){try{h.incrementBidResponseCount(u);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t),s={bidder:g,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(s)}catch(e){throw e.bidder=g,e}}})}(e)})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:12e4}}),ce.sonobi={formatRequest:vs,send:function(l){var c=l.bidder,u=he.bidder_info[c]||u,m=vs(l.requests,c),r=m.request_cnt;if(0==r)return!1;var e={key_maker:"",ref:ye.bidder_page_url,s:ProperMedia.utils.generateUUID(),pv:ProperMedia.utils.generateUUID(),vp:_e.device_type,lib_name:"prebid",lib_v:he.prebid_version,us:1,ius:1},a={};Object.keys(m.imps).forEach(function(e){var t=m.imps[e],i=t.bidId,s=t.floor,t="display"==u.demand_type?t.sizes.join(","):"";a[e]=i+"|"+t+"|"+s}),e.key_maker=JSON.stringify(a);var t=P.getUIdsObj();t&&Object.keys(t).length&&(e.userid=JSON.stringify(t)),he.schain&&(e.schain=JSON.stringify(he.schain)),ie.cmpPresent&&(e.gdpr=ie.gdprApplies.toString(),ie.consentString&&(e.consent_string=ie.consentString)),J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy);var h="https://apex.go.sonobi.com/trinity.json?"+ProperMedia.utils.formatQueryString(e,!0);me.mylog(h,c),l.incrementRequestsSent(r);var g=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+c+".edge")||!1;S.ajax({url:h,method:"GET",requestType:"cors",bidder:c,edge:e,success:function(n){try{me.mylog(n,c);var o,e,d=ProperMedia.utils.getTimestampMs(),p=ProperMedia.utils.calcResponseMs(g,d);(n=ProperMedia.utils.safeJsonParse(n)||{})&&n.slots&&0<Object.keys(n.slots).length?(o=n.sbi_dc||"",Object.keys(n.slots).forEach(function(e){var t,i,s,r,a=n.slots[e];0<Object.keys(a).length?(a.sbi_dozer,t=a.sbi_aid||"",a.sbi_ct,s=e,r=a.sbi_mouse,i=a.sbi_size,"video"==u.demand_type&&(i=m.imps[e].sizes[0]),r=new z({bidder:c,size:i,price:parseFloat(r),gross:parseFloat(r),tag_id:s,request_url:h,response:a,response_ms:p,received_ts:d,ttl:u.default_bid_ttl}),"video"==u.demand_type?(r.type="video",r.vast_tag="https://"+o+"apex.go.sonobi.com/vast.xml?vid="+t+"&ref="+encodeURIComponent(ye.bidder_page_url),s=ProperMedia.utils.parseVastVpaid(r.vast_tag),r.vast_type=s.vast_type,r.vpaid=s.vpaid,r.video_type=u.video_type):r.adcode='<script type="text/javascript" src="https://'+o+"apex.go.sonobi.com/sbi.js?aid="+t+"&as=null&ref="+encodeURIComponent(ye.bidder_page_url)+'"><\/script>',l.logBidResponse(r)):(r=new z({bidder:c,price:0,gross:0,tag_id:"",request_url:h,response:a,response_ms:p,received_ts:d,ttl:0}),l.logNoBidResponse(r))}),i=c,(t=n)&&t.sbi_px&&(t=t.sbi_px.map(function(e){return{type:e.type,url:e.url,bidder:i}}),A.add(t))):(e=new z({bidder:c,price:0,gross:0,tag_id:"",request_url:h,response:n,response_ms:p,received_ts:d,ttl:0}),l.logNoBidResponse(e)),l.incrementBidResponseCount(r)}catch(e){throw e.bidder=c,e}var t,i},error:function(e){try{l.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(g,t),s={bidder:c,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};l.logBidResponseError(s)}catch(e){throw e.bidder=c,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4}},ce.sovrn=(ui={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:9e4},mi="sovrn",hi="https://ap.lijit.com/rtb/bid?src=prebid_prebid_"+he.prebid_version,{formatRequest:Ms,send:function(g){var e=(i=Ms(g.requests)).imps||[],r=i.request_cnt;if(0==e.length)return!1;var t,i={id:ProperMedia.utils.generateUUID(),imp:e,site:{domain:ye.domain,page:ye.bidder_page_url}},s=[];(e=P.getEidsArray())&&e.length&&(e.forEach(function(e){e.uids&&e.uids[0]&&("criteo.com"===e.source&&(t=e.uids[0].id),s.push({source:e.source,uid:e.uids[0].id}))}),ProperMedia.utils.deepSetValue(i,"user.ext.eids",e),ProperMedia.utils.deepSetValue(i,"user.ext.tpid",s),t&&ProperMedia.utils.deepSetValue(i,"user.ext.prebid_criteoid",t)),he.schain&&(i.source={ext:{schain:he.schain}}),ie.cmpPresent&&(i.regs={ext:{gdpr:Number(ie.gdprApplies)}},i.user={ext:{consent:ie.consentString}}),J.cmpPresent&&J.usPrivacy&&(i.regs=i.regs||{},i.regs.ext=i.regs.ext||{},i.regs.ext.us_privacy=J.usPrivacy),me.mylog(hi,mi),g.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+mi+".edge")||!1;S.ajax({url:hi,method:"POST",requestType:"cors",bidder:mi,edge:e,data:JSON.stringify(i),success:function(e){try{me.mylog(e,mi);var u,t,m=ProperMedia.utils.getTimestampMs(),h=ProperMedia.utils.calcResponseMs(a,m);(e=ProperMedia.utils.safeJsonParse(e)||{})&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length?(u=e.seatbid[0].bid,Object.keys(u).forEach(function(e){var t=u[e],i=t.impid.split("|")||["",""],s=i[0]||"",r=i[1]||"",a=t.cid||"",n=t.crid||"",o=t.dealid||"",d=t.adomain||[],p=t.price||0,l=t.adm||"",c=t.nurl||"",e=1e3*ProperMedia.utils.deepAccess(t,"ext.ttl")||ui.default_bid_ttl;l&&(l=decodeURIComponent(l),c&&(l+='<img src="'+c+'" width=1 height=1>'));i={},c=ProperMedia.utils.getUrlParameters(c);void 0!==c.seatid&&(i.seatid=c.seatid),void 0!==c.campaignid&&(i.campaignid=c.campaignid),void 0!==c.bannerid&&(i.bannerid=c.bannerid),void 0!==c.cb&&(i.cb=c.cb),void 0!==c.rpid&&(i.rpid=c.rpid);e=new z({bidder:mi,size:r,price:parseFloat(p),gross:parseFloat(p),adcode:l,tag_id:s,cid:a,crid:n,dealid:o,adomain:d,request_url:hi,response:t,response_ms:h,received_ts:m,ttl:e});g.logBidResponse(e)})):(me.mylog("no sovrn bids found"),t=new z({bidder:mi,price:0,gross:0,tag_id:"",request_url:hi,response:e,response_ms:h,received_ts:m,ttl:0}),g.logNoBidResponse(t)),function(e){try{var t;e&&e.ext&&e.ext.iid&&(t="",ie&&ie.cmpPresent&&ie.gdprApplies&&"string"==typeof ie.consentString&&(t+="&gdpr_consent="+ie.consentString),J.cmpPresent&&J.usPrivacy&&(t+="&us_privacy="+J.usPrivacy),A.add({type:"iframe",url:"//ap.lijit.com/beacon?informer="+e.ext.iid+t,bidder:mi}))}catch(e){throw e.bidder=mi,e}}(e),g.incrementBidResponseCount(r)}catch(e){throw e.bidder=mi,e}},error:function(e){try{g.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:mi,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(s)}catch(e){throw e.bidder=mi,e}}})},bidderInfo:ui}),ce.teads=(gi={rev_share:1,demand_type:"display",bid_grouping:"page",div_insertion:1,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},_i="https://a.teads.tv/hb/bid-request",bi="teads",fi={GDPR_APPLIES_PUBLISHER:12,GDPR_APPLIES_GLOBAL:11,GDPR_DOESNT_APPLY:0,CMP_NOT_FOUND_OR_ERROR:22},Z.ready(function(){var e,t="";ie&&(e={status:Is(ie.gdprApplies,ie.vendorData),consent:ie.consentString},t="?gdprIab="+encodeURIComponent(JSON.stringify(e))),A.add({type:"iframe",url:"https://sync.teads.tv/iframe"+t,bidder:bi})}),{formatRequest:ws,send:function(h){var g=ws(h.requests),e=ProperMedia.utils.objectValues(g.data)||[],_=g.request_cnt,t={referrer:ye.bidder_page_url,data:e,deviceWidth:ye.width};he.schain&&(t.schain=he.schain),ie&&(i="boolean"==typeof ie.gdprApplies,e="string"==typeof ie.consentString,i=i?Is(ie.gdprApplies,ie.vendorData,ie.apiVersion):fi.CMP_NOT_FOUND_OR_ERROR,t.gdpr_iab={consent:e?ie.consentString:"",status:i,apiVersion:ie.apiVersion}),J.cmpPresent&&J.usPrivacy&&(t.us_privacy=J.usPrivacy),me.mylog(_i,bi),h.incrementRequestsSent(_);var b=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(he,"bidders.header."+bi+".edge")||!1;S.ajax({url:_i,method:"POST",requestType:"cors",bidder:bi,edge:i,data:JSON.stringify(t),success:function(e){try{e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t);if(e&&e.responses&&0<e.responses.length){me.mylog(e,bi);for(var s=0;s<e.responses.length;s++){var r=e.responses[s],a=r.bidId||"",n=r.width||1,o=r.height||1,d=r.cpm||0,p=r.ad||"",l=r.creativeId||"",c=1e3*(r.ttl||120),u="1x1";"1x1"==(u=-1!==g.data[a].sizes.indexOf(n+"x"+o)?n+"x"+o:u)&&(u=g.sizes[a].pop()||u);var p=(1==he.dfp_per_slot&&0==ye.isolated?'<script>try { var slot_div = window.top.document.getElementById("{PROPER_SLOT_DIV_ID}-iframe").contentWindow.document.getElementById("{PROPER_SLOT_DIV_ID}"); var div = document.createElement(\'div\'); div.setAttribute("id", "'+g.data[a].adUnitCode+'"); slot_div.appendChild(div); } catch(e) { console.error(e); }<\/script>':'<script>try { var slot_div = window.top.document.getElementById("{PROPER_SLOT_DIV_ID}"); var div = document.createElement(\'div\'); div.setAttribute("id", "'+g.data[a].adUnitCode+'"); slot_div.appendChild(div); } catch(e) { console.error(e); }<\/script>')+p,m=new z({bidder:bi,size:u,price:parseFloat(d),gross:parseFloat(d),adcode:p,tag_id:a,crid:l,request_url:_i,response:r,response_ms:i,received_ts:t,ttl:c});h.logBidResponse(m)}}else{me.mylog("no teads bids returned");m=new z({bidder:bi,price:0,gross:0,tag_id:"",request_url:_i,response:e,response_ms:i,received_ts:t,ttl:0});h.logNoBidResponse(m)}h.incrementBidResponseCount(_)}catch(e){throw e.bidder=bi,e}},error:function(e){try{h.incrementBidResponseCount(_);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),s={bidder:bi,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(s)}catch(e){throw e.bidder=bi,e}}})},bidderInfo:gi}),ce.triplelift=(yi="https://tlx.3lift.com/header/auction",vi={identityLink:{adapter:ue.identityLink,valuePath:"idl_env",rtiPartner:"idl"}},Z.ready(function(){var e=[];ie.cmpPresent&&(ie.gdprApplies&&e.push("gdpr="+encodeURIComponent(ie.gdprApplies)),ie.consentString&&e.push("cmp_cs="+encodeURIComponent(ie.consentString))),J.cmpPresent&&J.usPrivacy&&e.push("us_privacy="+encodeURIComponent(J.usPrivacy)),A.add({type:"iframe",url:"https://eb2.3lift.com/sync?"+e.join("&"),bidder:"triplelift"})}),{send:function(f){var y=f.bidder,v=he.bidder_info[y]||v,M=xs(f.requests,y,v),e=ProperMedia.utils.objectValues(M.imps)||[],w=M.request_cnt;if(0==e.length)return!1;var t={imp:e},r=[];Object.keys(vi).forEach(function(e){var t,i,s=vi[e];ProperMedia.utils.deepAccess(s,"adapter.config.enabled")&&(t=r,i=s.adapter.getValue(),e=s.adapter.source,s=s.rtiPartner,i&&t.push({source:e,uids:[{id:i,ext:{rtiPartner:s}}]}))}),0<r.length&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",r);var i=yi;i+="?lib=prebid",i+="&v="+he.prebid_version,i+="&referrer="+encodeURIComponent(ye.bidder_page_url),i+="&tmax=1200",ie.cmpPresent&&(void 0!==ie.gdprApplies&&(i+="&gdpr="+!!ie.gdprApplies),void 0!==ie.consentString&&(i+="&cmp_cs="+ie.consentString)),J.cmpPresent&&J.usPrivacy&&(i+="&us_privacy="+J.usPrivacy),he.schain&&(t.ext={schain:he.schain}),me.mylog(i,y),f.incrementRequestsSent(w);var I=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+y+".edge")||!1;S.ajax({url:i,requestType:"cors",method:"POST",bidder:y,edge:e,data:JSON.stringify(t),success:function(e){try{me.mylog(e,y);var t=ProperMedia.utils.safeJsonParse(e)||{},i=ProperMedia.utils.getTimestampMs(),s=ProperMedia.utils.calcResponseMs(I,i);if(t&&t.bids&&0<t.bids.length)for(var r=0;r<t.bids.length;r++){var a=t.bids[r],n=a.imp_id||0,o=a.cpm||0,d=a.ad||"",p=a.width||1,l=a.height||1,c=(a.iurl,a.crid||""),u=a.adomain||[],m=a.advertiser_name||"",h="1x1";"1x1"==(h=-1!==M.tag_sizes[n].indexOf(p+"x"+l)?p+"x"+l:h)&&(h=M.tag_sizes[n].pop()||h);var g,_=parseFloat(o),b=new z({bidder:y,size:h,price:_,gross:_,tag_id:n,adomain:u,crid:c,adid:m,request_url:yi,response:a,response_ms:s,received_ts:i,ttl:v.default_bid_ttl});"video"==v.demand_type?(b.type="video",b.vast_tag=d,g=ProperMedia.utils.parseVastVpaid(b.vast_tag),b.vast_type=g.vast_type,b.vpaid=g.vpaid,b.video_type=v.video_type):b.adcode=d,f.logBidResponse(b)}else{b=new z({bidder:y,price:0,gross:0,tag_id:"",request_url:yi,response:t,response_ms:s,received_ts:i,ttl:0});f.logNoBidResponse(b)}f.incrementBidResponseCount(w)}catch(e){throw e.bidder=y,e}},error:function(e){try{f.incrementBidResponseCount(w);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(I,t),s={bidder:y,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};f.logBidResponseError(s)}catch(e){throw e.bidder=y,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},formatRequest:xs,removeCreative:function(e){try{if(1==he.dfp_per_slot){var t=window.top.document.querySelectorAll("#"+CSS.escape(e.div_id)+" .tlod");if(t&&0<t.length)for(var i=0;i<t.length;i++){var s=t[i];s.parentNode.removeChild(s)}}}catch(e){console.error(e)}}}),ce.thirtythreeacross=function(){var p="thirtythreeacross",M="https://ssc.33across.com/api/v1/hb";SYNC_ENDPOINT="https://de.tynt.com/deb/v2?m=xch&rt=html",NON_MEASURABLE="nm";var l={sticky_horizontal:"1x1"};function e(a,n,o){var d={};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t,i=0;i<a[e].length;i++){var s,r=a[e][i];void 0===d[r]&&(d[r]={},"display"==o.demand_type?(d[r].banner={format:[]},d[r].product="siab"):"video"==o.demand_type&&(s=e.split("x"),d[r].video={skip:1,skipafter:5,linearity:"outstream"==o.video_type?2:1,placement:1,startdelay:0,minduration:15,maxduration:30,playback_methods:[2,3,6],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(s[0])||0,h:parseInt(s[1])||0,ext:{ttx:{bidfloors:[Es(n,e)]}}},d[r].product=o.video_type,"outstream"==o.video_type&&(d[r].placement=2))),"display"==o.demand_type&&(d[r].banner.format.push((t=void 0,t=(s=l[s=e]||s).split("x"),{w:parseInt(t[0]),h:parseInt(t[1]),ext:{ttx:{bidfloors:[Es(p,s)]}}})),"sticky_horizontal"==e&&(d[r].product="inview",d[r].special_size=e))}}),d}return{formatRequest:e,send:function(f){var y=f.bidder,v=he.bidder_info[y]||v,t=e(f.requests,y,v);Object.keys(t).forEach(function(e){!function(g,_){var r="display"==v.demand_type?g.banner.format.length:1,b=g.product,e="inview"==b?100:NON_MEASURABLE,t={id:ProperMedia.utils.generateUUID(),site:{id:_},imp:[],ext:{ttx:{caller:[{name:"proper.io",version:"1.0"}]}}};"display"==v.demand_type?t.imp.push({banner:g.banner}):"video"==v.demand_type&&t.imp.push({video:g.video});t.imp[0]&&(t.imp[0].ext={ttx:{prod:b,viewability:{amount:isNaN(e)?e:Math.round(e)}}});he.schain&&(t.source={ext:{schain:he.schain}});ie.cmpPresent&&(t.regs={ext:{gdpr:!0===ie.gdprApplies?1:0}},ie.consentString&&(t.user={ext:{consent:ie.consentString}}));J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy);1==he.testing_mode.ids&&(t.test=1);me.mylog(M,y),f.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+y+".edge")||!1;S.ajax({method:"POST",url:M,requestType:"cors",bidder:y,edge:e,data:JSON.stringify(t),success:function(u){try{me.mylog(u,y);var e,u=ProperMedia.utils.safeJsonParse(u),m=ProperMedia.utils.getTimestampMs(),h=ProperMedia.utils.calcResponseMs(a,m);u&&u.seatbid&&0<u.seatbid.length&&u.seatbid[0].bid&&0<u.seatbid[0].bid.length?Object.keys(u.seatbid).forEach(function(e){var c=u.seatbid[e].bid;Object.keys(c).forEach(function(e){var t=c[e],i=(u.bidid,t.price||0),s=t.w||1,r=t.h||1,a=t.adid||"",n=t.cid||"",o=t.crid||"",d=t.cat||[],p=t.adomain||[],l=(u.cur,t.adm||""),e=t.ttl||v.default_bid_ttl,r=s+"x"+r;"inview"==b&&"1x1"==r&&(r=g.special_size||r);t=new z({bidder:y,size:r,price:parseFloat(i),gross:parseFloat(i),tag_id:_,adid:a,cid:n,crid:o,cat:d,adomain:p,request_url:M,response:t,response_ms:h,received_ts:m,ttl:e});"video"==v.demand_type?(t.type="video",t.vast_tag=l,e=ProperMedia.utils.parseVastVpaid(t.vast_tag),t.vast_type=e.vast_type,t.vpaid=e.vpaid,t.video_type=v.video_type):t.adcode=l,f.logBidResponse(t)})}):(e=new z({bidder:y,price:0,gross:0,tag_id:"",request_url:M,response:u,response_ms:h,received_ts:m,ttl:0}),f.logNoBidResponse(e)),f.incrementBidResponseCount(r),function(e){e=[{type:"iframe",url:SYNC_ENDPOINT+"&id="+e.site.id+"&gdpr_consent="+encodeURIComponent(ie.consentString)+"&us_privacy="+encodeURIComponent(J.usPrivacy),bidder:p}];"boolean"==typeof gdprApplies&&(e[0].url+="&gdpr="+Number(ie.gdprApplies));A.add(e)}(t)}catch(e){throw e.bidder=y,e}},error:function(e){try{f.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:y,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};f.logBidResponseError(s)}catch(e){throw e.bidder=y,e}}})}(t[e],e)})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4}}}(),ce.undertone=(Mi=0,Z.ready(function(){var e="",t=Ps(ie.cmpPresent);t&&(e+="?"+t),J.cmpPresent&&J.usPrivacy&&(e+=(0<e.length?"&":"?")+"ccpa="+J.usPrivacy),A.add({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+e,bidder:"undertone"})}),{formatRequest:js,send:function(d){var p=d.bidder,l=he.bidder_info[p]||l;if(!(Mi=ProperMedia.utils.deepAccess(he,"bidders.header."+p+".site_id")||0))return me.mylog("Error: Undertone Site ID is Required."),!1;var c="https://hb.undertone.com/hb?pid="+Mi+"&domain="+ye.domain,u=js(d.requests,l),e=ProperMedia.utils.objectValues(u.imps)||[],r=u.request_cnt;if(0==r)return!1;var t=Math.max(j.documentElement.clientWidth,window.innerWidth||0),i=Math.max(j.documentElement.clientHeight,window.innerHeight||0),t={"x-ut-hb-params":e,commons:{adapterVersion:he.prebid_version,uids:P.getEidsArray()||[],pageSize:0==t||0==i?null:[t,i]}};(i=Ps(ie.cmpPresent))&&(c+="&"+i),J.cmpPresent&&J.usPrivacy&&(c+="&ccpa="+J.usPrivacy);var a=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(he,"bidders.header."+p+".edge")||!1;S.ajax({url:c,method:"POST",requestType:"cors",bidder:p,edge:i,data:JSON.stringify(t),success:function(e){try{me.mylog(e,p);var t,e=ProperMedia.utils.safeJsonParse(e),n=ProperMedia.utils.getTimestampMs(),o=ProperMedia.utils.calcResponseMs(a,n);e&&Array.isArray(e)&&0<e.length?e.forEach(function(e){var t="1x1";ProperMedia.utils.deepAccess(u,"tag_sizes."+e.bidRequestId)?t=ProperMedia.utils.deepAccess(u,"tag_sizes."+e.bidRequestId):e.width&&e.height&&(t=e.width+"x"+e.height);var i=e.cpm||0,s=e.ttl||0,r=e.adId||"",a=ProperMedia.utils.deepAccess(u,"tag_ids."+e.bidRequestId)||"",r=new z({bidder:p,size:t,price:parseFloat(i),gross:parseFloat(i),tag_id:a,adid:r,ttl:1e3*s||l.default_bid_ttl,request_url:c,response:e,response_ms:o,received_ts:n});"video"==l.demand_type?(r.type="video",r.vast_tag=e.ad,s=ProperMedia.utils.parseVastVpaid(r.vast_tag),r.vast_type=s.vast_type,r.vpaid=s.vpaid,r.video_type=l.video_type):r.adcode=e.ad,d.logBidResponse(r)}):(t=new z({bidder:p,price:0,gross:0,tag_id:"",request_url:c,response:e,response_ms:o,received_ts:n,ttl:0}),d.logNoBidResponse(t)),d.incrementBidResponseCount(r)}catch(e){throw e.bidder=p,e}},error:function(e){try{d.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:p,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};d.logBidResponseError(s)}catch(e){throw e.bidder=p,e}}})},bidderInfo:{rev_share:1,bid_grouping:"page",demand_type:"display",default_bid_ttl:36e4,native_sizes:{desktop:{sticky_horizontal:[[1,1]],native_horizontal:[[1,2]]},mobile:{sticky_horizontal:[[1,1],[320,50]],native_horizontal:[[1,2]]}}}}),ce.unruly=(wi="https://targeting.unrulymedia.com/unruly_prebid",Ii=null,{formatRequest:Ss,send:function(u){var m=u.bidder,h=he.bidder_info[m]||h,t=(ProperMedia.utils.deepAccess(he,"bidders.header."+m+".site_id")||"").toString().split("-")||["",""];if(!(Ii=_e.isMobile()&&2==t.length?t[1]:t[0]))return me.mylog("Error: Unruly Site ID is Required."),!1;var i=Ss(u.requests,m,h),t=ProperMedia.utils.objectValues(i.imps)||[],g=i.request_cnt,t={bidRequests:t,bidderRequest:{bidderCode:"unruly",auctionId:t[0].auctionId,bidderRequestId:t[0].bidderRequestId,auctionStart:Date.now(),timeout:550,refererInfo:{referer:ye.url,reachedTop:!0,numIframes:0,stack:[ye.url],canonicalUrl:ye.canonical_url},start:Date.now(),bids:t}};me.mylog(wi,m),u.incrementRequestsSent(g);var _=ProperMedia.utils.getTimestampMs();S.ajax({url:wi,method:"POST",requestType:"cors",data:JSON.stringify(t),success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(_,t);if((e=ProperMedia.utils.safeJsonParse(e))&&e.bids&&0!=e.bids.length){me.mylog(e,m);for(var s=0;s<e.bids.length;s++){var r,a=e.bids[s],n=a.cpm||0,o=a.width||0,d=a.height||0,p=a.bidId||"",l=new z({bidder:m,size:o+"x"+d,price:parseFloat(n),gross:parseFloat(n),tag_id:p,request_url:wi,response:a,response_ms:i,received_ts:t,ttl:h.default_bid_ttl}),c=ProperMedia.utils.deepAccess(a,"meta.mediaType");c&&"video"===c.toLowerCase()?(l.type="video",l.vast_tag=a.vastUrl||"",r=ProperMedia.utils.parseVastVpaid(l.vast_tag),l.vast_type=r.vast_type,l.vpaid=r.vpaid,l.video_type=ProperMedia.utils.deepAccess(a,"meta.videoContext")):c&&"banner"===c.toLowerCase()&&(l.adcode=a.ad),u.logBidResponse(l)}}else{me.mylog("Unruly: No bids returned");var l=new z({bidder:m,price:0,gross:0,tag_id:"",request_url:wi,response:e,response_ms:i,received_ts:t,ttl:0});u.logNoBidResponse(l)}u.incrementBidResponseCount(g)}catch(e){throw e.bidder=m,e}},error:function(t){try{u.incrementBidResponseCount(g);var i=ProperMedia.utils.getTimestampMs(),s=ProperMedia.utils.calcResponseMs(_,i),r={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:s};u.logBidResponseError(r)}catch(e){throw e.bidder=m,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:36e4}}),ce.s2s=(xi=he.s2s_endpoint,{send:function(T){if(!T||!T.requests)return!1;var e=_e.isMobile()?"mobile":"desktop",t=ProperMedia.utils.deepCopy(he.floors[e]||{backup:.01,sizes:{}});ProperMedia.utils.deepAccess(ge,"sessionData.bid_avg")&&Object.keys(ge.sessionData.bid_avg).forEach(function(e){(!ProperMedia.utils.deepAccess(t,"sizes."+e)||t.sizes[e]<ge.sessionData.bid_avg[e])&&ProperMedia.utils.deepSetValue(t,"sizes."+e,ge.sessionData.bid_avg[e])});var i={openRTBBidRequest:(s={id:null,at:1,tmax:550,site:{id:"",page:ye.bidder_page_url,ref:ye.referrer,domain:ye.domain,publisher:{id:he.site_name,name:ye.domain,domain:ye.domain}},device:{connectiontype:0,ua:navigator.userAgent,ip:null,dnt:ProperMedia.utils.getDNT()?1:0,js:1,geo:null,os:window.device.os_group,h:ye.height,w:ye.width,language:navigator.language.split("-")[0]},user:{buyeruid:null,geo:null},source:{pchain:0},regs:{ext:{}},ext:{},test:1==he.testing_mode.ids?1:0,imp:[]},(e=P.getEidsArray())&&e.length&&ProperMedia.utils.deepSetValue(s,"user.ext.eids",e),he.schain&&(s.source={ext:{schain:he.schain}}),ie.cmpPresent&&("boolean"==typeof ie.gdprApplies&&ProperMedia.utils.deepSetValue(s,"regs.ext.gdpr",Number(ie.gdprApplies)),ProperMedia.utils.deepSetValue(s,"user.ext.consent",ie.consentString)),J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(s,"regs.ext.us_privacy",J.usPrivacy),s),bidder_ids:T.requests,is_secure:ye.use_ssl?1:0,floors:t,cookies:{}};Object.keys(i.bidder_ids).forEach(function(e){e=e.replace("_s2s",""),fe.supported_bidders[e]&&fe.bidderUserSyncValues[e]&&(i.cookies[e]=fe.bidderUserSyncValues[e])});var A=xi+"?proper_uid="+fe.proper_uid;1==he.testing_mode.ids&&(A+="&d=1"),me.mylog(A,"s2s");var N=0;Object.keys(T.requests).forEach(function(e){T.requests[e]&&T.requests[e].tag_ids&&(N+=T.requests[e].tag_ids.length)}),T.incrementRequestsSent(N);var E=ProperMedia.utils.getTimestampMs(),s=ProperMedia.utils.deepAccess(he,"bidders.header.s2s.edge")||!1;S.ajax({url:A,method:"POST",requestType:"cors",bidder:"s2s",edge:s,data:JSON.stringify(i),success:function(t){try{t=ProperMedia.utils.safeJsonParse(t);me.mylog(t,"s2s");var e=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(E,e);if(t&&t.bids&&0<t.bids.length)for(var s=_e.isMobile()?"mobile":"desktop",r=0;r<t.bids.length;r++){var a=t.bids[r],n=a.adcode||"",o=a.vast_tag||"",d=a.vast_type||"",p=a.vpaid||!1,l=a.bidder+"_s2s",c=a.media_type,u=a.price||0,m=a.impid||"",h=a.burl||"",g=a.nurl||"",_=a.dealid||"",b=a.adid||"",f=a.adomain||[],y=a.cid||"",v=a.crid||"",M=a.cat||[],w=a.ext||{},I=a.native||{},x=parseInt(a.w||0),j=parseInt(a.h||0),P=ProperMedia.utils.deepAccess(he,"bidder_info."+l)||P,k=a.exp||P.default_bid_ttl||12e4;g&&(n+='<img src="'+a.nurl+'" width=1 height=1>');var S=m.split("@"),C=x&&j?x+"x"+j:S[1].replace(/\-\d+$/,""),C=ProperMedia.utils.deepAccess(P,"native_sizes."+s+"."+C)||C,O=new z({bidder:l,native:I,type:c,size:C,burl:h,nurl:g,price:parseFloat(u*P.rev_share),gross:parseFloat(u),tag_id:m,request_url:xi,response:a,response_ms:i,received_ts:e,dealid:_,adid:b,adomain:f,cid:y,crid:v,cat:M,ext:w,ttl:k});"video"==c?(O.vast_tag=o,O.vast_type=d,O.vpaid=p,O.video_type=P.video_type):O.adcode=n,T.logBidResponse(O)}else{O=new z({bidder:"s2s",price:0,gross:0,tag_id:"",request_url:A,response:t,response_ms:i,received_ts:e,ttl:0});T.logNoBidResponse(O)}T.incrementBidResponseCount(N),t&&t.cookies&&Object.keys(t.cookies).map(function(e){t.cookies[e]&&fe.updateBidderUserSyncData(e,t.cookies[e])})}catch(e){throw e.bidder="s2s",e}},error:function(e){try{T.incrementBidResponseCount(N);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(E,t),s={bidder:"s2s",status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};T.logBidResponseError(s)}catch(e){throw e.bidder="s2s",e}}})},onBidWon:function(e,t){return e.burl&&S.ajax({url:e.burl,method:"GET",withCredentials:!0}),!0},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4},removeCreative:function(e){"gumgum_s2s"==e.displayed_ad.bidder&&function(){try{var e,t=window.top.document.getElementById("GG_PXS");!t||(e=t.parentNode)&&e.parentNode.removeChild(e)}catch(e){console.error(e)}}()}}),ce.aol_instream=(ji=["https://cm.g.doubleclick.net/pixel?google_nid=adaptv_dbm&google_cm&google_sc","https://pr-bh.ybp.yahoo.com/sync/adaptv_ortb/{combo_uid}","https://sync-tm.everesttech.net/upi/pid/m7y5t93k?redir=https%3A%2F%2Fsync.adap.tv%2Fsync%3Ftype%3Dgif%26key%3Dtubemogul%26uid%3D%24%7BUSER_ID%7D","https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1"],Pi=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"],{send:function(m){var h=m.bidder,g=he.bidder_info[h]||g,e=(ProperMedia.utils.deepAccess(he,"bidders.header."+h+".site_id")||"").toString().split("-")||["",""],e=_e.isMobile()&&2==e.length?e[1]:e[0];if(!(e=1==he.testing_mode.ids?"HBExchange":e))return me.mylog("Error: AOL Video Site ID is Required."),!1;var i=m.requests,_="https://ads.adaptv.advertising.com/rtb/openrtb?ext_id="+e;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,c,t){var u=e.split("x"),t={id:ProperMedia.utils.generateUUID(),at:2,cur:"USD",imp:[{id:parseInt(t+1).toString(),secure:ye.use_ssl?1:0,bidfloor:Es(h,e),video:{mimes:["video/mp4","application/javascript"],w:parseInt(u[0]),h:parseInt(u[1]),linearity:"outstream"==g.video_type?2:1,protocols:[2,5],api:[2],delivery:[2],playbackmethod:[2],minduration:1,maxduration:15},ext:{hb:1}}],site:{page:ye.url,ref:ye.referrer},device:{ua:navigator.userAgent,js:1},tmax:550},e=(userIdAsEids=P.getEidsArray(),userIdAsEids.filter(function(e){return-1!==Pi.indexOf(e.source)}));e&&e.length&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",e);he.schain&&ProperMedia.utils.deepSetValue(t,"source.ext.schain",he.schain);ie.cmpPresent&&("boolean"==typeof ie.gdprApplies&&ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",ie.gdprApplies),ProperMedia.utils.deepSetValue(t,"user.ext.consent",ie.consentString));J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy);me.mylog(_,h),me.mylog(h+": sending bid request"),m.incrementRequestsSent(1);var r=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+h+".edge")||!1;S.ajax({method:"POST",requestType:"cors",bidder:h,edge:e,data:JSON.stringify(t),url:_,success:function(e){me.mylog("AOL Video: parsing response");try{var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(r,p);(e=ProperMedia.utils.safeJsonParse(e))&&ProperMedia.utils.deepAccess(e,"seatbid.bid")&&0<e.seatbid.bid.length?(me.mylog(e,h),e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.w||u[0],i=e.h||u[1],s=e.price||0,r=e.adm||"",a=e.crid||"",n=e.dealid||"",o=e.adomain||[],d=ProperMedia.utils.parseVastVpaid(r),e=new z({bidder:h,type:"video",size:t+"x"+i,price:parseFloat(s),gross:parseFloat(s),vast_tag:r,vast_type:d.vast_type,vpaid:d.vpaid,video_type:g.video_type,tag_id:c,crid:a,dealid:n,adomain:o,request_url:_,response:e,response_ms:l,received_ts:p,ttl:g.default_bid_ttl});m.logBidResponse(e)})})):(me.mylog(h+": no bid returned"),t=new z({bidder:h,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:l,received_ts:p,ttl:0}),m.logNoBidResponse(t)),m.incrementBidResponseCount(1)}catch(e){throw me.mylog(h+": unknown error with parsing response - "+e),e.bidder=h,e}},error:function(e){try{m.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(r,t),s={bidder:h,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(s)}catch(e){throw e.bidder=h,e}}}),function(){var e=ji.map(function(e){return{type:"image",url:e,demand_type:"video",bidder:h}});A.add(e)}()}(e,i[e][t],t)})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e5}}),ce.beachfront_instream=(ki="",Si={identityLink:{adapter:ue.identityLink,rtiPartner:"idl"}},Z.ready(function(){var e=0,t="",i="1---";ie.cmpPresent&&(e=ie.gdprApplies?1:0,t=encodeURIComponent(ie.consentString||"")),J.cmpPresent&&J.usPrivacy&&(i=encodeURIComponent(J.usPrivacy));i="https://sync.bfmio.com/sync_iframe?ifg=1&id="+ki+"&gdpr="+e+"&gc="+t+"&gce=1&us_privacy="+i;A.add({type:"iframe",url:i,demand_type:"video",bidder:"beachfront_instream"})}),{send:function(c){var u=c.bidder,m=he.bidder_info[u]||m;if(ki=ProperMedia.utils.deepAccess(he,"bidders.header."+u+".site_id")||0,!(ki=1==he.testing_mode.ids?"11bc5dd5-7421-4dd8-c926-40fa653bec76":ki))return me.mylog("Error: Beachfront Video Site ID is Required."),!1;var i=c.requests,h="https://reachms.bfmio.com/bid.json?exchange_id="+ki;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(d,p){var e=d.split("x"),t={isPrebid:!0,appId:ki,domain:ye.domain,id:ProperMedia.utils.generateUUID(),imp:[{video:{w:parseInt(e[0]),h:parseInt(e[1]),mimes:["video/mp4","application/javascript"]},bidfloor:Es(u,d),secure:ye.use_ssl?1:0}],site:{page:ye.url,domain:ye.domain},device:{ua:navigator.userAgent,language:navigator.language,devicetype:_e.isMobile()?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:ProperMedia.utils.getDNT()?1:0,js:1,geo:{}},regs:{ext:{}},user:{ext:{}},cur:["USD"]},e=function(){var s=[];return Object.keys(Si).forEach(function(e){var t,i=Si[e];ProperMedia.utils.deepAccess(i,"adapter.config.enabled")&&(t=i.adapter.getValue(),e=i.adapter.source,i=i.rtiPartner,s.push({source:e,uids:[{id:t,ext:{rtiPartner:i}}]}))}),s}();e&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",e);ie.cmpPresent&&("boolean"==typeof ie.gdprApplies&&ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",ie.gdprApplies),ProperMedia.utils.deepSetValue(t,"user.ext.consent",ie.consentString));J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy);me.mylog(h,u),me.mylog(u+": sending bid request"),c.incrementRequestsSent(1);var l=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(he,"bidders.header."+u+".edge")||!1;S.ajax({method:"POST",requestType:"cors",bidder:u,edge:e,data:JSON.stringify(t),url:h,success:function(e){me.mylog(u+": parsing response");try{var t,i,s,r,a,n=ProperMedia.utils.getTimestampMs(),o=ProperMedia.utils.calcResponseMs(l,n);(e=ProperMedia.utils.safeJsonParse(e))&&e.url&&""!=e.url?(t=e.bidPrice||0,i=e.url||e.vast||"",s=e.cmpId||"",r=ProperMedia.utils.parseVastVpaid(i),a=new z({bidder:u,type:"video",size:d,price:parseFloat(t),gross:parseFloat(t),vast_tag:i,vast_type:r.vast_type,vpaid:r.vpaid,video_type:m.video_type,tag_id:p,cid:s,request_url:h,response:e,response_ms:o,received_ts:n,ttl:m.default_bid_ttl}),c.logBidResponse(a)):(me.mylog(u+": no bid returned"),a=new z({bidder:u,price:0,gross:0,tag_id:"",request_url:h,response:e,response_ms:o,received_ts:n,ttl:0}),c.logNoBidResponse(a)),c.incrementBidResponseCount(1)}catch(e){throw me.mylog(u+": unknown error with parsing response - "+e),e.bidder=u,e}},error:function(e){try{c.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(l,t),s={bidder:u,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(s)}catch(e){throw e.bidder=u,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5}}),ce.openx_instream=(Ci="openx_instream",Oi=!0,Ti=[ue.identityLink,ue.id5Id,ue.pubCommonId,ue.sharedId],{send:function(y){var v=y.bidder,M=he.bidder_info[v]||M,i=y.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,h){var g=e.split("x");tag_id=ProperMedia.utils.deepAccess(he,"bidders.header."+v+".site_id")||h;e=[{video:{mimes:["video/mp4","application/javascript"],w:parseInt(g[0]),h:parseInt(g[1])},w:parseInt(g[0]),v:parseInt(g[1])}],e={ju:ye.bidder_page_url,jr:ye.referrer,ch:j.charSet||j.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:!1,tz:(new Date).getTimezoneOffset(),tws:window.top.innerWidth+"x"+window.top.innerHeight,be:1,bc:"hb_pb_3.0.3",dddid:ProperMedia.utils.generateUUID(),pubcid:be.pubcid,nocache:(new Date).getTime(),auid:tag_id,vwd:parseInt(g[0]),vht:parseInt(g[1]),vmimes:["video/mp4","application/javascript"],openrtb:e};"outstream"==M.video_type&&(e.vos="101");he.schain&&(e.schain=ProperMedia.utils.formatSupplyChainString(he.schain));ie.cmpPresent&&(e.gdpr_consent=ie.consentString||"","boolean"==typeof ie.gdprApplies&&(e.gdpr=ie.gdprApplies?1:0),e.x_gdpr_f=1);J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy);e=function(t){return Ti.forEach(function(e){ProperMedia.utils.deepAccess(e,"config.enabled")&&ProperMedia.utils.deepAccess(e,"storage.name")&&(t[e.storage.name]=e.getValue())}),t}(e),1==he.testing_mode.ids&&(e.vtest="1");var e=ProperMedia.utils.formatQueryString(e,!0),_="https://propermedia-d.openx.net/v/1.0/avjp?"+e;me.mylog(_,v),me.mylog(v+": sending bid request"),y.incrementRequestsSent(1);var b=ProperMedia.utils.getTimestampMs(),f=new Date;S.ajax({method:"GET",requestType:"cors",url:_,success:function(e){me.mylog(v+": parsing response");try{var t,i,s,r,a,n,o,d,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(b,p);(e=ProperMedia.utils.safeJsonParse(e))&&e.vastUrl&&e.pub_rev?(t=Number(e.pub_rev)/1e3||0,i=e.vastUrl||"",s=g[0]||e.width,r=g[1]||e.height,a=e.adid||"",n=e.deal_id||"",o=ProperMedia.utils.parseVastVpaid(i),c=e,u=f,Oi&&(Oi=!1,(u={bd:+new Date-u,bp:c.pub_rev,br:"0",bs:ProperMedia.utils.getPageDomain(),bt:3e3,ts:c.ts}).br=u.bt<u.bd?"t":"p",c=(c&&c.creative&&c.creative[0]&&c.creative[0].tracking&&c.creative[0].tracking.impression||"").match(/([^?]+\/)ri\?/),(m=c&&1<c.length?c[1]+"bo?"+ProperMedia.utils.formatQueryString(u,!0):m)&&A.add({type:"image",url:m,bidder:Ci})),d=new z({bidder:v,type:"video",size:s+"x"+r,price:parseFloat(t),gross:parseFloat(t),vast_tag:i,vast_type:o.vast_type,vpaid:o.vpaid,video_type:M.video_type,tag_id:h,adid:a,deal_id:n,request_url:_,response:e,response_ms:l,received_ts:p,ttl:1e3*e.ttl||M.default_bid_ttl}),y.logBidResponse(d)):(me.mylog(v+": no bid returned"),d=new z({bidder:v,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:l,received_ts:p,ttl:0}),y.logNoBidResponse(d)),function(e){var t="//u.openx.net/w/1.0/pd";e&&(e.ads&&e.ads.pixels?t=e.ads.pixels:e.pixels&&(t=e.pixels));e="";ie.cmpPresent&&(e+="?gdpr="+(ie.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(ie.consentString||""));J.cmpPresent&&J.usPrivacy&&(e+=(0<e.length?"&":"?")+"us_privacy="+encodeURIComponent(J.usPrivacy));A.add({type:"iframe",url:t+e,demand_type:"video",bidder:Ci})}(e),y.incrementBidResponseCount(1)}catch(e){me.mylog(v+": unknown error with parsing response - "+e)}var c,u,m},error:function(e){try{y.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),s={bidder:v,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};y.logBidResponseError(s)}catch(e){throw e.bidder=v,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5}}),ce.pubmatic_instream=(Ai="https://hbopenbid.pubmatic.com/translator?source=prebid-client",Ni="109126",Z.ready(function(){var e="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+Ni;ie.cmpPresent&&(e+="&gdpr="+(ie.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(ie.consentString||"")),J.cmpPresent&&J.usPrivacy&&(e+="&us_privacy="+encodeURIComponent(J.usPrivacy)),A.add({type:"iframe",url:e,demand_type:"video",bidder:"pubmatic_instream"})}),{send:function(u){var m=u.bidder,h=he.bidder_info[m]||h,e=Cs(u.requests,m,h),t=e.imps||[],r=e.imps.length;if(1==he.testing_mode.ids&&(Ni="157593"),0==r)return!1;e={id:""+(new Date).getTime(),at:1,cur:["USD"],imp:t,site:{page:ye.url,ref:j.referrer,publisher:{id:Ni},domain:ye.domain},device:{ua:navigator.userAgent,js:1,dnt:ProperMedia.utils.getDNT()?1:0,h:screen.height,w:screen.width,language:navigator.language,geo:{}},user:{geo:{}},ext:{wrapper:{wv:"prebid_prebid_"+he.prebid_version,transactionId:ProperMedia.utils.generateUUID(),wp:"pbjs"}}},he.testing_mode.enabled&&(e.test=1),(t=P.getEidsArray())&&t.length&&ProperMedia.utils.deepSetValue(e,"user.eids",t),he.schain&&(e.source={ext:{schain:he.schain}}),ie.cmpPresent&&(e.user.ext={consent:ie.consentString||""},e.regs={ext:{gdpr:ie.gdprApplies?1:0}}),J.cmpPresent&&J.usPrivacy&&(e.regs=e.regs||{},e.regs.ext=e.regs.ext||{},e.regs.ext.us_privacy=J.usPrivacy),me.mylog(Ai,m),me.mylog(m+": sending bid request"),u.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+m+".edge")||!1;S.ajax({method:"POST",requestType:"cors",bidder:m,edge:t,data:JSON.stringify(e),url:Ai,success:function(e){me.mylog(m+": parsing response");try{var t,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(a,l);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.impid,i=e.adm,s=(parseFloat(e.price)||0).toFixed(2),r=e.w||(_e.isMobile()?400:640),a=e.h||(_e.isMobile()?300:480),n=e.adomain||[],o=e.cid||"",d=e.crid||"",p=ProperMedia.utils.parseVastVpaid(i),e=new z({bidder:m,type:"video",size:r+"x"+a,price:parseFloat(s*h.rev_share),gross:parseFloat(s),vast_tag:i,vast_type:p.vast_type,vpaid:p.vpaid,video_type:h.video_type,tag_id:t,adomain:n,cid:o,crid:d,request_url:Ai,response:e,response_ms:c,received_ts:l,ttl:h.default_bid_ttl});u.logBidResponse(e)})}):(t=new z({bidder:m,price:0,gross:0,tag_id:"",request_url:Ai,response:e,response_ms:c,received_ts:l,ttl:0}),u.logNoBidResponse(t)),u.incrementBidResponseCount(r)}catch(e){me.mylog(m+": unknown error with parsing response - "+e)}},error:function(e){try{u.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(s)}catch(e){throw e.bidder=m,e}}})},bidderInfo:{rev_share:.81,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5},formatRequest:Cs}),ce.rubicon_instream=function(){accountId=8777;var g="https://prebid-server.rubiconproject.com/openrtb2/auction";function i(a,n,o){var d={imps:[]},e=(ProperMedia.utils.deepAccess(he,"bidders.header."+n+".site_id")||"").toString().split("-")||["",""],p=_e.isMobile()&&2==e.length?e[1]:e[0];if(!p)return me.mylog("Error: Rubicon Video Site ID is Required."),d;var l=1;return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i=a[e][t],s=e.split("x"),r=Es(n,e);d.imps.push({id:l.toString(),secure:ye.use_ssl?1:0,bidfloor:r,ext:{rubicon:{accountId:parseInt(accountId),siteId:parseInt(p),zoneId:parseInt(i),position:"btf",floor:r,video:{language:"en",size_id:"outstream"==o.video_type?203:201,playerWidth:parseInt(s[0]),playerHeight:parseInt(s[1])},prebid:{auctiontimestamp:(new Date).getTime()}}},video:{playerSize:[parseInt(s[0]),parseInt(s[1])],context:o.video_type,mimes:["video/mp4","application/javascript"],protocols:[2,5],w:parseInt(s[0]),h:parseInt(s[1]),maxduration:60,linearity:1,api:[2],pos:3}}),l++}}),d}return{send:function(u){var m=u.bidder,h=he.bidder_info[m]||h,e=i(u.requests,m,h),t=e.imps||[],r=e.imps.length;if(0==r)return!1;e={id:ProperMedia.utils.generateUUID(),test:1==he.testing_mode.ids?1:0,cur:["USD"],source:{tid:ProperMedia.utils.generateUUID()},tmax:550,imp:t,ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:[{max:20,increment:.01}]}},bidders:{rubicon:{integration:"pbjs"}}}},site:{page:ye.url,content:{language:"en"}}},(t=P.getEidsArray())&&t.length&&ProperMedia.utils.deepSetValue(e,"user.ext.eids",t),he.schain&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",he.schain),ie.cmpPresent&&(ProperMedia.utils.deepSetValue(e,"user.ext.consent",ie.consentString),"boolean"==typeof ie.gdprApplies&&ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",Number(ie.gdprApplies))),J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",J.usPrivacy),me.mylog(g,m),me.mylog(m+": sending bid request"),u.incrementRequestsSent(r);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(he,"bidders.header."+m+".edge")||!1;S.ajax({method:"POST",requestType:"cors",bidder:m,edge:t,data:JSON.stringify(e),url:g,success:function(e){me.mylog(m+": parsing response");try{var t,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(a,l);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?(me.mylog(e,m),e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.price||0,i=e.w||(_e.isMobile()?400:640),s=e.h||(_e.isMobile()?300:480),r=e.adomain||[],a=e.cid||"",n=e.crid||"",o="",d="",p=ProperMedia.utils.deepAccess(e,"ext.prebid.targeting")||{};ProperMedia.utils.deepAccess(e,"ext.prebid.cache.vastXml.url")?o=ProperMedia.utils.deepAccess(e,"ext.prebid.cache.vastXml.url"):p&&p.hb_uuid&&p.hb_cache_host&&p.hb_cache_path&&(o="https://"+p.hb_cache_host+p.hb_cache_path+"?uuid="+p.hb_uuid),e.adm&&(o=e.adm),e.nurl&&(d=e.nurl),!o&&e.nurl&&(o=e.nurl);p=ProperMedia.utils.parseVastVpaid(o),e=new z({bidder:m,type:"video",size:i+"x"+s,price:parseFloat(t*h.rev_share),gross:parseFloat(t),vast_tag:o,vast_type:p.vast_type,vpaid:p.vpaid,video_type:h.video_type,nurl:d,tag_id:i+"x"+s,adomain:r,cid:a,crid:n,request_url:g,response:e,response_ms:c,received_ts:l,ttl:1e3*e.ttl||h.default_bid_ttl});u.logBidResponse(e)})})):(me.mylog(m+": no bid returned"),t=new z({bidder:m,price:0,gross:0,tag_id:"",request_url:g,response:e,response_ms:c,received_ts:l,ttl:0}),u.logNoBidResponse(t)),u.incrementBidResponseCount(r)}catch(e){me.mylog(m+": can't parse bid response - "+e)}},error:function(e){try{u.incrementBidResponseCount(r);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),s={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(s)}catch(e){throw e.bidder=m,e}}}),A.add({type:"iframe",url:"https://eus.rubiconproject.com/usync.html",demand_type:"video",bidder:m})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5},formatRequest:i}}(),ce.spotx_instream={send:function(u){var m=u.bidder,h=he.bidder_info[m]||h,e=ProperMedia.utils.deepAccess(he,"bidders.header."+m+".site_id").split("-")||["",""],s=_e.isMobile()&&2==e.length?e[1]:e[0];if(!(s=1==he.testing_mode.ids?"79391":s))return me.mylog("Error: SpotX Site ID is Required."),!1;var g="https://search.spotxchange.com/openrtb/2.3/dados/"+s,i=u.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e){var c=e.split("x"),t={id:s,imp:{id:ProperMedia.utils.generateUUID(),secure:!!ye.use_ssl,bidfloor:Es(m,e),video:{w:parseInt(c[0]),h:parseInt(c[1]),ext:{sdk_name:"Prebid 1+",versionOrtb:he.prebid_version,ad_unit:h.video_type},mimes:["video/mp4","application/javascript"]}},site:{id:"",page:ye.url,content:"content"},device:{h:parseInt(ye.height),w:parseInt(ye.width),dnt:ProperMedia.utils.getDNT()?1:0,language:"en",make:navigator.vendor||"",ua:navigator.userAgent},ext:{wrap_response:1},user:{ext:{}}},e=P.getEidsArray();ProperMedia.utils.deepAccess(e,"id5id.uid")&&((i=[]).push({source:"id5-sync.com",uids:[{id:e.id5id.uid,ext:e.id5id.ext||{}}]}),ProperMedia.utils.deepSetValue(t,"user.ext.eids",i));be.pubcid&&ProperMedia.utils.deepSetValue(t,"user.ext.fpc",be.pubcid);he.schain&&(t.source={ext:{schain:he.schain}});ie.cmpPresent&&("boolean"==typeof ie.gdprApplies&&ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",ie.gdprApplies),ProperMedia.utils.deepSetValue(t,"user.ext.consent",ie.consentString));J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy);me.mylog(g,m),me.mylog(m+": sending bid request"),u.incrementRequestsSent(1);var r=ProperMedia.utils.getTimestampMs(),i=(new Date,ProperMedia.utils.deepAccess(he,"bidders.header."+m+".edge")||!1);S.ajax({method:"POST",requestType:"cors",bidder:m,edge:i,data:JSON.stringify(t),url:g,success:function(e){me.mylog(m+": parsing response");try{var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(r,p);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.price||0,i=c[0]||(_e.isMobile()?400:640),s=c[1]||(_e.isMobile()?300:480),r=e.adomain||[],a=e.cid||"",n=e.crid||"",o="https://search.spotxchange.com/ad/vast.html?key="+ProperMedia.utils.deepAccess(e,"ext.cache_key"),d=ProperMedia.utils.parseVastVpaid(o),e=new z({bidder:m,type:"video",size:i+"x"+s,price:parseFloat(t*h.rev_share),gross:parseFloat(t),vast_tag:o,vast_type:d.vast_type,vpaid:d.vpaid,video_type:h.video_type,tag_id:e.impid,adomain:r,cid:a,crid:n,request_url:g,response:e,response_ms:l,received_ts:p,ttl:h.default_bid_ttl});u.logBidResponse(e)})}):(me.mylog(m+": no bid returned"),t=new z({bidder:m,price:0,gross:0,tag_id:"",request_url:g,response:e,response_ms:l,received_ts:p,ttl:0}),u.logNoBidResponse(t)),u.incrementBidResponseCount(1)}catch(e){me.mylog(m+": unknown error with parsing response - "+e)}},error:function(e){try{u.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(r,t),s={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(s)}catch(e){throw e.bidder=m,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e4}},window.addEventListener("unload",function(){me.proper_tracker()}),window.addEventListener("hashchange",Ts,!1),{init:function(){Z.ready(function(){for(propertag.cmd.push=function(e){e.call()},propertag.cmd.unshift=function(e){e.call()};propertag.cmd.length;)propertag.cmd.shift().call()})},set_options:function(e){var t;e.extra_js&&Function('"use strict"; '+e.extra_js.replace(/\\n|\\r/g," "))(),function(){if(void 0!==ce)for(var e in ce)he.bidder_info[e]=ce[e].bidderInfo}(),t=e,Object.keys(t.ad_slots).forEach(function(e){t.ad_slots[e]=ProperMedia.utils.sortProperties(t.ad_slots[e],"number",!0,!1)}),function(e){properSpecialOps.dfp_id&&(e.dfp_id=properSpecialOps.dfp_id,e.thirdPartyAdManager=!0);properSpecialOps.google_advertiser&&(e.google_advertiser=properSpecialOps.google_advertiser,e.thirdPartyAdManager=!0);properSpecialOps.proper_advertiser&&(e.proper_advertiser=properSpecialOps.proper_advertiser,e.thirdPartyAdManager=!0)}(e=t),e=e,ProperMedia.utils.mergeObject(he,e),function(){he.dfp_id||(he.dfp_id=he.proper_dfp_id);he.google_advertiser||(he.google_advertiser=he.dfp_advertiser_ids.google);he.proper_advertiser||(he.proper_advertiser=he.dfp_advertiser_ids.proper)}(),T.init(he.audience_pixels),function(){var e=j.createElement("style");e.type="text/css";var t='.proper-ad-unit{margin:auto;position:relative;display:block;width:100%;min-width:100px;text-align:center;box-sizing:border-box !important}.proper-ad-unit *{box-sizing:border-box !important}.proper-ad-unit>div:first-of-type:not(.sticky-inner){position:relative;margin:auto}.proper-ad-unit>div.active-highlight:first-of-type:not(.sticky-inner):after{content:\'\';margin:auto;position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;background:none;border:5px solid rgba(218,48,48,0.85)}.proper-ad-unit>div:first-of-type:not(.sticky-inner)>.noad{background-color:#c2c2c2}.proper-ad-unit .report-ad{position:relative !important;display:block !important;font-family:sans-serif;left:0;right:0;color:#999 !important;font-size:12px;line-height:23px;white-space:nowrap;text-decoration:none !important;-webkit-font-smoothing:antialiased}.proper-ad-unit .report-ad:hover{color:black;text-decoration:underline !important}.proper-ad-unit.ad-sticky{width:100%;text-align:center;z-index:10000000;pointer-events:none;position:fixed}.proper-ad-unit.ad-sticky.close{display:none !important}.proper-ad-unit.ad-sticky,.proper-ad-unit.ad-sticky .sticky-inner{pointer-events:none}.proper-ad-unit.ad-sticky .sticky-inner>*{pointer-events:all}.proper-ad-unit.ad-sticky .close{pointer-events:all;cursor:pointer}.proper-ad-unit.ad-sticky .close::after{content:"\\00d7";color:black;font-size:21px !important;font-family:\'Futura\', sans-serif !important;line-height:31px !important;border-radius:500px;display:block;width:32px;height:32px;margin:9px 0 0 9px;box-shadow:inset 0 0 0 2px #ccc}.proper-ad-unit.ad-sticky.close:not(.for-mobile):hover:after{box-shadow:inset 0 0 0 2px #333}.proper-ad-unit.ad-sticky iframe{background-color:white;pointer-events:all;vertical-align:bottom;position:relative;cursor:pointer;z-index:2}.proper-ad-unit.ad-sticky .brand{display:none;cursor:pointer;pointer-events:all;position:absolute;width:100%;height:100%;top:0;left:0}.proper-ad-unit.ad-sticky .brand:after{content:\'\';position:relative;width:100%;height:15px;display:block;background:no-repeat center;background-size:42px 15px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAYAAADtwH1UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3VpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNjViYzk1Ny05OWIxLTRiNGMtYmVhMy05ZmExOGNlZjJjMTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk0MzY2N0FCRjBFMTFFQUJBOTU5NzBBQTVBNDdDOEIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk0MzY2NzlCRjBFMTFFQUJBOTU5NzBBQTVBNDdDOEIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YzBmYWQ1Ny1jNzQ3LTRjM2EtYTY4MC0zN2U1MWFhMzE1MDciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjY1YmM5NTctOTliMS00YjRjLWJlYTMtOWZhMThjZWYyYzEwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+rPgLLAAAAsFJREFUeNrsWjFLHEEU9uQQDUm4wjaCJGKQNJIygjaCkl+gZRp/QEoRE7AULIKghVUgYGEhGvIX4iE2IRA0CYiNIYXERMzF080beSdvh5mdfTs3u8K+Dz4OZt7Mvbffzbw3c1uJoqhDUBw65REUi0rRDpR9BcoKEAFEAEGBqDLtHwHvA0+BX+Xx5bcCasBF4GdgHfgF+AbbBYEFegE8VgWLgT+wX7ayABgF7mkP/B/wyCCEshuzVZoW/gJuAAc87Vu4B1zArfEcPxewPZRPOn1juEYf8B3wShv8wTWQKUCLJ8BBD3uFB8B9i/0B9of0Ka0ASTFYB6t9f8Ji+yrBCY7zGx72qpD46LDf0QqOED5FHvMbH5hS6SU6XsMKyLRaPjEEoBgh7b897KdJewM4BbyDnw3SNxXApzQ/4jTzx9AELgN7SdsStr8G9iBngX+YK4DiGTNYm/170j6njZkjfVsBfLq5TtGuVLjzxzBsKD8vyMBvwENDct4taAuiFVq/9t39pO84kE8uAdhbEC0/fzomuQS+BT4kOSFLEn7sYU9/HFVDHK2+i0A+ZRFAnz+GMUP5GeEBjG45m8AnCavH5cwp/goGPe3buQK4PnEFsM0fg15+HmICq2DCU2XduDZG5Ys1XBFpcwAnge2StueafdocsB0gqXJyQFIM1i9bxYRrQxdWSicZknDMeRKAyX6GtH0HdmeogqZtPlEfDP60S7CkGKyDz7DaMYkwiashaxXEEeAuVg2t9nntHFB3bBP1hHMAVwDuOSBNDDGsO7ahITwV0/4rPD33BRJAYYW0n2v7vc9JOC8BXDE474EivAdqMu6B2inAU61vO+Eu6C/jLihPAVwx5H8Tagk4V6QQoFDU8O6/iWzg4awWMviykPNWRJB/w8r+VoS8lnIL/vESiADlRVXeDZUVIAIIRIDS4r8AAwBeGBwdcC4MwQAAAABJRU5ErkJggg==")}.proper-ad-unit.ad-sticky .sticky-inner>div:last-of-type{display:inline-block}.proper-ad-unit.sticky-btm{bottom:0;left:0}.proper-ad-unit.sticky-btm:before{content:\'\';position:absolute;width:100%;height:50%;top:50%;left:0;background:rgba(255,255,255,0.79);pointer-events:all;box-shadow:0 0 4px 0 rgba(0,0,0,0.3)}.proper-ad-unit.sticky-btm .sticky-inner{height:inherit;display:inline-block}.proper-ad-unit.sticky-btm .inner-left,.proper-ad-unit.sticky-btm .inner-right{height:100%;width:48px;display:block}.proper-ad-unit.sticky-btm .inner-left{float:left}.proper-ad-unit.sticky-btm .inner-right{float:right;position:inherit}.proper-ad-unit.sticky-btm .brand{position:absolute;width:48px;height:16px;left:0;top:50%}.proper-ad-unit.sticky-btm .close{display:none;position:absolute;bottom:0;right:0;width:48px;height:48px}.proper-ad-unit[class*="sticky-corner-"]:before,.proper-ad-unit.sticky-right:before,.proper-ad-unit.sticky-left:before,.proper-ad-unit.sticky-btm.for-mobile:before{top:-2px;left:0;height:200%;background:white;box-shadow:0 0 0 2px #ccc}.proper-ad-unit[class*="sticky-corner-"] .inner-left,.proper-ad-unit[class*="sticky-corner-"] .inner-right,.proper-ad-unit.sticky-right .inner-left,.proper-ad-unit.sticky-right .inner-right,.proper-ad-unit.sticky-left .inner-left,.proper-ad-unit.sticky-left .inner-right,.proper-ad-unit.sticky-btm.for-mobile .inner-left,.proper-ad-unit.sticky-btm.for-mobile .inner-right{height:0;position:initial}.proper-ad-unit[class*="sticky-corner-"] .brand,.proper-ad-unit[class*="sticky-corner-"] .close,.proper-ad-unit.sticky-right .brand,.proper-ad-unit.sticky-right .close,.proper-ad-unit.sticky-left .brand,.proper-ad-unit.sticky-left .close,.proper-ad-unit.sticky-btm.for-mobile .brand,.proper-ad-unit.sticky-btm.for-mobile .close{bottom:100%;top:auto}.proper-ad-unit[class*="sticky-corner-"] .brand,.proper-ad-unit.sticky-right .brand,.proper-ad-unit.sticky-left .brand,.proper-ad-unit.sticky-btm.for-mobile .brand{top:-18px;width:48px;background-color:white;border-radius:0 6px 0 0;border:solid 2px #ccc;border-left:none;border-bottom:none}.proper-ad-unit[class*="sticky-corner-"] .brand:after,.proper-ad-unit.sticky-right .brand:after,.proper-ad-unit.sticky-left .brand:after,.proper-ad-unit.sticky-btm.for-mobile .brand:after{background-position:1px 0px}.proper-ad-unit[class*="sticky-corner-"] .close:after,.proper-ad-unit.sticky-right .close:after,.proper-ad-unit.sticky-left .close:after,.proper-ad-unit.sticky-btm.for-mobile .close:after{position:absolute;bottom:2px;right:0;box-shadow:none;border-radius:11px 0 0 0;background:#ffffff;border:solid 2px #ccc;border-right:none;border-bottom:none}.proper-ad-unit[class*="sticky-corner-"],.proper-ad-unit.sticky-left,.proper-ad-unit.sticky-right{right:0;width:auto;top:0;height:100% !important;display:table}.proper-ad-unit[class*="sticky-corner-"] .sticky-inner,.proper-ad-unit.sticky-left .sticky-inner,.proper-ad-unit.sticky-right .sticky-inner{display:table-cell;vertical-align:middle}.proper-ad-unit[class*="sticky-corner-"] .inner-left,.proper-ad-unit[class*="sticky-corner-"] .inner-right,.proper-ad-unit.sticky-left .inner-left,.proper-ad-unit.sticky-left .inner-right,.proper-ad-unit.sticky-right .inner-left,.proper-ad-unit.sticky-right .inner-right{position:relative}.proper-ad-unit[class*="sticky-corner-"] .brand,.proper-ad-unit.sticky-left .brand,.proper-ad-unit.sticky-right .brand{height:14px;width:52px;top:-12px;border-left:solid 2px #ccc;border-radius:4px 4px 0 0}.proper-ad-unit[class*="sticky-corner-"] .brand:after,.proper-ad-unit.sticky-left .brand:after,.proper-ad-unit.sticky-right .brand:after{background-position:2px 0px}.proper-ad-unit[class*="sticky-corner-"] .close:after,.proper-ad-unit.sticky-left .close:after,.proper-ad-unit.sticky-right .close:after{bottom:-2px}.proper-ad-unit[class*="sticky-corner-"] .sticky-inner>div:last-of-type,.proper-ad-unit.sticky-left .sticky-inner>div:last-of-type,.proper-ad-unit.sticky-right .sticky-inner>div:last-of-type{border:solid 2px #ccc;border-right:none;padding:4px;padding-right:0;background:white;border-radius:0 0 0 4px}.proper-ad-unit.sticky-corner-left,.proper-ad-unit.sticky-left{right:auto;left:0}.proper-ad-unit.sticky-corner-left .close:after,.proper-ad-unit.sticky-left .close:after{border-radius:6px 6px 0 0;border-right:solid 2px #ccc}.proper-ad-unit.sticky-corner-left .sticky-inner>div:last-of-type,.proper-ad-unit.sticky-left .sticky-inner>div:last-of-type{border-left:none;padding:4px;padding-left:0;border-right:solid 2px #ccc;border-radius:0 0 4px 0}.proper-ad-unit.sticky-left .brand{border-left:none;border-radius:0 4px 0 0;width:48px}.proper-ad-unit.sticky-left .brand:after{background-position:1px 0px}.proper-ad-unit[class*="sticky-corner-"]{padding:15px}.proper-ad-unit[class*="sticky-corner-"] .sticky-inner{vertical-align:bottom}.proper-ad-unit[class*="sticky-corner-"] .brand{border-left:solid 2px #ccc}.proper-ad-unit[class*="sticky-corner-"] .brand:after{background-position:2px 0px}.proper-ad-unit[class*="sticky-corner-"] .close:after{border-radius:6px 6px 0 0;border-right:solid 2px #ccc}.proper-ad-unit[class*="sticky-corner-"] .sticky-inner>div:last-of-type{padding:4px;border:solid 2px #ccc;border-radius:3px}';he.extra_css&&(t+=he.extra_css);"proper-ad-unit"!==he.slot_wrapper_class&&(t=t.replace(/proper-ad-unit/gi,he.slot_wrapper_class));e.styleSheet?e.styleSheet.cssText=t:e.appendChild(j.createTextNode(t));j.getElementsByTagName("head")[0].appendChild(e)}(),ye.setPageVariables(),ue.pubCommonId.init(),be.init(),fe.init(),fe.cookieMatch(),P.init(),ye.init(),e=new Event("proper-has-been-loaded"),window.dispatchEvent(e)},proper_log:me.proper_log,proper_debug_console:function(){Me.createDebugConsole()},proper_debug_overlay:function(){Me.createDebugOverlays()},proper_display:function(e,t){if(As())return me.mylog("Kill All Ads enabled! Goodbye!"),!1;if(void 0===e){try{var i=j.scripts[j.scripts.length-1],e=i.parentNode.id;if(void 0===i.parentNode||void 0===e)return;e=ProperMedia.utils.extractSlotName(e)}catch(e){console.error(e),m(y.computeStackTrace(e))}if(void 0===e||!e)return!1}if(!(i=ProperMedia.utils.extractSlotName(e)))return me.mylog("Couldn't find slot from id: "+e),!1;ye.buildSlot("display",i)},proper_render:Ls,logMatchingResponse:function(e,t,i){fe.logMatchingResponse(e,t,i)},disableSlotRefresh:Fs,getReportAdInfo:function(e){var t,i={};return void 0!==e.site_name&&1==e.site_name&&(i.site_name=he.site_name),void 0!==e.split_version&&1==e.rtp_file_version&&(i.split_version=he.rtp_file_version),void 0!==e.slot_id&&(t=ProperMedia.utils.extractSlotName(e.slot_id),me.autoplay_html[e.slot_id]&&(i.autoplay_html=me.autoplay_html[e.slot_id]),void 0!==me.log_lines&&(i.log_lines=me.log_lines),void 0!==me.saved_data[t]&&(i.saved_data=me.saved_data[t]),void 0!==me.ad_info[t]&&(i.ad_info=me.ad_info[t])),i},getAdSlots:function(){return Object.keys(ye.slots.display).concat(ye.slots.video)},refreshSlotByName:function(e){return!!(e=ye.getSlotFromPageObject(e,["display"]))&&(e.removeRefreshTimeout(),e.refreshSlot(),!0)},sendError:m,spaNewPage:function(){ye.SpaNextPage()},runNewAuction:function(){propertag.cmd.push(function(){return ve.auction_refresh=!0,ve.startNewAuction(!0),!0})},disableAuctionRefresh:function(){propertag.cmd.push(function(){return me.mylog("AdPool: Disable Auction Refresh"),ve.auction_refresh=!1,ve.clearNextAuctionTimeout(),!0})},infScrollNewPage:function(){ye.InfScrollNextPage()},buildSlots:function(){me.mylog("Build slots called"),ye.buildSlots()},deleteSlot:function(e){return!!(e=ye.getSlotFromPageObject(e,["display"]))&&(e.deleteSlot(!0),!0)},destroyDfpSlot:function(e){return!!(e=ye.getSlotFromPageObject(e,["display"]))&&(e.destroyDfpSlot(),!0)},getVideoPlayerOps:function(e){return(e=ye.getSlotFromPageObject(e))&&e.video_player instanceof l&&e.video_player.player_settings||{}},createVideoSlot:function(t){try{return me.mylog("Create video slot for: "+t),ye.video_enabled=!0,propertag.cmd.push(function(){var e=ye.getSlotFromPageObject(t,["video"])?ye.getSlotFromPageObject(t,["video"]):ye.buildSlot("video",t);0==ve.vid_auction_count&&ve.startNewVideoAuction(e.video_player.player_settings.video_type)}),!0}catch(e){return!1}},runVideoAuction:function(t){propertag.cmd.push(function(){var e=ye.getSlotFromPageObject(t);return!!(e&&e.video_player instanceof l)&&(ve.startNewVideoAuction(e.video_player.player_settings.video_type),!0)})},getVideoAd:function(e){var t=ye.getSlotFromPageObject(e);if(t&&t.video_player instanceof l){var i=t.video_player.player_settings.video_type,s=ve.getTimeLeftOnRunningAuctions(),e=!!(0<ve.auction_count&&0==s.length),s=!e&&0<s.length?Math.min(s):0;if(t.getWinningBid(["video"],i))return t.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),{auction:{finished:e,time_remaining:s},ad:{price:t.winning_ad.price,bidder:t.winning_ad.bidder,vast_tag:t.winning_ad.vast_tag,vast_type:t.winning_ad.vast_type,vpaid:t.winning_ad.vpaid,video_type:t.winning_ad.video_type,ad_details:t.winning_ad.ad_details}};if("video"==t.type)return t.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),{auction:{finished:e,time_remaining:s},ad:{price:t.getFloor("dfp_floor"),bidder:"dfp_floor",vast_tag:"",vast_type:"",vpaid:"",video_type:i,ad_details:""}};1!==t.displayed&&"display"==t.type&&e&&(e=ProperMedia.utils.deepAccess(he,"ad_slots."+t.type+"."+t.name)||{},t.setRefresh(e),t.getWinningBid(["display","native"]),Ds(t))}return!1},destroyVideoPlayer:function(e){(e=ye.getSlotFromPageObject(e))&&e.video_player instanceof l&&e.video_player.destroyVideoPlayer()},logVideoAdSuccess:function(e,t){var i,s,r=ye.getSlotFromPageObject(e);return r&&r.video_player instanceof l&&(i=ProperMedia.utils.getTimePassed(r.auction_started_ts),s=_e.isMobile()?"640x480":"400x300",e=null,t?(t=parseFloat(t)+.01,e={slot_name:ProperMedia.utils.validateValue(r.dfp_name,{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue("dfp_video",{type:"string",max_len:30}),gross:ProperMedia.utils.validateValue(t,{type:"number",max:999,max_len:15}),price:ProperMedia.utils.validateValue(t,{type:"number",max:999,max_len:15}),size:ProperMedia.utils.validateValue(s,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(r.refresh.count,{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(i,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(i,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue("",{type:"string",max_len:50})},r.displayed_ad={type:"video",price:t,gross:t,dfp_price:t,bidder:"dfp_video",size:s,adCode:"",tag_id:"",response_ms:i,displayed:1,video_type:r.video_type},r.recycleBid()):r.hasWinningBid()&&(e={slot_name:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"dfp_name"),{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.bidder"),{type:"string",max_len:30}),gross:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.gross"),{type:"number",max:999,max_len:15}),price:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.price"),{type:"number",max:999,max_len:15}),size:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.size"),{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"refresh.count"),{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.response_ms"),{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(i,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.tag_id"),{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.advertiserId"),{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.adomain.0"),{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.campaignId"),{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.creativeId"),{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(r,"winning_ad.dealid"),{type:"string",max_len:50})},r.winning_ad.displayed=1,r.size=r.winning_ad.size,r.displayed_ad=ProperMedia.utils.deepCopy(r.winning_ad),r.winning_ad.onBidWon(r)),e&&(r.displayed=1,r.refresh.count++,r.last_displayed_ts=ProperMedia.utils.getTimestampMs(),r.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),r.tracking_times.creative_on_page=ProperMedia.utils.getTimestampMs(),r.dispatchCustomEvent("video-ad-played"),r.dispatchCustomEvent("proper-ads-fired",{cpm:e.price,size:e.size,ad_type:ProperMedia.utils.deepAccess(r,"displayed_ad.video_type")}),ge.setSessionRevenue(e.price),ve.displayed_ads.push(ProperMedia.utils.deepCopy(r.displayed_ad)),me.bid_data.ad_slots[r.dfp_name]=e,clearTimeout(me.tracker_timeout),me.tracker_timeout=null,me.tracker_timeout=_.setTimeout.call(ye,function(){me.proper_tracker()},me.tracker_wait),me.mylog("displayed! ("+r.name+", bidder="+e.bidder+", size="+e.size+", price="+e.price+")"))),!0},logVideoUnfilled:function(e){(e=ye.getSlotFromPageObject(e))&&Us(e)},logVideoAdError:function(e,t,i){var s=new Error(JSON.stringify(t.msg));s.bidder=t.bidder,t.stack&&(s.stack=t.stack),s.event_type="video_exception",m(s),(e=ye.getSlotFromPageObject(e))&&(e.hasWinningBid()&&"dfp"!==t.bidder&&(delete e.winning_ad,e.winning_ad={}),!0===i&&"display"==e.type&&(i=ProperMedia.utils.deepAccess(he,"ad_slots."+e.type+"."+e.name)||{},e.setRefresh(i),e.refreshSlot()))},proper_remnant:function(e,t){var i=ye.getSlotByNumber(t,["display"]);if(!i)return me.mylog("Couldn't find slot with number: "+t),!1;Us(i)},runATS:function(e){ue.identityLink&&ue.identityLink.runATS(e)},cookieMatching:fe,publisherAudiencesOptOut:function(e){ProperMedia.utils.deepAccess(ce,"a9.updateOptOut")&&ce.a9.updateOptOut(e)}}}((window,document));var proper_log=ProperMedia.ad_project.proper_log,proper_debug_console=ProperMedia.ad_project.proper_debug_console,proper_debug_overlay=ProperMedia.ad_project.proper_debug_overlay,proper_display=ProperMedia.ad_project.proper_display,proper_render=ProperMedia.ad_project.proper_render,disableSlotRefresh=ProperMedia.ad_project.disableSlotRefresh,logMatchingResponse=ProperMedia.ad_project.logMatchingResponse,properSpaNewPage=ProperMedia.ad_project.spaNewPage,properInfNewPage=ProperMedia.ad_project.infScrollNewPage,properBuildSlots=ProperMedia.ad_project.buildSlots,properDeleteSlot=ProperMedia.ad_project.deleteSlot,properDestroyDfpSlot=ProperMedia.ad_project.destroyDfpSlot,proper_remnant=ProperMedia.ad_project.proper_remnant,runATS=ProperMedia.ad_project.runATS,publisherAudiencesOptOut=ProperMedia.ad_project.publisherAudiencesOptOut;ProperMedia.ad_project.init();