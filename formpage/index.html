<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Survey Form</title>
  <meta name="description" content="Survey form for FreeCodeCamp Responsive Web Design Project">
  <meta name="author" content="FrancisMaile">

  <link rel="stylesheet" href="style.css">
	<!-- <script src="form-processor.js"></script> -->
<style>

</style>
</head>

<body>


	<div id="wrapper">
		<header>
			<h1 id="title">FreeCodeCamp Survey Form</h1>
			<p id="description">Thank you for helping us by filling in the survey.</p>
		</header>
		<form id="survey-form" action="">
			<div class="formElement">
				<label class="text-label" id="name-label" for="name">Your Name<div class="required">(Required)</div></label>
				<input value="me" id="name" type="text" name="name" placeholder="Please enter your name " required>
			</div>
		
			<div class="formElement">
				<label class="text-label" id="email-label" for="email">Your Email<div class="required">(Required)</div></label>
				<input value="me@mail.com" id="email" type="email" name="email" placeholder="Enter your email here " required>
			</div>
		
			<div class="formElement">
				<label class="text-label" id="number-label" for="number">How long have you been coding? </label>
				<input id="number" type="number" name="number" min="0" max="73" placeholder="Enter a number of years">
			</div>
			
			<div class="formElement">
				<label class="certificates-label" id="menu" for="dropdown">Are you currently working on a FreeCodeCamp Certificate?</label>
				<select id="dropdown" name="certificates">
					<option value="None"  selected >Not at this time.</option>
					<option value="Responsive Web Design Certification">Responsive Web Design Certification</option>
					<option value="JavaScript Algorithms and Data Structures Certification">JavaScript Algorithms and Data Structures Certification</option>
					<option value="Front End Development Libraries Certification">Front End Development Libraries Certification</option>
					<option value="Data Visualization Certification">Data Visualization Certification</option>
					<option value="APIs and Microservices Certification">APIs and Microservices Certification</option>
					<option value="Quality Assurance Certification">Quality Assurance Certification</option>
					<option value="Scientific Computing with Python Certification">Scientific Computing with Python Certification</option>
					<option value="Data Analysis with Python Certification">Data Analysis with Python Certification</option>
					<option value="Information Security Certification">Information Security Certification</option>
					<option value="Machine Learning with Python Certification">Machine Learning with Python Certification</option>
					<option value="Coding Interview Prep ">Coding Interview Prep (Thousands of hours of challenges)</option>
				</select>
			</div>
		
			<fieldset id="editor-choice">
				<legend id="editor-legend">Which editor do you prefer to use when coding?</legend>
				<ul id="editor-list">
					<li><input checked id="editor_Vim" type="radio" name="editor" value="Vim"><label class="radio-label" for="editor_Vim">Vim</label></li>
					<li><input id="editor_Emacs" type="radio" name="editor" value="Emacs"><label class="radio-label" for="editor_Emacs">Emacs</label></li>
					<li><input id="editor_VS_Code" type="radio" name="editor" value="VS Code"><label class="radio-label" for="editor_VS_Code">VS Code</label></li>
					<li><input id="editor_Sublime_Text" type="radio" name="editor" value="Sublime Text"><label class="radio-label" for="editor_Sublime_Text">Sublime Text</label></li>
					<li><input id="editor_Atom" type="radio" name="editor" value="Atom"><label class="radio-label" for="editor_Atom">Atom</label></li>
					<li><input id="editor_Notepad++" type="radio" name="editor" value="Notepad++"><label class="radio-label" for="editor_Notepad++">Notepad++</label></li>
					<li><input id="editor_CoffeeCup" type="radio" name="editor" value="CoffeeCup – The HTML Editor"><label class="radio-label" for="editor_CoffeeCup">CoffeeCup – The HTML Editor</label></li>
					<li><input id="editor_TextMate" type="radio" name="editor" value="TextMate"><label class="radio-label" for="editor_TextMate">TextMate</label></li>
					<li><input id="editor_UltraEdit" type="radio" name="editor" value="UltraEdit"><label class="radio-label" for="editor_UltraEdit">UltraEdit</label></li>
					<li><input id="editor_Coda" type="radio" name="editor" value="Coda"><label class="radio-label" for="editor_Coda">Coda</label></li>
					<li><input id="editor_BBEdit" type="radio" name="editor" value="BBEdit"><label class="radio-label" for="editor_BBEdit">BBEdit</label></li>
					<li><input id="editor_Komodo" type="radio" name="editor" value="Komodo Edit"><label class="radio-label" for="editor_Komodo">Komodo Edit</label></li>
					<li><input id="editor_Brackets" type="radio" name="editor" value="Brackets"><label class="radio-label" for="editor_Brackets">Brackets</label></li>
					<li><input id="editor_Other" type="radio" name="editor" value="Other"><label class="radio-label" for="editor_Other">Other (write in the comments field below)</label></li>
				</ul>
			</fieldset>
		
			<fieldset id="checkchoices">
				<legend id="webtech-legend">Which web technologies have you learned to date?</legend>
				<ul class="chckbx">
					<li><input id="webtech_HTML5" checked type="checkbox" name="webtech" value="HTML5"><label class="checkbox-label" for="webtech_HTML5">HTML5</label></li>
					<li><input id="webtech_CSS" checked type="checkbox" name="webtech" value="CSS"><label class="checkbox-label" for="webtech_CSS">CSS</label></li>
					<li><input id="webtech_Flexbox" checked type="checkbox" name="webtech" value="Flexbox"><label class="checkbox-label" for="webtech_Flexbox">Flexbox</label></li>
					<li><input id="webtech_Grid" type="checkbox" name="webtech" value="Grid"><label class="checkbox-label" for="webtech_Grid">Grid</label></li>
					<li><input id="webtech_Bootstrap" type="checkbox" name="webtech" value="Bootstrap"><label class="checkbox-label" for="webtech_Bootstrap">Bootstrap</label></li>
					<li><input id="webtech_SASS" type="checkbox" name="webtech" value="SASS"><label class="checkbox-label" for="webtech_SASS">SASS</label></li>
					<li><input id="webtech_JavaScript" type="checkbox" name="webtech" value="JavaScript"><label class="checkbox-label" for="webtech_JavaScript">JavaScript</label></li>
					<li><input id="webtech_ES6" type="checkbox" name="webtech" value="ES6"><label class="checkbox-label" for="webtech_ES6">ES6</label></li>
					<li><input id="webtech_OOP" type="checkbox" name="webtech" value="OOP"><label class="checkbox-label" for="webtech_OOP">OOP</label></li>
					<li><input id="webtech_React" type="checkbox" name="webtech" value="React"><label class="checkbox-label" for="webtech_React">React</label></li>
					<li><input id="webtech_Redux" type="checkbox" name="webtech" value="Redux"><label class="checkbox-label" for="webtech_Redux">Redux</label></li>
					<li><input id="webtech_NPM" type="checkbox" name="webtech" value="NPM"><label class="checkbox-label" for="webtech_NPM">NPM</label></li>
					<li><input id="webtech_Node and Express" type="checkbox" name="webtech" value="Node and Express"><label class="checkbox-label" for="webtech_Node">Node</label></li>
					<li><input id="webtech_MongoDB" type="checkbox" name="webtech" value="MongoDB and Mongoose"><label class="checkbox-label" for="webtech_MongoDB">MongoDB</label></li>
					<li><input id="webtech_JSON_APIs" type="checkbox" name="webtech" value="JSON APIs and AJAX"><label class="checkbox-label" for="webtech_JSON_APIs">APIs</label></li>
					<li><input id="webtech_APIs" type="checkbox" name="webtech" value="APIs and Microservices Projects"><label class="checkbox-label" for="webtech_APIs">APIs</label></li>
					<li><input id="webtech_Regex" type="checkbox" name="webtech" value="Regex"><label class="checkbox-label" for="webtech_Regex">Regex</label></li>
					<li><input id="webtech_jQuery" type="checkbox" name="webtech" value="jQuery"><label class="checkbox-label" for="webtech_jQuery">jQuery</label></li>
					<li><input id="webtech_Data_Visualization" type="checkbox" name="webtech" value="Data Visualization with D3"><label class="checkbox-label" for="webtech_Data_Visualization">Visualization</label></li>
					<li><input id="webtech_Python" type="checkbox" name="webtech" value="Python"><label class="checkbox-label" for="webtech_Python">Python</label></li>
				</ul>
			</fieldset>
		
			<div id="comments">
				<label class="comment-label">Any comments or suggestions?</label>
				<textarea id="usercomment" name="userComment" cols="60" rows="8"></textarea>
			</div>
			<p id="submit-button">
				<input type="submit" value="Submit Survey">
			</p>
			
		</form>
	</div> <!-- wrapper -->
	<a href="https://codepen.io/freeCodeCamp/full/VPaoNP">Project Example</a>

	<!-- response dialog -->
	<dialog id="response">
	<div id="results-wrapper">
			<div id="results" class="Dtable">
				<div id="name-label" class="Dtable-cell">name:</div>
				<div id="name-value" class="Dtable-cell"></div>
				<div id="email-label" class="Dtable-cell">email:</div>
				<div id="email-value" class="Dtable-cell"></div>
				<div id="number-label" class="Dtable-cell">number:</div>
				<div id="number-value" class="Dtable-cell"></div>
				<div id="certificates-label" class="Dtable-cell">certificates:</div>
				<div id="certificates-value" class="Dtable-cell"></div>
				<div id="editor-label" class="Dtable-cell">editor:</div>
				<div id="editor-value" class="Dtable-cell"></div>
				<div id="webtech-label" class="Dtable-cell">Web Tech:</div>
				<div id="webtech-value" class="Dtable-cell"></div>
				<div id="userComment-label" class="Dtable-cell">Your Comment:</div>
				<div id="userComment-value" class="Dtable-cell"></div>
			</div>
			<button id="dismiss" onClick="dialog.close();">OK</button>
	</div>
	</dialog>
	<!-- response dialog -->
<script>
	/********************************************************************
	* Just for fun, we're going to make any editor choice change to Vim
	* the first time they click their choice.
	********************************************************************/
	const radios = [...document.getElementsByClassName('radio-label')].forEach( radioBtn => {
			radioBtn.addEventListener('click', bestEditor, false);
		});
		
	let pranked = false;

	function bestEditor(e) {
			if(e.target.closest('li').firstChild.id === 'editor_Vim') return;
		const editorLegend = document.getElementById('editor-legend');
			console.log('Click on the radio button instead of the text label We\'re just having some fun.');
		if( e.target.textContent === "Vim" ) {
			editorLegend.textContent = "Awesome! You are one of us.";
		} else {
				if( pranked ) {
					editorLegend.textContent = "Sorry. My bad 😉";
						return;
				} else {
					editorLegend.textContent = "Awesome! You are one of us.";
				}
			pranked = !pranked;
			
				editorLegend.classList.add('alert');
			const alertTimerId = window.setTimeout(() => editorLegend.classList.remove('alert'), 3000);

				const vimItem = document.getElementById('editor_Vim').closest('li');
				const chosenItem = e.target.closest('li');
				const moveTo = e.target.closest('li').nextElementSibling;

				vimItem.before(chosenItem);
				const moveLi = () => moveTo.before(vimItem);
				setTimeout(moveLi, 0); // allow time to finish first move before moving second list item
				const uncheck = () => {
						chosenItem.firstChild.checked = false;
						vimItem.firstChild.checked = true;
					};
				setTimeout(uncheck, 0); // allow DOM reshuffling to finish before changing checked radio
		}
	}

/*
	Process form submission and display results
*/

	const dialog = document.getElementById('response');

	const getTheData = (e) => {
		e.preventDefault();
		const formData =  new FormData(e.target);
		const dataObj = {};
		for(const [key, value] of formData.entries()) {
			// console.log(key, value);
			if( dataObj[key] !== undefined ) {
				if( !Array.isArray(dataObj[key])) {
						dataObj[key] = [dataObj[key]];
				}
				dataObj[key].push(value);
			} else {
				dataObj[key] = value;
			}
		}

		for( property in dataObj ) {
			if( dataObj[property] !== '' ) {
				const elem = document.getElementById(property + '-value');
				if(Array.isArray(dataObj[property])) {
					elem.textContent = dataObj[property].join(', ');
				} else {
					elem.textContent = dataObj[property];
				}
			}
		}
			dialog.showModal()
} // getTheData
	
	const theForm = document.getElementById('survey-form')
	theForm.addEventListener('submit', getTheData);

/*
formData:
certificates: "None"
editor: "Vim"
email: "mymail@email.com"
languages: (12) ["HTML5", "CSS", "Flexbox", "Grid", "JavaScript", "ES6", "OOP", "React", "NPM", "Node and Express", "JSON APIs and AJAX", "Regex"]
name: "My Name"
number: "42"
userComment: "comment"
*/

</script>

</body>
</html>

